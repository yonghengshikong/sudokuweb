System.register("chunks:///_virtual/AItemRenderer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,a,n,r,c;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass},function(t){n=t.cclegacy,r=t._decorator,c=t.Component}],execute:function(){var i;n._RF.push({},"f4f6fjvpG5IFaohhOQRvPRQ","AItemRenderer",void 0);var s=r.ccclass;r.property,t("AItemRenderer",s("ItemRenderer")(i=function(t){function n(){for(var e,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).callback=void 0,e.cbThis=void 0,e.nowDataIdx=0,e._data=void 0,e}e(n,t);var r=n.prototype;return r.refreshData=function(){this.dataChanged()},r.registerCallback=function(t,e){this.callback=t,this.cbThis=e},r.emitCallback=function(){this.callback&&this.callback.call(this.cbThis,this._data)},a(n,[{key:"data",get:function(){return this._data},set:function(t){this._data=t,this.dataChanged()}}]),n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/Ambilight.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,a,n,o,s,c,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,s=t._decorator,c=t.CCInteger,p=t.Sprite,l=t.Component}],execute:function(){var u,h,m,_,f;o._RF.push({},"73c69GH9M9F2Ilsm0fvjTCX","Ambilight",void 0);var y=s.ccclass,g=s.property;t("Ambilight",(u=y("Ambilight"),h=g(c),u((f=e((_=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,r(e,"_max",f,a(e)),e._start=0,e._material=void 0,e}i(e,t);var o=e.prototype;return o.update=function(t){this._material=this.node.getComponent(p).getMaterial(0),this.node.active&&this._material&&this._setShaderTime(t)},o._setShaderTime=function(t){var e=this._start;e>this.max&&(e=0),e+=.015,this._material.setProperty("speed",e),this._start=e},n(e,[{key:"max",get:function(){return this._max},set:function(t){this._max=t}}]),e}(l)).prototype,"_max",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(_.prototype,"max",[h],Object.getOwnPropertyDescriptor(_.prototype,"max"),_.prototype),m=_))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(t){var i,n,a,s,e;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,s=t.Animation},function(t){e=t.default}],execute:function(){var o;n._RF.push({},"64571Qy/TlCEZI/28RxIG+E","AnimatorAnimation",void 0);var h=a.ccclass,r=(a.property,a.requireComponent),m=a.disallowMultiple,p=a.menu,l=a.help;t("default",h(o=m(o=r(s)(o=p("OopsFramework/Animator/AnimatorAnimation （动画状态机）")(o=l("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565")(o=function(t){function n(){for(var i,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(i=t.call.apply(t,[this].concat(a))||this)._animation=null,i._animState=null,i._wrapModeMap=new Map,i}i(n,t);var a=n.prototype;return a.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._animation=this.getComponent(s),this._animation.on(s.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(s.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},a.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._animation=this.getComponent(s),this._animation.on(s.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(s.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},a.playAnimation=function(t,i){t&&(this._animation.play(t),this._animState=this._animation.getState(t),this._animState&&(this._wrapModeMap.has(this._animState)||this._wrapModeMap.set(this._animState,this._animState.wrapMode),this._animState.wrapMode=i?2:this._wrapModeMap.get(this._animState)))},a.scaleTime=function(t){this._animState&&(this._animState.speed=t)},n}(e))||o)||o)||o)||o)||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorController.ts"],(function(t){var a,n,e,i,o,r,s,c,u,l;return{setters:[function(t){a=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.JsonAsset,u=t.Component},function(t){l=t.default}],execute:function(){var p,h,m,f,g,_,y,d,A,b;r._RF.push({},"7ff14NOug1NAIB1XgQlC9Gc","AnimatorBase",void 0);var v=s.ccclass,S=s.property,C=s.executionOrder,M=s.menu;t("default",(p=C(-1e3),h=M("animator/AnimatorBase"),m=S({type:c,tooltip:"状态机json文件"}),f=S({tooltip:"是否在start中自动启动状态机"}),g=S({tooltip:"是否在update中自动触发状态机逻辑更新"}),v(_=p(_=h((d=a((y=function(t){function a(){for(var a,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return a=t.call.apply(t,[this].concat(o))||this,e(a,"AssetRawUrl",d,i(a)),e(a,"PlayOnStart",A,i(a)),e(a,"AutoUpdate",b,i(a)),a._hasInit=!1,a._ac=null,a._stateLogicMap=null,a._onStateChangeCall=null,a._animationPlayer=null,a}n(a,t);var r=a.prototype;return r.onFrameEvent=function(t){var a;null==(a=this._animationPlayer)||a.onFrameEventCallback(t,this)},r.getState=function(t){return this._ac.states.get(t)},r.onInit=function(){},r.initArgs=function(){for(var t=this,a=arguments.length,n=new Array(a),e=0;e<a;e++)n[e]=arguments[e];n.forEach((function(a){a&&("function"==typeof a?t._onStateChangeCall=a:"object"==typeof a&&(a instanceof Map?t._stateLogicMap=a:t._animationPlayer=a))}))},r.updateAnimator=function(){var t,a=this._ac.curState.speed;this._ac.curState.multi&&(a*=null!=(t=this._ac.params.getNumber(this._ac.curState.multi))?t:1);if(this.scaleTime(a),this._stateLogicMap){var n=this._stateLogicMap.get(this._ac.curState.name);n&&n.onUpdate()}this._ac.updateAnimator()},r.update=function(){this._hasInit&&this.AutoUpdate&&this.updateAnimator()},r.manualUpdate=function(){this._hasInit&&!this.AutoUpdate&&this.updateAnimator()},r.initJson=function(t){this._ac=new l(this,t)},r.onAnimFinished=function(){var t;this._ac.onAnimationComplete(),null==(t=this._animationPlayer)||t.onFinishedCallback(this)},r.playAnimation=function(t,a){},r.scaleTime=function(t){},r.onStateChange=function(t,a){this.playAnimation(a.motion,a.loop);var n=t?t.name:"";if(this._stateLogicMap){var e=this._stateLogicMap.get(n);e&&e.onExit();var i=this._stateLogicMap.get(a.name);i&&i.onEntry()}this._onStateChangeCall&&this._onStateChangeCall(n,a.name)},r.setBool=function(t,a){this._ac.params.setBool(t,a)},r.getBool=function(t){return 0!==this._ac.params.getBool(t)},r.setNumber=function(t,a){this._ac.params.setNumber(t,a)},r.getNumber=function(t){return this._ac.params.getNumber(t)},r.setTrigger=function(t){this._ac.params.setTrigger(t)},r.resetTrigger=function(t){this._ac.params.resetTrigger(t)},r.autoTrigger=function(t){this._ac.params.autoTrigger(t)},r.play=function(t){this._hasInit&&this._ac.play(t)},o(a,[{key:"curStateName",get:function(){return this._ac.curState.name}},{key:"curStateMotion",get:function(){return this._ac.curState.motion}}]),a}(u)).prototype,"AssetRawUrl",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=a(y.prototype,"PlayOnStart",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=a(y.prototype,"AutoUpdate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=y))||_)||_)||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorCondition.ts",["cc"],(function(t){var a,r;return{setters:[function(t){a=t.cclegacy,r=t.error}],execute:function(){a._RF.push({},"8ade2h2C/ZA86thhI0NNuqu","AnimatorCondition",void 0);var e=t("ParamType",function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.BOOLEAN=1]="BOOLEAN",t[t.NUMBER=2]="NUMBER",t[t.TRIGGER=3]="TRIGGER",t[t.AUTO_TRIGGER=4]="AUTO_TRIGGER",t}({})),i=t("LogicType",function(t){return t[t.EQUAL=0]="EQUAL",t[t.NOTEQUAL=1]="NOTEQUAL",t[t.GREATER=2]="GREATER",t[t.LESS=3]="LESS",t[t.GREATER_EQUAL=4]="GREATER_EQUAL",t[t.LESS_EQUAL=5]="LESS_EQUAL",t}({}));t("default",function(){function t(t,a){this._ac=void 0,this._param="",this._value=0,this._logic=i.EQUAL,this._ac=a,this._param=t.param,this._value=t.value,this._logic=t.logic}var a=t.prototype;return a.getParamName=function(){return this._param},a.getParamType=function(){return this._ac.params.getParamType(this._param)},a.check=function(){var t=this.getParamType();if(t===e.BOOLEAN)return this._ac.params.getBool(this._param)===this._value;if(t!==e.NUMBER)return t===e.AUTO_TRIGGER?0!==this._ac.params.getAutoTrigger(this._param):t===e.TRIGGER?0!==this._ac.params.getTrigger(this._param):(r("[AnimatorCondition.check] 错误的type: "+t),!1);var a=this._ac.params.getNumber(this._param);switch(this._logic){case i.EQUAL:return a===this._value;case i.NOTEQUAL:return a!==this._value;case i.GREATER:return a>this._value;case i.LESS:return a<this._value;case i.GREATER_EQUAL:return a>=this._value;case i.LESS_EQUAL:return a<=this._value;default:return!1}},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorParams.ts","./AnimatorState.ts"],(function(t){var e,a,n,s,i;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy,n=t.error},function(t){s=t.default},function(t){i=t.default}],execute:function(){a._RF.push({},"01df9SMBjRCyYDE7SgbZxua","AnimatorController",void 0);t("default",function(){function t(t,e){this._jsonData=null,this._animator=null,this._params=null,this._states=null,this._anyState=null,this._curState=null,this._changeCount=0,this.animCompleteState=null,this.animComplete=!1,this._animator=t,this._jsonData=e,this._states=new Map,this._params=new s(e.parameters),this.init(e)}var a=t.prototype;return a.init=function(t){if(t.states.length<=0)n("[AnimatorController.init] 状态机json错误");else{var e=t.defaultState;this._anyState=new i(t.anyState,this);for(var a=0;a<t.states.length;a++){var s=new i(t.states[a],this);this._states.set(s.name,s)}this.changeState(e)}},a.updateState=function(){this._curState.checkAndTrans(),this._curState!==this._anyState&&null!==this._anyState&&this._anyState.checkAndTrans()},a.updateAnimator=function(){this._changeCount=0,this.updateState(),this.animComplete&&this.animCompleteState.loop&&(this.animComplete=!1),this.params.resetAllAutoTrigger()},a.onAnimationComplete=function(){this.animComplete=!0,this.animCompleteState=this._curState},a.play=function(t){this._states.has(t)&&this._curState.name!==t&&(this.animComplete=!1,this.changeState(t))},a.changeState=function(t){if(this._changeCount++,this._changeCount>1e3)n("[AnimatorController.changeState] error: 状态切换递归调用超过1000次，transition设置可能出错!");else if(!this._states.has(t)||null!==this._curState&&this._curState.name===t)n("[AnimatorController.changeState] error state: "+t);else{var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},e(t,[{key:"curState",get:function(){return this._curState}},{key:"params",get:function(){return this._params}},{key:"states",get:function(){return this._states}}]),t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorCustomization.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(i){var t,n,a,e,o,r,s;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,a=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator},function(i){s=i.default}],execute:function(){var l,c,u,p,h,m;o._RF.push({},"fe7aemTdvFBeJlAmC+6XphU","AnimatorCustomization",void 0);var f=r.ccclass,y=r.property,d=r.disallowMultiple,A=r.menu,_=r.help;i("default",(l=A("OopsFramework/Animator/AnimatorCustomization （自定义状态机）"),c=_("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565"),u=y({override:!0,visible:!1}),f(p=d(p=l(p=c((m=t((h=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=i.call.apply(i,[this].concat(o))||this,a(t,"PlayOnStart",m,e(t)),t}n(t,i);var o=t.prototype;return o.onInit=function(){this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},o.playAnimation=function(i,t){this._animationPlayer&&i&&this._animationPlayer.playAnimation(i,t)},o.scaleTime=function(i){this._animationPlayer&&this._animationPlayer.scaleTime(i)},t}(s)).prototype,"PlayOnStart",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=h))||p)||p)||p)||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorDragonBones.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(t){var n,s,i,o,e;return{setters:[function(t){n=t.inheritsLoose},function(t){s=t.cclegacy,i=t._decorator,o=t.dragonBones},function(t){e=t.default}],execute:function(){var a;s._RF.push({},"dc324J03ptB8b2JV9Ljduzh","AnimatorDragonBones",void 0);var r=i.ccclass,h=(i.property,i.requireComponent),l=i.disallowMultiple,c=i.menu,u=i.help;t("default",r(a=l(a=h(o.ArmatureDisplay)(a=c("OopsFramework/Animator/AnimatorDragonBones （龙骨状态机）")(a=u("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565")(a=function(t){function s(){for(var n,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._dragonBones=null,n}n(s,t);var i=s.prototype;return i.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._dragonBones=this.getComponent(o.ArmatureDisplay),this._dragonBones.addEventListener("complete",this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._dragonBones=this.getComponent(o.ArmatureDisplay),this._dragonBones.addEventListener("complete",this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.playAnimation=function(t,n){t&&this._dragonBones.playAnimation(t,n?0:-1)},i.scaleTime=function(t){t>0&&(this._dragonBones.timeScale=t)},s}(e))||a)||a)||a)||a)||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorParams.ts",["cc","./AnimatorCondition.ts"],(function(t){var a,e;return{setters:[function(t){a=t.cclegacy},function(t){e=t.ParamType}],execute:function(){a._RF.push({},"13926xryDRPXJ50lCnLvy4J","AnimatorParams",void 0);t("default",function(){function t(t){var a=this;this._paramMap=new Map,t.forEach((function(t){var e={type:t.type,value:t.init};a._paramMap.set(t.param,e)}))}var a=t.prototype;return a.getParamType=function(t){var a=this._paramMap.get(t);return a?a.type:null},a.setNumber=function(t,a){var r=this._paramMap.get(t);r&&r.type===e.NUMBER&&(r.value=a)},a.setBool=function(t,a){var r=this._paramMap.get(t);r&&r.type===e.BOOLEAN&&(r.value=a?1:0)},a.setTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.TRIGGER&&(a.value=1)},a.resetTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.TRIGGER&&(a.value=0)},a.autoTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.AUTO_TRIGGER&&(a.value=1)},a.resetAutoTrigger=function(t){var a=this._paramMap.get(t);a&&a.type===e.AUTO_TRIGGER&&(a.value=0)},a.resetAllAutoTrigger=function(){this._paramMap.forEach((function(t,a){t.type===e.AUTO_TRIGGER&&(t.value=0)}))},a.getNumber=function(t){var a=this._paramMap.get(t);return a&&a.type===e.NUMBER?a.value:0},a.getBool=function(t){var a=this._paramMap.get(t);return a&&a.type===e.BOOLEAN?a.value:0},a.getTrigger=function(t){var a=this._paramMap.get(t);return a&&a.type===e.TRIGGER?a.value:0},a.getAutoTrigger=function(t){var a=this._paramMap.get(t);return a&&a.type===e.AUTO_TRIGGER?a.value:0},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorSkeletal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorAnimation.ts"],(function(t){var i,e,a,n,o,r,s,l,c,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.SkeletalAnimation,l=t.CCFloat,c=t.game},function(t){u=t.default}],execute:function(){var p,m,h,d,_,f,S;o._RF.push({},"8c545jBn4xF7LWXjl506avi","AnimatorSkeletal",void 0);var y=r.ccclass,g=r.property,w=r.requireComponent,A=r.disallowMultiple,k=r.menu,v=r.help;t("AnimatorSkeletal",(p=w(s),m=k("OopsFramework/Animator/AnimatorSkeletal （骨骼动画状态机）"),h=v("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565"),d=g({type:l,tooltip:"动画切换过度时间"}),y(_=A(_=p(_=m(_=h((S=i((f=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,a(i,"duration",S,n(i)),i.cross_duration=0,i.current_time=0,i}e(i,t);var o=i.prototype;return o.onLoad=function(){this.cross_duration=1e3*this.duration},o.playAnimation=function(t,i){t&&(c.totalTime-this.current_time>this.cross_duration?this._animation.crossFade(t,this.duration):this._animation.play(t),this.current_time=c.totalTime,this._animState=this._animation.getState(t),this._animState&&(this._wrapModeMap.has(this._animState)||this._wrapModeMap.set(this._animState,this._animState.wrapMode),this._animState.wrapMode=i?2:1))},i}(u)).prototype,"duration",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),_=f))||_)||_)||_)||_)||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorSpine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorBase.ts"],(function(t){var e,n,i,s,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,s=t.sp},function(t){o=t.default}],execute:function(){var a;n._RF.push({},"7fde8yJEfxMMqzjg+V4UVkT","AnimatorSpine",void 0);var r=i.ccclass,p=(i.property,i.requireComponent),l=i.disallowMultiple,h=i.menu,c=i.help;t("default",r(a=l(a=p(s.Skeleton)(a=h("OopsFramework/Animator/AnimatorSpine（Spine 状态机）")(a=c("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565")(a=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._spine=null,e._completeListenerMap=new Map,e._secondaryListenerMap=new Map,e}e(n,t);var i=n.prototype;return i.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(s.Skeleton),this._spine.setEventListener(this.onSpineEvent.bind(this)),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._spine=this.getComponent(s.Skeleton),this._spine.setEventListener(this.onSpineEvent.bind(this)),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},i.getBone=function(t){return this._spine.findBone(t)},i.onSpineEvent=function(t,e){var n,i=t.animation?e.data.name:"";null==(n=this._animationPlayer)||n.onFrameEventCallback(i,this)},i.onSpineComplete=function(t){0===t.trackIndex&&this.onAnimFinished(),this._completeListenerMap.forEach((function(e,n){e?n.call(e,t):n(t)})),this._secondaryListenerMap.forEach((function(e,n){t.trackIndex===e.TrackIndex&&n.call(e,t)}))},i.playAnimation=function(t,e){t?this._spine.setAnimation(0,t,e):this._spine.clearTrack(0)},i.scaleTime=function(t){t>0&&(this._spine.timeScale=t)},i.addSecondaryListener=function(t,e){this._secondaryListenerMap.set(t,e)},i.addCompleteListener=function(t,e){void 0===e&&(e=null),this._completeListenerMap.has(t)||this._completeListenerMap.set(t,e)},i.removeCompleteListener=function(t){this._completeListenerMap.delete(t)},i.clearCompleteListener=function(){this._completeListenerMap.clear},n}(o))||a)||a)||a)||a)||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorSpineSecondary.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorSpine.ts","./AnimatorBase.ts"],(function(t){var i,n,e,s,o,r,a,h,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.sp},function(t){h=t.default},function(t){l=t.default}],execute:function(){var c,p,u,d,m,f,_;o._RF.push({},"e47112s9c9Kwo8XQQ4KSW0c","AnimatorSpineSecondary",void 0);var y=r.ccclass,A=r.property,S=r.requireComponent,g=r.menu,k=r.help;t("default",(c=S(a.Skeleton),p=g("OopsFramework/Animator/AnimatorSpine （Spine 次状态机）"),u=k("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12036279&doc_id=2873565"),d=A({tooltip:"动画播放的trackIndex，必须大于0"}),y(m=c(m=p(m=u((_=i((f=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,e(i,"TrackIndex",_,s(i)),i._main=null,i._spine=null,i}n(i,t);var o=i.prototype;return o.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(a.Skeleton),this._main=this.getComponent(h),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},o.onInit=function(){this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,arguments),this._spine=this.getComponent(a.Skeleton),this._main=this.getComponent(h),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},o.playAnimation=function(t,i){t?this._spine.setAnimation(this.TrackIndex,t,i):this._spine.clearTrack(this.TrackIndex)},i}(l)).prototype,"TrackIndex",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),m=f))||m)||m)||m)||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimatorTransition.ts"],(function(t){var i,n,e;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy},function(t){e=t.default}],execute:function(){n._RF.push({},"bd2d1/E71JL1Jj3HzsYH82H","AnimatorState",void 0);t("default",function(){function t(t,i){this._name="",this._motion="",this._loop=!1,this._speed=1,this._multi="",this._transitions=[],this._ac=null,this._name=t.state,this._motion=t.motion||"",this._loop=t.loop||!1,this._speed=t.speed||1,this._multi=t.multiplier||"",this._ac=i;for(var n=0;n<t.transitions.length;n++){var s=new e(t.transitions[n],i);s.isValid()&&this._transitions.push(s)}}return t.prototype.checkAndTrans=function(){for(var t=0;t<this._transitions.length;t++){var i=this._transitions[t];if(i&&i.check())return void i.doTrans()}},i(t,[{key:"name",get:function(){return this._name}},{key:"motion",get:function(){return this._motion}},{key:"loop",get:function(){return this._loop}},{key:"multi",get:function(){return this._multi}},{key:"speed",get:function(){return this._speed},set:function(t){this._speed=t}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorStateLogic.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"b06fbd3UdNKvooAUeDi9UTc","AnimatorStateLogic",void 0);t("AnimatorStateLogic",function(){function t(){}var n=t.prototype;return n.onEntry=function(){},n.onUpdate=function(){},n.onExit=function(){},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatorTransition.ts",["cc","./AnimatorCondition.ts"],(function(t){var i,n,e;return{setters:[function(t){i=t.cclegacy},function(t){n=t.ParamType,e=t.default}],execute:function(){i._RF.push({},"39224xRIkpEG7hvPJlKoGDy","AnimatorTransition",void 0);t("default",function(){function t(t,i){this._toStateName="",this._hasExitTime=!1,this._conditions=[],this._ac=null,this._toStateName=t.toState,this._hasExitTime=t.hasExitTime,this._ac=i;for(var n=0;n<t.conditions.length;n++){var a=new e(t.conditions[n],i);this._conditions.push(a)}}var i=t.prototype;return i.isValid=function(){return this._hasExitTime||this._conditions.length>0},i.check=function(){if(this._toStateName===this._ac.curState.name)return!1;if(this._hasExitTime&&(this._ac.curState!==this._ac.animCompleteState||!this._ac.animComplete))return!1;for(var t=0;t<this._conditions.length;t++)if(!this._conditions[t].check())return!1;return!0},i.doTrans=function(){this._hasExitTime&&(this._ac.animComplete=!1);for(var t=0;t<this._conditions.length;t++){var i=this._conditions[t].getParamType(),e=this._conditions[t].getParamName();i===n.TRIGGER?this._ac.params.resetTrigger(e):i===n.AUTO_TRIGGER&&this._ac.params.resetAutoTrigger(e)}this._ac.changeState(this._toStateName)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/AppSettings.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"32128hObtVCCr4ukqnHx9Se","AppSettings",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayExt.ts",["cc"],(function(){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"2696fVV0U1BcotwtuSW7qe9","ArrayExt",void 0),!Array.prototype.__cc_extended&&Object.defineProperties(Array.prototype,{remove:{value:function(t){if("function"==typeof t)for(var r=this.length-1;r>-1;--r)t(this[r],r,this)&&this.splice(r,1);else for(var n=this.length-1;n>-1;--n)this[n]===t&&this.splice(n,1);return this}},removeOne:{value:function(t){if("function"==typeof t){for(var r=0;r<this.length;++r)if(t(this[r],r,this))return this.splice(r,1),this}else for(var n=0;n<this.length;++n)if(this[n]===t)return this.splice(n,1),this;return this}},random:{value:function(){return this[Math.floor(Math.random()*this.length)]}},fastRemoveAt:{value:function(t){var r=this.length;if(t<0||t>=r)return null;var n=this[t];return this[t]=this[r-1],this.length=r-1,n}},fastRemove:{value:function(t){function r(r){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}((function(t){var r=this.indexOf(t);return r>=0&&(this[r]=this[this.length-1],--this.length,!0)}))},first:{value:function(){return this.length?this[0]:null}},last:{value:function(){return this.length?this[this.length-1]:null}},max:{value:function(t){if(!this.length)return null;if("function"==typeof t){for(var r=t(this[0],0,this),n=1;n<this.length;++n){var i=t(this[n],n,this);r=i>r?i:r}return r}return this.reduce((function(t,r){return(n=t)>(i=r)?n:i;var n,i}))}},min:{value:function(t){if(!this.length)return null;if("function"==typeof t){for(var r=t(this[0],0,this),n=1;n<this.length;++n){var i=t(this[n],n,this);r=i<r?i:r}return r}return this.reduce((function(t,r){return(n=t)<(i=r)?n:i;var n,i}))}},distinct:{value:function(){return this.filter((function(t,r,n){return n.indexOf(t)===r}))}},filterIndex:{value:function(t){for(var r=[],n=0;n<this.length;++n)t(this[n],n,this)&&r.push(n);return r}},count:{value:function(t){for(var r=0,n=0;n<this.length;++n)t(this[n],n,this)&&++r;return r}},sum:{value:function(t){for(var r=0,n=0;n<this.length;++n)r+=t?t(this[n],n,this):this[n];return r}},average:{value:function(t){return this.sum(t)/this.length}},orderBy:{value:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.slice().sort((function(r,n){for(var i=0;i<t.length;++i){var e=t[i](r),u=t[i](n);if(e>u)return 1;if(e<u)return-1}return 0}))}},orderByDesc:{value:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return this.slice().sort((function(r,n){for(var i=0;i<t.length;++i){var e=t[i](r),u=t[i](n);if(e>u)return-1;if(e<u)return 1}return 0}))}},binarySearch:{value:function(t){function r(r,n){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}((function(t,r){for(var n=0,i=this.length-1;n<=i;){var e=(i+n)/2|0,u=r?r(this[e]):this[e];if(t===u)return e;t>u?n=e+1:t<u&&(i=e-1)}return-1}))},binaryInsert:{value:function(t,r,n){"boolean"==typeof r&&(n=r,r=void 0);for(var i=0,e=this.length-1,u=NaN,h=r?r(t):t;i<=e;){u=(e+i)/2|0;var s=r?r(this[u]):this[u];if(h===s){if(n)return u;break}h>s?i=u+1:h<s&&(e=u-1)}var f=i>u?u+1:u;return this.splice(f,0,t),f}},binaryDistinct:{value:function(t){return this.filter((function(r,n,i){return i.binarySearch(r,t)===n}))}},findLast:{value:function(t){for(var r=this.length-1;r>-1;--r)if(t(this[r],r,this))return this[r]}},findLastIndex:{value:function(t){for(var r=this.length-1;r>-1;--r)if(t(this[r],r,this))return r;return-1}},groupBy:{value:function(t){var r=this.reduce((function(r,n){var i=t(n);return r[i]||(r[i]=[]),r[i].push(n),r}),{});return Object.keys(r).map((function(t){var n=r[t];return n.key=t,n}))}},__cc_extended:{value:!0}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc"],(function(r){var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"4613b2zY/dMSaGPBGo6eti3","ArrayUtil",void 0);r("ArrayUtil",function(){function r(){}return r.noRepeated=function(r){for(var n=[r[0]],t=1;t<r.length;t++){for(var e=!1,o=0;o<n.length;o++)if(r[t]==n[o]){e=!0;break}e||n.push(r[t])}return n},r.copy2DArray=function(r){for(var n=[],t=0;t<r.length;t++)n.push(r[t].concat());return n},r.fisherYatesShuffle=function(r){for(var n=r.length;n;){var t=Math.floor(Math.random()*n--),e=r[n];r[n]=r[t],r[t]=e}return r},r.confound=function(r){return r.slice().sort((function(){return Math.random()-.5}))},r.flattening=function(r){for(;r.some((function(r){return Array.isArray(r)}));)r=[].concat.apply([],r);return r},r.removeItem=function(r,n){for(var t=r.concat(),e=0;e<t.length;e++){if(n==t[e]){r.splice(e,1);break}}},r.combineArrays=function(r,n){return[].concat(r,n)},r.getRandomValueInArray=function(r){return r[Math.floor(Math.random()*r.length)]},r}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncQueue.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(s){var n,i,e,u;return{setters:[function(s){n=s.createClass},function(s){i=s.cclegacy,e=s.warn,u=s.log}],execute:function(){i._RF.push({},"8c48bBN521JzIxhITJunFji","AsyncQueue",void 0),s("AsyncQueue",function(){function s(){this._runningAsyncTask=null,this._queues=[],this._isProcessingTaskUUID=0,this._enable=!0,this.complete=null}var i=s.prototype;return i.push=function(n,i){void 0===i&&(i=null);var e=s._$uuid_count++;return this._queues.push({uuid:e,callbacks:[n],params:i}),e},i.pushMulti=function(n){for(var i=s._$uuid_count++,e=arguments.length,u=new Array(e>1?e-1:0),t=1;t<e;t++)u[t-1]=arguments[t];return this._queues.push({uuid:i,callbacks:u,params:n}),i},i.remove=function(s){var n;if((null==(n=this._runningAsyncTask)?void 0:n.uuid)!==s){for(var i=0;i<this._queues.length;i++)if(this._queues[i].uuid===s){this._queues.splice(i,1);break}}else e("正在执行的任务不可以移除")},i.clear=function(){this._queues=[],this._isProcessingTaskUUID=0,this._runningAsyncTask=null},i.step=function(){this.isProcessing&&this.next(this._isProcessingTaskUUID)},i.play=function(s){var n=this;if(void 0===s&&(s=null),!this.isProcessing&&this._enable){var i=this._queues.shift();if(i){this._runningAsyncTask=i;var e=i.uuid;this._isProcessingTaskUUID=e;var u=i.callbacks;if(1==u.length){u[0]((function(s){void 0===s&&(s=null),n.next(e,s)}),i.params,s)}else for(var t=u.length,r=[],c=function(s){void 0===s&&(s=null),--t,r.push(s||null),0===t&&n.next(e,r)},l=t,a=0;a<l;a++)u[a](c,i.params,s)}else this._isProcessingTaskUUID=0,this._runningAsyncTask=null,this.complete&&this.complete(s)}},i.yieldTime=function(s,n){void 0===n&&(n=null);this.push((function(i,e,u){var t=setTimeout((function(){clearTimeout(t),n&&n(),i(u)}),s)}),{des:"AsyncQueue.yieldTime"})},i.next=function(s,n){void 0===n&&(n=null),this._isProcessingTaskUUID===s?(this._isProcessingTaskUUID=0,this._runningAsyncTask=null,this.play(n)):this._runningAsyncTask&&u(this._runningAsyncTask)},s.excuteTimes=function(s,n){void 0===n&&(n=null);var i=s;return function(){0===--i&&n&&n()}},n(s,[{key:"queues",get:function(){return this._queues}},{key:"enable",get:function(){return this._enable},set:function(s){this._enable!==s&&(this._enable=s,s&&this.size>0&&this.play())}},{key:"size",get:function(){return this._queues.length}},{key:"isProcessing",get:function(){return this._isProcessingTaskUUID>0}},{key:"isStop",get:function(){return!(this._queues.length>0)&&!this.isProcessing}},{key:"runningParams",get:function(){return this._runningAsyncTask?this._runningAsyncTask.params:null}}]),s}())._$uuid_count=1,i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,c;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,c=t.AudioSource}],execute:function(){var i;e._RF.push({},"e52d2ysY1BEbpcT2Cz0Wwss","AudioEffect",void 0);var r=n.ccclass;t("AudioEffect",r("AudioEffect")(i=function(t){function e(){for(var o,e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return(o=t.call.apply(t,[this].concat(n))||this).onComplete=null,o}o(e,t);var n=e.prototype;return n.start=function(){this.node.on(c.EventType.ENDED,this.onAudioEnded,this)},n.onAudioEnded=function(){this.onComplete&&this.onComplete()},e}(c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEffectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ResLoader.ts","./AudioEffect.ts"],(function(e){var t,n,o,s,i,c,r,u,f,a;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,i=e.AudioClip,c=e.NodePool,r=e.Node},function(e){u=e.oops},function(e){f=e.resLoader},function(e){a=e.AudioEffect}],execute:function(){s._RF.push({},"01278BDjrtCr4CBpmO5DZlN","AudioEffectPool",void 0);e("AudioEffectPool",function(){function e(){this._switch=!0,this._volume=1,this.pool=new c,this.effects=new Map,this.res=new Map,this._aeId=0}var s=e.prototype;return s.getAeId=function(){return 3e4==this._aeId&&(this._aeId=1),this._aeId++,this._aeId},s.load=function(){var e=n(o().mark((function e(t,s,c){var h=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s=f.defaultBundleName),e.abrupt("return",new Promise(n(o().mark((function e(n,l){var p,d,v,m,_;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.switch){e.next=2;break}return e.abrupt("return",n(-1));case 2:if(p=h.getAeId(),d=t instanceof i?t.uuid:s+"_"+t,d+="_"+p,!(t instanceof i)){e.next=9;break}v=t,e.next=15;break;case 9:if(v=f.get(t,i,s)){e.next=15;break}return h.res.set(s,t),e.next=14,f.loadAsync(s,t,i);case 14:v=e.sent;case 15:_=null,0==h.pool.size()?((_=new r).name="AudioEffect",_.parent=u.audio.node,m=_.addComponent(a)):(_=h.pool.get(),m=_.getComponent(a)),m.onComplete=function(){h.put(p,t,s),c&&c()},h.effects.set(d,m),m.volume=h.volume,m.clip=v,m.play(),n(p);case 23:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),s.put=function(e,t,n){var o;void 0===n&&(n=f.defaultBundleName),o=t instanceof i?t.uuid:n+"_"+t,o+="_"+e;var s=this.effects.get(o);s&&s.clip&&(this.effects.delete(o),s.stop(),this.pool.put(s.node))},s.release=function(){this.effects.forEach((function(e){e.node.destroy()})),this.effects.clear(),this.res.forEach((function(e,t){f.release(t,e)})),this.pool.clear()},s.stop=function(){this.effects.forEach((function(e){e.stop()}))},s.play=function(){this.switch&&this.effects.forEach((function(e){e.play()}))},s.pause=function(){this.switch&&this.effects.forEach((function(e){e.pause()}))},t(e,[{key:"switch",get:function(){return this._switch},set:function(e){this._switch=e,e&&this.stop()}},{key:"volume",get:function(){return this._volume},set:function(e){this._volume=e,this.effects.forEach((function(t){t.volume=e}))}}]),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./AudioEffectPool.ts","./AudioMusic.ts"],(function(t){var s,i,e,c,u,o,n;return{setters:[function(t){s=t.inheritsLoose,i=t.createClass},function(t){e=t.cclegacy,c=t.Component},function(t){u=t.oops},function(t){o=t.AudioEffectPool},function(t){n=t.AudioMusic}],execute:function(){e._RF.push({},"252f0z+vPNL8Y/jsLYmomtw","AudioManager",void 0);var h="game_audio";t("AudioManager",function(t){function e(){for(var s,i=arguments.length,e=new Array(i),c=0;c<i;c++)e[c]=arguments[c];return(s=t.call.apply(t,[this].concat(e))||this).music=null,s.effect=new o,s.local_data={},s}s(e,t);var c=e.prototype;return c.setMusicComplete=function(t){void 0===t&&(t=null),this.music.onComplete=t},c.playMusic=function(t,s,i){this.music.switch&&(this.music.loop=!1,this.music.load(t,s,i).then())},c.playMusicLoop=function(t,s){this.music.switch&&(this.music.loop=!0,this.music.load(t,null,s).then())},c.stopMusic=function(){this.music.switch&&this.music.playing&&this.music.stop()},c.playEffect=function(t,s,i){return this.effect.load(t,s,i)},c.putEffect=function(t,s,i){this.effect.put(t,s,i)},c.resumeAll=function(){!this.music.playing&&this.music.progress>0&&this.music.play(),this.effect.play()},c.pauseAll=function(){this.music.playing&&this.music.pause(),this.effect.pause()},c.stopAll=function(){this.music.stop(),this.effect.stop()},c.save=function(){this.local_data.volume_music=this.music.volume,this.local_data.volume_effect=this.effect.volume,this.local_data.switch_music=this.music.switch,this.local_data.switch_effect=this.effect.switch,u.storage.set(h,this.local_data)},c.load=function(){if(this.music=this.getComponent(n)||this.addComponent(n),this.local_data=u.storage.getJson(h),this.local_data)try{this.setState()}catch(t){this.setStateDefault()}else this.setStateDefault()},c.setState=function(){this.music.volume=this.local_data.volume_music,this.effect.volume=this.local_data.volume_effect,this.music.switch=this.local_data.switch_music,this.effect.switch=this.local_data.switch_effect},c.setStateDefault=function(){this.local_data={},this.music.volume=1,this.effect.volume=1,this.music.switch=!0,this.effect.switch=!0},i(e,[{key:"progressMusic",get:function(){return this.music.progress},set:function(t){this.music.progress=t}},{key:"volumeMusic",get:function(){return this.music.volume},set:function(t){this.music.volume=t,this.save()}},{key:"switchMusic",get:function(){return this.music.switch},set:function(t){this.music.switch=t,t||this.music.stop(),this.save()}},{key:"volumeEffect",get:function(){return this.effect.volume},set:function(t){this.effect.volume=t,this.save()}},{key:"switchEffect",get:function(){return this.effect.switch},set:function(t){this.effect.switch=t,t||this.effect.stop(),this.save()}}]),e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMusic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts"],(function(t){var e,n,i,s,r,o,u,a,c;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){r=t.cclegacy,o=t._decorator,u=t.AudioSource,a=t.AudioClip},function(t){c=t.resLoader}],execute:function(){var l;r._RF.push({},"5c1f3kqGetBiIv48/CvuaQv","AudioMusic",void 0);var h=o.ccclass;o.menu,t("AudioMusic",h("AudioMusic")(l=function(t){function r(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).switch=!0,e.onComplete=null,e._progress=0,e._isLoading=!1,e._nextBundleName=null,e._nextUrl=null,e}e(r,t);var o=r.prototype;return o.start=function(){this.node.on(u.EventType.ENDED,this.onAudioEnded,this)},o.onAudioEnded=function(){this.onComplete&&this.onComplete()},o.load=function(){var t=i(s().mark((function t(e,n,i){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i=c.defaultBundleName),!this._isLoading){t.next=5;break}return this._nextBundleName=i,this._nextUrl=e,t.abrupt("return");case 5:return this._isLoading=!0,t.next=8,c.loadAsync(i,e,a);case 8:(r=t.sent)&&(this._isLoading=!1,null!=this._nextUrl?(this.load(this._nextUrl,n,this._nextBundleName),this._nextBundleName=this._nextUrl=null):(n&&n(),this.playing&&this.stop(),this.release(),this.clip=r,this.play()));case 10:case"end":return t.stop()}}),t,this)})));return function(e,n,i){return t.apply(this,arguments)}}(),o.release=function(){this.clip&&(this.stop(),this.clip.decRef(),this.clip=null)},n(r,[{key:"progress",get:function(){return this.duration>0&&(this._progress=this.currentTime/this.duration),this._progress},set:function(t){this._progress=t,this.currentTime=t*this.duration}}]),r}(u))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/AVirtualScrollView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AItemRenderer.ts"],(function(t){var i,e,n,o,s,h,a,r,c,l,u,d,f,p,y,L;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,a=t.Prefab,r=t.Vec2,c=t.Layout,l=t.UITransform,u=t.NodeEventType,d=t.Widget,f=t.Vec3,p=t.instantiate,y=t.ScrollView},function(t){L=t.AItemRenderer}],execute:function(){var m,g,v,T,C,z,S,R,b,x,I;s._RF.push({},"a34b5hwp4FOBqQyipdRxVoQ","AVirtualScrollView",void 0);var P=1e-4,M=h.ccclass,O=h.property;t("default",(m=M("AVirtualScrollView"),g=O({type:a,serializable:!0,displayName:"渲染预制体"}),v=O({displayName:"启动虚拟列表"}),T=O({tooltip:"无限滑动，到底后发送回调事件",visible:function(){return this.virtualList}}),C=O({tooltip:"子项自适应大小",visible:function(){return this.virtualList}}),m((R=i((S=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),h=0;h<e;h++)s[h]=arguments[h];return i=t.call.apply(t,[this].concat(s))||this,n(i,"itemRenderer",R,o(i)),n(i,"virtualList",b,o(i)),n(i,"infiniteScroll",x,o(i)),n(i,"autoChildrenSize",I,o(i)),i.infiniteScrollCb=function(){},i.infiniteScrollThis=void 0,i.callback=function(){},i.cbThis=void 0,i.verticalCount=0,i.horizontalCount=0,i.itemW=0,i.itemH=0,i.interval=void 0,i.itemPool=[],i.itemList=[],i.itemRendererList=[],i.dataList=[],i.direction=new r,i.padding=new r,i.startPos=new r,i.contentLayout=new c,i.forcedRefreshMark=!1,i.refreshMark=!1,i.moveBottom=!1,i._uiTransform=new l,i.isInit=!1,i.anchorPoint=new r,i.posToSize={},i}e(i,t);var s=i.prototype;return s.onLoad=function(){if(this.isInit=!0,this.itemList=[],this.itemPool=[],this.itemRendererList=[],this.content){if(this.virtualList){var t=this.content.getComponent(c);t?(this.contentLayout=t,this.contentLayout.enabled=!1):console.warn("content上缺少Layout组件"),this._uiTransform=this.node.getComponent(l),this.resetSize(),this.node.on(u.SIZE_CHANGED,this.onSelfSizeChange,this),this.autoChildrenSize&&this.contentLayout.type==c.Type.GRID&&(this.autoChildrenSize=!1,console.error("子项自适应大小 暂不支持网格布局"))}this.dataList&&this.refreshData(this.dataList)}},s.onSelfSizeChange=function(){this.unschedule(this.delayRefresh),this.scheduleOnce(this.delayRefresh,.5)},s.delayRefresh=function(){this.resetSize(),null!=this.dataList&&this.refreshData(this.dataList)},s.resetSize=function(){var t=this.content.getComponent(d);(t||(t=this.getComponent(d)))&&t.updateAlignment();var i=this.itemRenderer.data._uiProps.uiTransformComp;this.anchorPoint=i.anchorPoint.clone();var e,n,o,s,h=i.width,a=i.height;this.autoChildrenSize&&(h=null!=(e=null==(n=this.posToSize[0])?void 0:n.width)?e:i.width,a=null!=(o=null==(s=this.posToSize[0])?void 0:s.height)?o:i.height);this.direction.x=this.contentLayout.horizontalDirection==c.HorizontalDirection.LEFT_TO_RIGHT?1:-1,this.direction.y=this.contentLayout.verticalDirection==c.VerticalDirection.TOP_TO_BOTTOM?-1:1,this.padding.x=this.contentLayout.horizontalDirection==c.HorizontalDirection.LEFT_TO_RIGHT?this.contentLayout.paddingLeft:this.contentLayout.paddingRight,this.padding.y=this.contentLayout.verticalDirection==c.VerticalDirection.TOP_TO_BOTTOM?this.contentLayout.paddingTop:this.contentLayout.paddingBottom,this.startPos.x=(h-h*this.anchorPoint.x+this.padding.x)*this.direction.x,this.startPos.y=(a-a*this.anchorPoint.y+this.padding.y)*this.direction.y,this.itemW=i.width+this.contentLayout.spacingX,this.itemH=i.height+this.contentLayout.spacingY;var r=(this._uiTransform.width+this.contentLayout.spacingX-this.contentLayout.paddingLeft)/this.itemW,l=(this._uiTransform.height+this.contentLayout.spacingY-this.contentLayout.paddingTop)/this.itemH;this.horizontalCount=Math.ceil(r)+1,this.verticalCount=Math.ceil(l)+1,this.contentLayout.type==c.Type.GRID&&(this.contentLayout.startAxis==c.AxisDirection.HORIZONTAL?this.horizontalCount=Math.floor(r):this.verticalCount=Math.floor(l))},s._getContentPosition=function(){return this._content?(this._contentPos.set(this._content.position),this._contentPos):f.ZERO.clone()},s._setContentPosition=function(t){if(this._content){var i=this._getContentPosition();Math.abs(t.x-i.x)<P&&Math.abs(t.y-i.y)<P||(this._content.setPosition(t),this._outOfBoundaryAmountDirty=!0,this.refreshMark=!0)}},s.setItemCallback=function(t,i){this.callback=t,this.cbThis=i},s.onItemCallback=function(t){this.callback&&this.callback.call(this.cbThis,t)},s.setInfiniteScrollCallback=function(t,i){this.infiniteScrollCb=t,this.infiniteScrollThis=i},s.onInfiniteScrollCallback=function(){this.moveBottom=!1,this.infiniteScrollCb&&(console.log("发送回调"),this.infiniteScrollCb.call(this.infiniteScrollThis))},s.refreshData=function(t){Array.isArray(t)?this.dataList=t:this.dataList=[t],this.isInit&&(this.interval&&(clearInterval(this.interval),this.interval=null),this.addItem(),this.virtualList&&(this.forcedRefreshMark=!0,this.refreshMark=!0,this.interval=setInterval(this.refreshItem.bind(this),100),this.refreshItem()))},s.addItem=function(){var t=this,i=0;if(this.virtualList){switch(this.contentLayout.type){case c.Type.HORIZONTAL:i=this.horizontalCount;break;case c.Type.VERTICAL:i=this.verticalCount;break;case c.Type.GRID:i=this.horizontalCount*this.verticalCount}i=Math.min(i,this.dataList.length)}else i=this.dataList.length;var e=this.itemList.length;if(e<i)for(var n,o=e;o<i;o++){var s=this.itemPool.length>0?this.itemPool.shift():p(this.itemRenderer);this.content.addChild(s),this.itemList.push(s),n=s.getComponent(L),this.itemRendererList.push(n),n.registerCallback(this.onItemCallback,this),this.autoChildrenSize&&s.on(u.SIZE_CHANGED,this.delayChangeRefreshMark.bind(this,s),this)}else for(var h,a=this.content.children.length;a>i;)h=this.itemList[a-1],this.content.removeChild(h),this.itemList.splice(a-1,1),this.itemRendererList.splice(a-1,1),this.itemPool.push(h),a=this.content.children.length;this.virtualList||this.dataList.forEach((function(i,e){t.itemRendererList[e].data=i}))},s.delayChangeRefreshMark=function(t){var i=t.getComponent(L);if(i){var e=i.nowDataIdx,n=this.posToSize[e],o=this.node.getComponent(l);if(n){if(n.x==o.contentSize.x&&n.y==o.contentSize.y)return;n.x=o.contentSize.x,n.y=o.contentSize.y}else n=o.contentSize.clone();console.log("预刷新子项状态==="+e),this.posToSize[e]=n,this.unschedule(this.changeRefreshMark),this.scheduleOnce(this.changeRefreshMark,0),this.refreshMark=!0,this.refreshItem()}},s.changeRefreshMark=function(){this.refreshMark=!0},s.refreshContentSize=function(){var t,i=this.contentLayout,e=this.dataList.length,n=this.content.parent.getComponent(l),o=this.content.getComponent(l);switch(this.contentLayout.type){case c.Type.HORIZONTAL:if(t=i.paddingLeft+i.paddingRight,this.autoChildrenSize)for(var s=0;s<e;s++){var h,a;t+=(null!=(h=null==(a=this.posToSize[s])?void 0:a.width)?h:this.itemW-this.contentLayout.spacingX)+this.contentLayout.spacingX}else t+=e*this.itemW;var r;if(this.contentLayout.horizontalDirection==c.HorizontalDirection.RIGHT_TO_LEFT)t=Math.max(t,null!=(r=n.width)?r:0);o.width=t;break;case c.Type.VERTICAL:if(t=i.paddingTop+i.paddingBottom,this.autoChildrenSize)for(var u=0;u<e;u++){var d,f;t+=(null!=(d=null==(f=this.posToSize[u])?void 0:f.height)?d:this.itemH-this.contentLayout.spacingY)+this.contentLayout.spacingY}else t+=e*this.itemH;var p;if(this.contentLayout.verticalDirection==c.VerticalDirection.BOTTOM_TO_TOP)t=Math.max(t,null!=(p=n.height)?p:0);o.height=t;break;case c.Type.GRID:this.contentLayout.startAxis==c.AxisDirection.HORIZONTAL?o.height=i.paddingTop+Math.ceil(e/this.horizontalCount)*this.itemH+i.paddingBottom:this.contentLayout.startAxis==c.AxisDirection.VERTICAL&&(o.width=i.paddingLeft+Math.ceil(e/this.verticalCount)*this.itemW+i.paddingRight)}},s.refreshItem=function(){if(this.moveBottom&&this.onInfiniteScrollCallback(),this.refreshMark){switch(this.contentLayout.type){case c.Type.HORIZONTAL:this.refreshHorizontal();break;case c.Type.VERTICAL:this.refreshVertical();break;case c.Type.GRID:this.refreshGrid()}this.refreshContentSize(),this.refreshMark=!1,this.forcedRefreshMark=!1}},s.refreshHorizontal=function(){var t=this.getStart(),i=t+this.horizontalCount;i>this.dataList.length&&(i=this.dataList.length,t=Math.max(i-this.horizontalCount,0));for(var e,n,o,s=0,h=this.itemList.length,a=0;a<h;a++)if(o=(t+a)%h,n=(e=this.itemList[o]).getPosition(),s=this.getPos(t+a),n.x!=s||this.forcedRefreshMark){console.log("修改的数据="+(t+a)),n.x=s,e.position=n,this.itemRendererList[o].node.getComponent(L).nowDataIdx=t+a,this.itemRendererList[o].data=this.dataList[t+a];var r=e.getComponent(l);this.posToSize[t+a]=r.contentSize.clone(),this.infiniteScroll&&t>0&&t+a==this.dataList.length-1&&(this.moveBottom=!0)}},s.refreshVertical=function(){var t=this.getStart(),i=t+this.verticalCount;i>this.dataList.length&&(i=this.dataList.length,t=Math.max(i-this.verticalCount,0));for(var e,n,o,s=0,h=this.itemList.length,a=0;a<h;a++)if(o=(t+a)%h,n=(e=this.itemList[o]).getPosition(),s=this.getPos(t+a),n.y!=s||this.forcedRefreshMark){console.log("修改的数据="+(t+a)),n.y=s,e.position=n,this.itemRendererList[o].node.getComponent(L).nowDataIdx=t+a,this.itemRendererList[o].data=this.dataList[t+a];var r=e.getComponent(l);this.posToSize[t+a]=r.contentSize.clone(),this.infiniteScroll&&t>0&&t+a==this.dataList.length-1&&(this.moveBottom=!0)}},s.refreshGrid=function(){var t=this.contentLayout.startAxis==c.AxisDirection.VERTICAL,i=Math.floor(Math.abs(this.content.position.y)/this.itemH)*this.horizontalCount;t?(i=Math.floor(Math.abs(this.content.position.x)/this.itemW)*this.verticalCount,this.content.position.x>0&&(i=0)):this.content.position.y<0&&(i=0),i<0&&(i=0);var e=i+this.horizontalCount*this.verticalCount;e>this.dataList.length&&(e=this.dataList.length,i=Math.max(e-this.horizontalCount*this.verticalCount,0));for(var n,o,s,h=0,a=0,r=this.itemList.length,l=0;l<r;l++)s=(i+l)%r,o=(n=this.itemList[s]).getPosition(),t?(h=this.startPos.x+this.direction.x*Math.floor((i+l)/this.verticalCount)*this.itemW,a=this.startPos.y+this.direction.y*((i+l)%this.verticalCount)*this.itemH):(h=this.startPos.x+this.direction.x*((i+l)%this.horizontalCount)*this.itemW,a=this.startPos.y+this.direction.y*Math.floor((i+l)/this.horizontalCount)*this.itemH),(o.y!=a||o.x!=h||this.forcedRefreshMark)&&(console.log("修改的数据="+(i+l)),o.x=h,o.y=a,n.position=o,this.itemRendererList[s].data=this.dataList[i+l],this.infiniteScroll&&i>0&&i+l==this.dataList.length-1&&(this.moveBottom=!0))},s.getStart=function(){var t=0,i=0;switch(this.contentLayout.type){case c.Type.HORIZONTAL:if(this.autoChildrenSize)for(var e in i=Math.abs(this.content.position.x),this.posToSize){var n,o;if((i-=(null!=(n=null==(o=this.posToSize[e])?void 0:o.width)?n:this.itemW-this.contentLayout.spacingX)+this.contentLayout.spacingX)<=0)break;t++}else t=Math.floor(Math.abs(this.content.position.x)/this.itemW);(this.contentLayout.horizontalDirection==c.HorizontalDirection.LEFT_TO_RIGHT&&this.content.position.x>0||this.contentLayout.horizontalDirection==c.HorizontalDirection.RIGHT_TO_LEFT&&this.content.position.x<0)&&(t=0);break;case c.Type.VERTICAL:if(this.autoChildrenSize)for(var s in i=Math.abs(this.content.position.y),this.posToSize){var h,a;if((i-=(null!=(h=null==(a=this.posToSize[s])?void 0:a.height)?h:this.itemH-this.contentLayout.spacingY)+this.contentLayout.spacingY)<=0)break;t++}else t=Math.floor(Math.abs(this.content.position.y)/this.itemH);(this.contentLayout.verticalDirection==c.VerticalDirection.TOP_TO_BOTTOM&&this.content.position.y<0||this.contentLayout.verticalDirection==c.VerticalDirection.BOTTOM_TO_TOP&&this.content.position.y>0)&&(t=0);break;case c.Type.GRID:console.error("暂不支持网格布局")}return t<0&&(t=0),t},s.getPos=function(t){var i,e,n=0;switch(this.contentLayout.type){case c.Type.HORIZONTAL:if(this.autoChildrenSize){var o,s;if(0==t)e=null!=(o=null==(s=this.posToSize[0])?void 0:s.width)?o:this.itemH-this.contentLayout.spacingX,this.startPos.x=e*this.anchorPoint.x*this.direction.x;n+=this.startPos.x+this.padding.x*this.direction.x;for(var h=1;h<=t;h++){var a,r,l,u;n+=((e=null!=(a=null==(r=this.posToSize[h-1])?void 0:r.width)?a:this.itemW-this.contentLayout.spacingX)-e*this.anchorPoint.x+this.contentLayout.spacingX)*this.direction.x,n+=(e=null!=(l=null==(u=this.posToSize[h])?void 0:u.width)?l:this.itemW-this.contentLayout.spacingX)*this.anchorPoint.x*this.direction.x}}else n=this.startPos.x+t*this.itemW*this.direction.x;break;case c.Type.VERTICAL:if(this.autoChildrenSize){var d,f;if(0==t)i=null!=(d=null==(f=this.posToSize[0])?void 0:f.height)?d:this.itemH-this.contentLayout.spacingY,this.startPos.y=(i-i*this.anchorPoint.y)*this.direction.y;n+=this.startPos.y+this.padding.y*this.direction.y;for(var p=1;p<=t;p++){var y,L,m,g;n+=(i=(null!=(y=null==(L=this.posToSize[p-1])?void 0:L.height)?y:this.itemH-this.contentLayout.spacingY)*this.anchorPoint.y+this.contentLayout.spacingY)*this.direction.y,n+=((i=null!=(m=null==(g=this.posToSize[p])?void 0:g.height)?m:this.itemH-this.contentLayout.spacingY)-i*this.anchorPoint.y)*this.direction.y}}else n=this.startPos.y+t*this.itemH*this.direction.y;break;case c.Type.GRID:console.error("暂不支持网格布局")}return n},s.onDestroy=function(){this.dataList=[],this.itemList=[],this.itemRendererList=[],this.posToSize={},this.itemPool.forEach((function(t){t.destroy()})),this.itemPool=[],this.interval&&clearInterval(this.interval),this.node.targetOff(this)},i}(y)).prototype,"itemRenderer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(S.prototype,"virtualList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=i(S.prototype,"infiniteScroll",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=i(S.prototype,"autoChildrenSize",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=S))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/BaseDifficultyStrategy.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"47aaaFfgP5M6aYknCreRQtZ","BaseDifficultyStrategy",void 0);t("BaseDifficultyStrategy",function(){function t(){}return t.prototype.createAdjustment=function(t,e,n,u){return{shouldAdjust:t,adjustedDifficulty:e,reason:n,confidence:Math.min(1,Math.max(0,u||0))}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseStrategy.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f5e67TmrqFPSZfYyRaqBsLO","BaseStrategy",void 0);t("BaseStrategy",(function(){}));e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSudokuCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configuration.ts","./GameLogic.ts","./NoteNumber.ts"],(function(e){var t,i,l,o,n,r,s,a,h,c,u,p,b,f,m,g,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,s=e.Sprite,a=e.Label,h=e.Node,c=e.Color,u=e.UITransform,p=e.Vec3,b=e.Component},function(e){f=e.Configuration},function(e){m=e.CellRelationType,g=e.AssociationType},function(e){d=e.NoteNumber}],execute:function(){var N,C,v,y,S,w,L,B,T,k,E,R,A,x,D;n._RF.push({},"22affruWrtBVK9vk6mwND0/","BaseSudokuCell",void 0);var F=r.ccclass,z=r.property;e("BaseSudokuCell",(N=F("BaseSudokuCell"),C=z({type:s,tooltip:"单元格背景",visible:!0}),v=z({type:a,tooltip:"单元格文字",visible:!0}),y=z({type:h,tooltip:"笔记节点根节点",visible:!0}),S=z({type:[h],tooltip:"笔记节点",visible:!0}),w=z(c),L=z({type:h,tooltip:"遮罩节点",visible:!0}),N((k=t((T=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,l(t,"cellBG",k,o(t)),l(t,"cellLabel",E,o(t)),l(t,"nodeNoteRoot",R,o(t)),l(t,"nodeNotes",A,o(t)),l(t,"warningColor",x,o(t)),l(t,"mask",D,o(t)),t.row=0,t.col=0,t.cellNumber=0,t.solutionNumber=0,t.canFill=!1,t.relation={type:m.UNRELATED,isSameNumber:!1},t.selectNumber=0,t.notesNumber=[0,0,0,0,0,0,0,0,0],t.appSettings=void 0,t.themeConfig=void 0,t}i(t,e);var n=t.prototype;return n.init=function(e,t,i,l){void 0===l&&(l=0),this.row=e,this.col=t,this.cellNumber=l;var o=this.getComponent(u);this.node.scale=new p(i/o.contentSize.width,i/o.contentSize.height),this.hideAllNodeNote(),this.cellLabel.node.active=!0,this.mask.active=!1,0==this.cellNumber?(this.cellLabel.string="",this.canFill=!0):(this.cellLabel.string=l.toString(),this.canFill=!1),this.refreshCell()},n.setThemeConfig=function(e){this.themeConfig=e},n.initNumber=function(e,t){this.reset(),this.cellNumber=e,this.solutionNumber=t,this.cellLabel.node.active=!0,0==this.cellNumber?(this.cellLabel.string="",this.canFill=!0):(this.cellLabel.string=e.toString(),this.canFill=!1),this.refreshCell()},n.hideAllNodeNote=function(){this.nodeNoteRoot.active=!1,this.notesNumber=[0,0,0,0,0,0,0,0,0],this.nodeNotes.forEach((function(e,t){e.active=!1}))},n.reset=function(){this.hideAllNodeNote(),this.cellLabel.string="",this.canFill=!1,this.mask.active=!1},n.refreshCell=function(){var e;if(this.themeConfig){this.setNoteColor(new c(this.themeConfig.noteTextColor));var t=this.cellNumber&&0!=this.cellNumber&&!this.checkIsFinish()&&this.canFill;switch(t&&this.applyErrorStyle(),this.relation.type){case m.SELECTED:this.applySelectedStyle();break;case m.ASSOCIATED:this.applyAssociatedStyle();break;default:this.applyDefaultStyle()}this.relation.isSameNumber&&null!=(e=this.appSettings)&&e.highlight.sameDigits&&(this.cellBG.color=new c(this.themeConfig.sameNumberBackground)),t&&(this.relation.type==m.SELECTED?this.cellLabel.color=new c(this.themeConfig.selectedErrorTextColor):this.cellLabel.color=new c(this.themeConfig.errorTextColor))}},n.setNoteColor=function(e){var t=this;this.nodeNotes.forEach((function(i,l){if(t.themeConfig){var o,n=i.getComponent(d);if(n)n.number===t.selectNumber&&null!=(o=t.appSettings)&&o.highlight.duplicateCandidates?(n.setBGColor(new c(f.getInstance().getThemeConfig().sameNumberNoteBackground)),n.setLabelColor(new c(f.getInstance().getThemeConfig().sameNumberNoteTextColor))):(n.setBGColor(),n.setLabelColor(e))}}))},n.checkIsFinish=function(){return this.cellNumber===this.solutionNumber},n.applyErrorStyle=function(){if(this.themeConfig){var e=this.themeConfig;this.cellBG.color=new c(e.errorBackground),this.cellLabel.color=new c(e.errorTextColor)}},n.applySelectedStyle=function(){if(this.themeConfig){var e=this.themeConfig;this.cellBG.color=new c(e.selectedCellBackground),this.cellLabel.color=new c(e.selectedCellTextColor),this.setNoteColor(new c(e.selectedNoteTextColor))}},n.applyAssociatedStyle=function(){var e=this;if(this.relation.type==m.ASSOCIATED){var t=this.relation.spaceRelations.some((function(t){var i,l;return(t===g.ROW||t===g.COLUMN)&&(null==(i=e.appSettings)?void 0:i.highlight.rowsColumns)||t===g.BOX&&(null==(l=e.appSettings)?void 0:l.highlight.blocks)})),i=this.relation.numberRelations.some((function(t){var i,l;return(t===g.ROW||t===g.COLUMN)&&(null==(i=e.appSettings)?void 0:i.highlight.allRowsColumns)||t===g.BOX&&(null==(l=e.appSettings)?void 0:l.highlight.allBlocks)}));t||i?this.applyHighlightedStyle():this.applyDefaultStyle()}},n.applyHighlightedStyle=function(){if(this.themeConfig){var e=this.themeConfig;this.cellBG.color=new c(e.relatedAreaBackground),this.applyTextColor()}},n.applyDefaultStyle=function(){if(this.themeConfig){var e=this.themeConfig;this.cellBG.color=new c(e.cellBackground),this.applyTextColor()}},n.applyTextColor=function(){if(this.themeConfig){var e=this.themeConfig;this.cellLabel.color=new c(this.canFill?e.prefilledTextColor:e.cellTextColor)}},n.setNumber=function(e){var t=void 0===e?{number:void 0}:e,i=t.number,l=(t.isUndo,t.isHint,t.isErase),o=void 0===l||l;i===this.cellNumber&&o&&(i=0),void 0===i&&(i=0),this.cellNumber=i,this.cellLabel.node.active=!0,this.nodeNoteRoot.active=!1,0==this.cellNumber?(this.cellLabel.string="",this.nodeNoteRoot.active=!0):this.cellLabel.string=i.toString()},n.setNoteNumber=function(e){var t=this,i=void 0===e?{number:void 0}:e,l=i.number,o=i.isVisible,n=void 0===o||o;i.isUndo,i.isHint;if("string"==typeof l){var r=l;this.hideAllNodeNote(),r.split("").map(Number).forEach((function(e){e>=1&&e<=9&&0==t.cellNumber&&(t.cellLabel.node.active=!1,t.nodeNoteRoot.active=!0,t.nodeNotes[e-1].active=!0,t.notesNumber[e-1]=e)}))}else{if(0!=this.cellNumber)return;if(void 0===l&&(l=0),0!=l){var s=l;(l=n?l:0)===this.notesNumber[s-1]&&(l=0),this.cellLabel.node.active=!1,this.nodeNoteRoot.active=!0,this.notesNumber[s-1]=l,this.nodeNotes[s-1].active=0!=l}else this.hideAllNodeNote()}},t}(b)).prototype,"cellBG",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(T.prototype,"cellLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(T.prototype,"nodeNoteRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(T.prototype,"nodeNotes",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(T.prototype,"warningColor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(255,100,100,255)}}),D=t(T.prototype,"mask",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=T))||B));n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSudokuGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameLogic.ts","./BaseSudokuCell.ts"],(function(i){var e,t,r,o,l,n,s,h,a,u,c,d,f,p,b,g;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){l=i.cclegacy,n=i._decorator,s=i.Prefab,h=i.Graphics,a=i.Node,u=i.Color,c=i.UITransform,d=i.Vec2,f=i.instantiate,p=i.Component},function(i){b=i.GameLogic},function(i){g=i.BaseSudokuCell}],execute:function(){var S,m,z,C,w,v,L,y,W,k,B,G,N,P,R;l._RF.push({},"461c4NNHIVAe4e2dq+e5ZA9","BaseSudokuGrid",void 0);var D=n.ccclass,A=n.property;i("BaseSudokuGrid",(S=D("BaseSudokuGrid"),m=A({type:s,tooltip:"单元格预制体",visible:!0}),z=A({type:h,tooltip:"绘制组件",visible:!0}),C=A({type:a,tooltip:"单元格根节点",visible:!0}),w=A(u),v=A(u),S((W=e((y=function(i){function e(){for(var e,t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return e=i.call.apply(i,[this].concat(l))||this,r(e,"cellPrefab",W,o(e)),r(e,"graphics",k,o(e)),r(e,"cellRoot",B,o(e)),r(e,"lineWidth",G,o(e)),r(e,"boldLineWidth",N,o(e)),r(e,"normalColor",P,o(e)),r(e,"boldColor",R,o(e)),e.gridSize=0,e.cellSize=0,e.halfSize=0,e.cells=[],e.themeConfig=void 0,e}t(e,i);var l=e.prototype;return l.init=function(i,e){this.themeConfig=i,this.normalColor=new u(this.themeConfig.thinLineColor),this.boldColor=new u(this.themeConfig.boldLineColor);var t=this.getComponent(c);this.gridSize=t.width,this.cellSize=this.gridSize/9,this.halfSize=this.gridSize/2,this.graphics.lineCap=h.LineCap.SQUARE,this.graphics.lineJoin=h.LineJoin.ROUND,this.drawGridLines(!1),this.createBaseSudokuCells(),this.refreshSudokuData(e)},l.drawGridLines=function(i){if(this.graphics.clear(),!i)for(var e=0;e<=9;e++)if(e%3!=0){var t=e*this.cellSize-this.halfSize;this.drawLine(new d(-this.halfSize,t),new d(this.halfSize,t),this.lineWidth,this.normalColor),this.drawLine(new d(t,-this.halfSize),new d(t,this.halfSize),this.lineWidth,this.normalColor)}for(var r=0;r<=3;r++){var o=3*r*this.cellSize-this.halfSize;this.drawLine(new d(-this.halfSize,o),new d(this.halfSize,o),this.boldLineWidth,this.boldColor),this.drawLine(new d(o,-this.halfSize),new d(o,this.halfSize),this.boldLineWidth,this.boldColor)}},l.drawLine=function(i,e,t,r){this.graphics.lineWidth=t,this.graphics.strokeColor=r,this.graphics.moveTo(i.x,i.y),this.graphics.lineTo(e.x,e.y),this.graphics.stroke(),this.graphics.fill()},l.createBaseSudokuCells=function(){this.cellRoot.removeAllChildren(),this.cells=[];for(var i=this.gridSize/9,e=0;e<9;e++){this.cells[e]=[];for(var t=0;t<9;t++)this.createCell(e,t,i)}},l.createCell=function(i,e,t){if(this.cellPrefab){var r=this.getLineWidth(i,e),o=t-(r.left+r.right)/2,l=(r.left-r.right)/2,n=(r.bottom-r.top)/2,s=f(this.cellPrefab),h=e*t-this.halfSize+t/2+l,a=this.halfSize-i*t-t/2+n;s.setPosition(h,a);var u=s.getComponent(g);u&&(u.init(i,e,o,0),this.themeConfig&&u.setThemeConfig(this.themeConfig),this.cells[i][e]=u),s.parent=this.cellRoot}},l.getLineWidth=function(i,e){var t=(e+1)%3==0,r=i%3==0,o=(i+1)%3==0;return{left:e%3==0?this.boldLineWidth:this.lineWidth,right:t?this.boldLineWidth:this.lineWidth,top:r?this.boldLineWidth:this.lineWidth,bottom:o?this.boldLineWidth:this.lineWidth}},l.refreshSudokuData=function(i){for(var e=b.parseSudokuString(i.puzzleStr),t=b.parseSudokuString(i.solutionStr),r=0;r<9;r++)for(var o=0;o<9;o++){this.cells[r][o].initNumber(e[r][o],t[r][o]);var l=r+"-"+o,n=i.userInputNotes.get(l);n&&this.cells[r][o].setNoteNumber({number:n,isUndo:!0});var s=i.userInputs.get(l);s&&this.cells[r][o].setNumber({number:s,isUndo:!0})}},e}(p)).prototype,"cellPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(y.prototype,"graphics",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(y.prototype,"cellRoot",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(y.prototype,"lineWidth",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),N=e(y.prototype,"boldLineWidth",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),P=e(y.prototype,"normalColor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(150,150,150,255)}}),R=e(y.prototype,"boldColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,0,0,255)}}),L=y))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/BeginnerBasicStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./BaseDifficultyStrategy.ts","./DifficultyTypes.ts"],(function(t){var e,n,i,r,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.SudokuDifficulty},function(t){r=t.BaseDifficultyStrategy},function(t){u=t.AdjustmentReason}],execute:function(){n._RF.push({},"e993eNOmvhFJ6xzv0xhL5KJ","BeginnerBasicStrategy",void 0);t("BeginnerBasicStrategy",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.evaluate=function(t){var e=t.getRecentGames(2);if(0===e.length)return this.createAdjustment(!0,i.Novice);var n=2===e.length&&e.every((function(t){return t.difficulty===i.Beginner&&t.progress>.5&&!t.isCompleted}));return this.createAdjustment(n,n?i.Novice:void 0,n?u.CONSECUTIVE_FAILURES:void 0,n?.8:0)},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/BehaviorTree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BTreeNode.ts"],(function(t){var e,r,i;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy},function(t){i=t.BTreeNode}],execute:function(){r._RF.push({},"22a91RP3fNG/rWWAXlmM4BT","BehaviorTree",void 0);var s=0;t("BehaviorTree",function(){function t(t,e){this.title=void 0,this._root=void 0,this._current=void 0,this._started=!1,this._blackboard=void 0,s+=1,this.title=t.constructor.name+"(btree_"+s+")",this._root=t,this._blackboard=e}var r=t.prototype;return r.setObject=function(t){this._blackboard=t},r.run=function(){this._started&&console.error("行为树【"+this.title+"】未调用步骤，在最后一次调用步骤时有一个任务未完成"),this._started=!0;var e=t.getNode(this._root);this._current=e,e.setControl(this),e.start(this._blackboard),e.run(this._blackboard)},r.running=function(t){this._started=!1},r.success=function(){this._current.end(this._blackboard),this._started=!1},r.fail=function(){this._current.end(this._blackboard),this._started=!1},t.register=function(t,e){this._registeredNodes.set(t,e)},t.getNode=function(t){var e=t instanceof i?t:this._registeredNodes.get(t);if(!e)throw new Error("无法找到节点【"+t+"】，可能它没有注册过");return e},e(t,[{key:"started",get:function(){return this._started}}]),t}())._registeredNodes=new Map,r._RF.pop()}}}));

System.register("chunks:///_virtual/BhvButtonGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,i,e,r,o,a,l,u,s,p,c,b;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,l=n.Enum,u=n.Button,s=n.SpriteFrame,p=n.EventHandler,c=n.Component,b=n.color}],execute:function(){var f,m,v,h,d,y,E,C,g,T,S,z,L,w,R,I,D,N,_,H,O,B,P,A,G,M,k,x,F,X,J;o._RF.push({},"41df676L55LvJ52uxkQpfxJ","BhvButtonGroup",void 0);var U=a.ccclass,j=a.property,Q=a.menu,V=function(n){return n[n.CHILDREN_INDEX=0]="CHILDREN_INDEX",n[n.CHILDREN_NAME=1]="CHILDREN_NAME",n}(V||{});n("BhvButtonGroup",(f=Q("OopsFramework/UI/Button Group （按钮组控制）"),m=j({type:l(u.Transition)}),v=j({visible:function(){return this.transition===u.Transition.COLOR}}),h=j({visible:function(){return this.transition===u.Transition.COLOR}}),d=j({visible:function(){return this.transition===u.Transition.COLOR}}),y=j({visible:function(){return this.transition===u.Transition.COLOR}}),E=j({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),C=j({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),g=j({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),T=j({type:s,visible:function(){return this.transition===u.Transition.SPRITE}}),S=j({visible:function(){return this.transition===u.Transition.SCALE||this.transition===u.Transition.COLOR}}),z=j({visible:function(){return this.transition===u.Transition.SCALE}}),L=j({type:l(V)}),w=j({type:[p]}),R=j({tooltip:"规避3.x引擎BUG，EventHandler.component位为空导致找不到触发事件的脚本名的问题",readonly:!0}),U(I=f((N=t((D=function(n){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n.call.apply(n,[this].concat(o))||this,e(t,"transition",N,r(t)),e(t,"hoverColor",_,r(t)),e(t,"normalColor",H,r(t)),e(t,"pressedColor",O,r(t)),e(t,"disabledColor",B,r(t)),e(t,"normalSprite",P,r(t)),e(t,"pressedSprite",A,r(t)),e(t,"hoverSprite",G,r(t)),e(t,"disabledSprite",M,r(t)),e(t,"duration",k,r(t)),e(t,"zoomScale",x,r(t)),e(t,"paramType",F,r(t)),e(t,"touchEvents",X,r(t)),e(t,"EventHandler_component",J,r(t)),t}return i(t,n),t.prototype.onLoad=function(){var n=this;this.node.children.forEach((function(t,i){var e=t.getComponent(u);null==e&&(e=t.addComponent(u)),n.touchEvents.forEach((function(r){var o=new p;o.component=""==r.component?n.EventHandler_component:r.component,o.handler=r.handler,o.target=r.target,n.paramType===V.CHILDREN_INDEX?o.customEventData=i.toString():o.customEventData=t.name,e.clickEvents.push(o)}))}))},t}(c)).prototype,"transition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.Transition.NONE}}),_=t(D.prototype,"hoverColor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(255,255,255)}}),H=t(D.prototype,"normalColor",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(214,214,214)}}),O=t(D.prototype,"pressedColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(211,211,211)}}),B=t(D.prototype,"disabledColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b(124,124,124)}}),P=t(D.prototype,"normalSprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(D.prototype,"pressedSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(D.prototype,"hoverSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"disabledSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(D.prototype,"duration",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=t(D.prototype,"zoomScale",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.1}}),F=t(D.prototype,"paramType",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.CHILDREN_INDEX}}),X=t(D.prototype,"touchEvents",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(D.prototype,"EventHandler_component",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"VMModify"}}),I=D))||I)||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/BhvFrameIndex.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,o,s,a,p,u,c,l,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,p=e.Sprite,u=e.SpriteFrame,c=e.CCInteger,l=e.error,d=e.Component}],execute:function(){var h,m,f,x,y,F,v,g;s._RF.push({},"c238ewfJ2VJnZ8Gb8YQs5Ts","BhvFrameIndex",void 0);var I=a.ccclass,b=a.property,_=a.executeInEditMode,w=a.requireComponent,C=a.menu;e("BhvFrameIndex",(h=w(p),m=C("OopsFramework/UI/Frame Index （图片切换）"),f=b({type:[u],tooltip:"sprite将会用到帧图片"}),x=b({type:c,tooltip:"当前显示的帧图"}),I(y=_(y=h(y=m((v=t((F=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"spriteFrames",v,i(t)),n(t,"_index",g,i(t)),t}r(t,e);var s=t.prototype;return s.setName=function(e){var t=this.spriteFrames.findIndex((function(t){return t.name==e}));t<0&&l("frameIndex 设置了不存在的name:",e),this.index=t||0},s.random=function(e,t){if(this.spriteFrames){var r=this.spriteFrames.length;(null==e||e<0)&&(e=0),(null==t||t>r)&&(t=r),this.index=Math.floor(Math.random()*(t-e)+e)}},s.next=function(){this.index++},s.previous=function(){this.index--},o(t,[{key:"index",get:function(){return this._index},set:function(e){e<0||(this._index=e%this.spriteFrames.length,this.node.getComponent(p).spriteFrame=this.spriteFrames[this._index])}}]),t}(d)).prototype,"spriteFrames",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null]}}),t(F.prototype,"index",[x],Object.getOwnPropertyDescriptor(F.prototype,"index"),F.prototype),g=t(F.prototype,"_index",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=F))||y)||y)||y)||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/BhvRollNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,l,a,o,n,u,s,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,l=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,n=t._decorator,u=t.Label,s=t.Enum,c=t.lerp,p=t.Component}],execute:function(){var h,b,f,g,m,y,E,v,d,T,M,S,R,w,F,I,V,_,C;o._RF.push({},"72d13dwmG9LS4gkJhSuAp3F","BhvRollNumber",void 0);var N=n.ccclass,A=n.property,L=n.menu,z=function(t){return t[t.INTEGER=0]="INTEGER",t[t.FIXED_2=1]="FIXED_2",t[t.TIMER=2]="TIMER",t[t.PERCENTAGE=3]="PERCENTAGE",t[t.KMBT_FIXED2=4]="KMBT_FIXED2",t[t.CUSTOMER=5]="CUSTOMER",t}(z||{});t("BhvRollNumber",(h=L("OopsFramework/UI/Roll Number （滚动数字）"),b=A({type:u,tooltip:"需要滚动的 Label 组件,如果不进行设置，就会从自己的节点自动查找"}),f=A({tooltip:"当前的滚动值(开始的滚动值)"}),g=A({tooltip:"是否显示正负符号"}),m=A({tooltip:"滚动的目标值"}),y=A({tooltip:"滚动的线性差值",step:.01,max:1,min:0}),E=A({tooltip:"是否在开始时就播放"}),v=A({tooltip:"在滚动之前会等待几秒",step:.1,max:1,min:0}),d=A({type:s(z),tooltip:"是否在开始时就播放"}),N(T=h((S=e((M=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"label",S,l(e)),r(e,"value",R,l(e)),r(e,"showPlusSymbol",w,l(e)),r(e,"_targetValue",F,l(e)),r(e,"lerp",I,l(e)),r(e,"playAtStart",V,l(e)),r(e,"runWaitTimer",_,l(e)),r(e,"valueType",C,l(e)),e.onCustom=null,e.isScrolling=!1,e}i(e,t);var o=e.prototype;return o.onLoad=function(){null==this.label&&(this.label=this.node.getComponent(u)),this.playAtStart&&(this.updateLabel(),this.scroll())},o.scroll=function(){var t=this;this.isScrolling||(this.runWaitTimer>0?this.scheduleOnce((function(){t.isScrolling=!0}),this.runWaitTimer):this.isScrolling=!0)},o.stop=function(){this.value=this.targetValue,this.isScrolling=!1,this.updateLabel()},o.init=function(t,e,i){this.targetValue=e||0,this.value=t||0,this.lerp=i||.1},o.scrollTo=function(t){null!=t&&(this.targetValue=t)},o.updateLabel=function(){var t=this.value,e="";switch(this.valueType){case z.INTEGER:e=Math.round(t)+"";break;case z.FIXED_2:e=t.toFixed(2);break;case z.TIMER:e=function(t,e){void 0===t&&(t=0);void 0===e&&(e=!0);var i=Math.floor(t),r=Math.floor(i/3600),l=Math.floor(i%3600/60),a=i%60,o=""+l,n=""+a;a<10&&(n="0"+a);return e?(l<10&&(o="0"+l),r+":"+o+":"+n):(o=""+(l+60*r),l<10&&(o="0"+l),o+":"+n)}(t);break;case z.PERCENTAGE:e=Math.round(100*t)+"%";break;case z.KMBT_FIXED2:e=t>=Number.MAX_VALUE?"MAX":t>1e12?(t/1e12).toFixed(2)+"T":t>1e9?(t/1e9).toFixed(2)+"B":t>1e6?(t/1e6).toFixed(2)+"M":t>1e3?(t/1e3).toFixed(2)+"K":Math.round(t).toString();break;case z.CUSTOMER:this.onCustom&&(e=this.onCustom(this.value,this.targetValue))}if(this.showPlusSymbol&&(t>0?e="+"+e:t<0&&(e="-"+e)),this.label){if(e===this.label.string)return;this.label.string=e}},o.update=function(t){if(0!=this.isScrolling)return this.value=c(this.value,this.targetValue,this.lerp),this.updateLabel(),Math.abs(this.value-this.targetValue)<=1e-4?(this.value=this.targetValue,void(this.isScrolling=!1)):void 0},a(e,[{key:"targetValue",get:function(){return this._targetValue},set:function(t){this._targetValue=t,this.scroll()}}]),e}(p)).prototype,"label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(M.prototype,"value",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=e(M.prototype,"showPlusSymbol",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(M.prototype,"targetValue",[m],Object.getOwnPropertyDescriptor(M.prototype,"targetValue"),M.prototype),F=e(M.prototype,"_targetValue",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),I=e(M.prototype,"lerp",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),V=e(M.prototype,"playAtStart",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=e(M.prototype,"runWaitTimer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=e(M.prototype,"valueType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.INTEGER}}),T=M))||T)||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/BhvSwitchPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMEnv.ts"],(function(e){var i,t,n,r,o,a,s,c,h,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,s=e._decorator,c=e.CCInteger,h=e.Component},function(e){u=e.VMEnv}],execute:function(){var d,p,g,l,f,x;a._RF.push({},"b3d083kncpDPqVztMtiq6DO","BhvSwitchPage",void 0);var v=s.ccclass,y=s.property,P=s.executeInEditMode,_=s.menu;e("BhvSwitchPage",(d=_("OopsFramework/UI/Switch Page （页面切换）"),p=y({type:c}),v(g=P(g=d((f=i((l=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"isLoopPage",f,r(i)),n(i,"_index",x,r(i)),i.preIndex=0,i._isChanging=!1,i}t(i,e);var a=i.prototype;return a.onLoad=function(){this.preIndex=this.index},a._updateEditorPage=function(e){if(u.editor)for(var i=this.node.children,t=0;t<i.length;t++){var n=i[t];n.active=t==e}},a._updatePage=function(e){var i=this.node.children,t=this.preIndex,n=this.index;if(t!==n){var r=i[t],o=i[n];r.active=!1,o.active=!0}},a.next=function(){return!this.isChanging&&(this.index++,!0)},a.previous=function(){return!this.isChanging&&(this.index--,!0)},a.setEventIndex=function(e,i){return this.index>=0&&null!=this.index&&!1===this.isChanging&&(this.index=i,!0)},o(i,[{key:"index",get:function(){return this._index},set:function(e){if(!this.isChanging){e=Math.round(e);var i=this.node.children.length-1;this.isLoopPage?(e>i&&(e=0),e<0&&(e=i)):(e>i&&(e=i),e<0&&(e=0)),this.preIndex=this._index,this._index=e,u.editor?this._updateEditorPage(e):this._updatePage(e)}}},{key:"isChanging",get:function(){return this._isChanging}}]),i}(h)).prototype,"isLoopPage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=i(l.prototype,"_index",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i(l.prototype,"index",[p],Object.getOwnPropertyDescriptor(l.prototype,"index"),l.prototype),g=l))||g)||g)||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/BoxLineReductionStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(e){var t,o,n,r,a,l,i,c,u;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){n=e.cclegacy},function(e){r=e.HighlightConfig},function(e){a=e.HighlightAreaType,l=e.BLANK_CHAR},function(e){i=e.BaseStrategy},function(e){c=e.SolverUtils},function(e){u=e.oops}],execute:function(){n._RF.push({},"e60460L32ZKlaA+kXZB9H73","BoxLineReductionStrategy",void 0);e("BoxLineReductionStrategy",function(e){function n(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).difficulty=6,t}t(n,e);var i=n.prototype;return i.execute=function(e,t){var o=this.checkBoxLineReduction(e,t);return o?this.createBoxLineReductionSteps(e,t,o):null},i.checkBoxLineReduction=function(e,t){for(var o,n=this,r=function(e){for(var o,r=function(o){for(var r=[],l=0;l<9;l++)t[e][l].has(o)&&r.push(l);if(2===r.length||3===r.length){var i=Math.floor(r[0]/3);if(r.every((function(e){return Math.floor(e/3)===i}))){var c=3*Math.floor(e/3)+i,u=n.getAreaCells(a.BOX,c).filter((function(n){return n.row!==e&&t[n.row][n.col].has(o)}));if(u.length>0)return{v:{v:{value:o,lineCells:r.map((function(t){return{row:e,col:t}})),affectedCells:u,direction:a.ROW,lineIndex:e,boxIndex:c}}}}}},l=1;l<=9;l++)if(o=r(l))return o.v},l=0;l<9;l++)if(o=r(l))return o.v;for(var i,c=function(e){for(var o,r=function(o){for(var r=[],l=0;l<9;l++)t[l][e].has(o)&&r.push(l);if(2===r.length||3===r.length){var i=Math.floor(r[0]/3);if(r.every((function(e){return Math.floor(e/3)===i}))){var c=3*i+Math.floor(e/3),u=n.getAreaCells(a.BOX,c).filter((function(n){return n.col!==e&&t[n.row][n.col].has(o)}));if(u.length>0)return{v:{v:{value:o,lineCells:r.map((function(t){return{row:t,col:e}})),affectedCells:u,direction:a.COLUMN,lineIndex:e,boxIndex:c}}}}}},l=1;l<=9;l++)if(o=r(l))return o.v},u=0;u<9;u++)if(i=c(u))return i.v;return null},i.createBoxLineReductionSteps=function(e,t,o){var n=[],r=o.value,a=o.lineCells,l=o.affectedCells,i=o.direction;return n.push(this.createDiscoveryStep(e,t,r,a,l,i)),n.push(this.createRuleExplanationStep(e,t,r,a,l,i)),n.push(this.createImpactDemonstrationStep(e,t,r,a,l,i)),n.push(this.createRemovalExecutionStep(e,t,r,a,l,i)),n},i.createDiscoveryStep=function(e,t,o,n,i,g){var s=this;this.getAreaCells(a.BOX,c.getBoxIndex(n[0].row,n[0].col));return{technique:this.name,stepId:1,position:n[0],value:0,get description(){return e=g===a.ROW?u.language.getLangByID("strategy.row"):u.language.getLangByID("strategy.col"),u.language.getLangByID("BoxLineReductionStrategy.discoveryDes",{name:s.name,description:s.description,directionName:e,value:o});var e},highlights:[].concat((g===a.ROW?c.getRowCells(n[0].row):c.getColumnCells(n[0].col)).map((function(o){return{position:o,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:e[o.row][o.col]===l?[].concat(t[o.row][o.col]):void 0}}))),highlightNotes:[].concat(n.map((function(e){return{position:e,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:o}})))}},i.createRuleExplanationStep=function(e,t,o,n,i,g){var s=this,d=this.getAreaCells(a.BOX,c.getBoxIndex(n[0].row,n[0].col)),h=[(g===a.ROW?c.getRowCells(n[0].row):c.getColumnCells(n[0].col)).map((function(o){return{position:o,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:e[o.row][o.col]===l?[].concat(t[o.row][o.col]):void 0}})),d.map((function(e){return{position:e,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}}))];return{technique:this.name,stepId:2,position:n[0],value:0,get description(){return e=g===a.ROW?u.language.getLangByID("strategy.row"):u.language.getLangByID("strategy.col"),u.language.getLangByID("BoxLineReductionStrategy.ruleExplanationDes",{name:s.name,directionName:e,value:o});var e},highlights:c.createDeduplicatedHighlights(h),highlightNotes:[].concat(n.map((function(e){return{position:e,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:o}})))}},i.createImpactDemonstrationStep=function(e,t,o,n,i,g){var s=this,d=this.getAreaCells(a.BOX,c.getBoxIndex(n[0].row,n[0].col)),h=[(g===a.ROW?c.getRowCells(n[0].row):c.getColumnCells(n[0].col)).map((function(o){return{position:o,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:e[o.row][o.col]===l?[].concat(t[o.row][o.col]):void 0,value:e[o.row][o.col]!==l?e[o.row][o.col]:void 0}})),d.map((function(e){return{position:e,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}}))];return{technique:this.name,stepId:3,position:n[0],value:0,get description(){return g===a.ROW?u.language.getLangByID("strategy.row"):u.language.getLangByID("strategy.col"),u.language.getLangByID("BoxLineReductionStrategy.impactDemonstrationDes",{name:s.name,value:o})},highlights:c.createDeduplicatedHighlights(h),highlightNotes:[].concat(n.map((function(e){return{position:e,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:o}})),i.map((function(e){return{position:e,backgroundColor:r.hintRemoveCell.background,textColor:r.hintRemoveCell.textColor,value:o}})))}},i.createRemovalExecutionStep=function(e,t,o,n,i,g){var s=this,d=this.getAreaCells(a.BOX,c.getBoxIndex(n[0].row,n[0].col));i.forEach((function(e){t[e.row][e.col].delete(o)}));var h=[(g===a.ROW?c.getRowCells(n[0].row):c.getColumnCells(n[0].col)).map((function(o){return{position:o,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:e[o.row][o.col]===l?[].concat(t[o.row][o.col]):void 0,value:e[o.row][o.col]!==l?e[o.row][o.col]:void 0}})),d.map((function(e){return{position:e,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}}))];return{technique:this.name,stepId:4,position:n[0],value:0,get description(){return g===a.ROW?u.language.getLangByID("strategy.row"):u.language.getLangByID("strategy.col"),u.language.getLangByID("BoxLineReductionStrategy.removalExecutionDes",{name:s.name,value:o})},highlights:c.createDeduplicatedHighlights(h),highlightNotes:[].concat(n.map((function(e){return{position:e,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:o}})))}},i.getAreaCells=function(e,t){if(e===a.ROW)return Array.from({length:9},(function(e,o){return{row:t,col:o}}));if(e===a.COLUMN)return Array.from({length:9},(function(e,o){return{row:o,col:t}}));for(var o=3*Math.floor(t/3),n=t%3*3,r=[],l=0;l<3;l++)for(var i=0;i<3;i++)r.push({row:o+l,col:n+i});return r},o(n,[{key:"name",get:function(){return u.language.getLangByID("BoxLineReductionStrategy.name")}},{key:"description",get:function(){return u.language.getLangByID("BoxLineReductionStrategy.description")}}]),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/BranchNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BehaviorTree.ts","./BTreeNode.ts"],(function(n){var t,i,o,e;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy},function(n){o=n.BehaviorTree},function(n){e=n.BTreeNode}],execute:function(){i._RF.push({},"beafaDMsw9FCbGDpLVmMfa1","BranchNode",void 0);n("BranchNode",function(n){function i(t){var i;return(i=n.call(this)||this).children=void 0,i._actualTask=void 0,i._runningNode=void 0,i._nodeRunning=void 0,i._blackboard=void 0,i.children=t||[],i}t(i,n);var e=i.prototype;return e.start=function(){this._actualTask=0,n.prototype.start.call(this)},e.run=function(n){0==this.children.length?this._control.fail():(this._blackboard=n,this.start(),this._actualTask<this.children.length&&this._run()),this.end()},e._run=function(n){var t=o.getNode(this.children[this._actualTask]);this._runningNode=t,t.setControl(this),t.start(this._blackboard),t.run(this._blackboard)},e.running=function(n){this._nodeRunning=n,this._control.running(n)},e.success=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},e.fail=function(){this._nodeRunning=null,this._runningNode.end(this._blackboard)},i}(e));i._RF.pop()}}}));

System.register("chunks:///_virtual/BTreeNode.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"f0aeepAwndJP7wlpP6QKx06","BTreeNode",void 0);t("BTreeNode",function(){function t(){this._control=void 0,this.title=void 0,this.title=this.constructor.name}var n=t.prototype;return n.start=function(t){},n.end=function(t){},n.setControl=function(t){this._control=t},n.running=function(t){this._control.running(this)},n.success=function(){this._control.success()},n.fail=function(){this._control.fail()},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BuildTimeConstants.ts",["cc","./env"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t}],execute:function(){n._RF.push({},"21a39/4HchJdJkSQKKKkLh9","BuildTimeConstants",void 0);var o=Object.keys(e).sort();t("BuildTimeConstants",(function(){var t=o.reduce((function(t,n){return Math.max(t,n.length)}),0),n=""+o.map((function(n){var o=e[n],u="boolean"==typeof o?o?"true":"false":o;return"\n"+n.padStart(t," ")+" : "+u}));console.log(n)}));n._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./ButtonSimple.ts"],(function(t){var e,n,o,i,a,r,s,c,l,u,p,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.Animation,l=t.AnimationClip,u=t.Node,p=t.Sprite},function(t){f=t.oops},function(t){d=t.default}],execute:function(){var h,m,y,g,T,_;r._RF.push({},"1be36hrGO5Oz6Eapg6ygW03","ButtonEffect",void 0);var b=s.ccclass,v=s.property,E=s.menu;t("default",(h=b("ButtonEffect"),m=E("OopsFramework/Button/ButtonEffect （有特效按钮）"),y=v({tooltip:"是否开启"}),h(g=m((_=e((T=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"disabledEffect",_,i(e)),e.anim=void 0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.anim=this.node.addComponent(c);var e=f.res.get("common/anim/button_scale_start",l),n=f.res.get("common/anim/button_scale_end",l);this.anim.defaultClip=e,this.anim.createState(e,null==e?void 0:e.name),this.anim.createState(n,null==n?void 0:n.name),this.node.on(u.EventType.TOUCH_START,this.onTouchtStart,this),t.prototype.onLoad.call(this)},r.onTouchtStart=function(t){this.disabledEffect||this.anim.play("button_scale_start")},r.onTouchEnd=function(e){this.disabledEffect||this.anim.play("button_scale_end"),t.prototype.onTouchEnd.call(this,e)},r.onDestroy=function(){this.node.off(u.EventType.TOUCH_START,this.onTouchtStart,this),t.prototype.onDestroy.call(this)},a(e,[{key:"grayscale",get:function(){return this.node.getComponent(p).grayscale},set:function(t){this.node.getComponent(p)&&(this.node.getComponent(p).grayscale=t)}}]),e}(d)).prototype,"disabledEffect",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=T))||g)||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonSimple.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){var e,n,o,i,r,u,c,a,p,s,l,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){c=t.cclegacy,a=t._decorator,p=t.AudioClip,s=t.Node,l=t.game,f=t.Component},function(t){h=t.oops}],execute:function(){var d,y,T,m,E,v,C,b,g,_;c._RF.push({},"8d645yObX1FvJfk2sbi0rxp","ButtonSimple",void 0);var w=a.ccclass,O=a.property,S=a.menu;t("default",(d=w("ButtonSimple"),y=S("OopsFramework/Button/ButtonSimple （节点按钮）"),T=O({tooltip:"是否只触发一次"}),m=O({tooltip:"每次触发间隔"}),E=O({tooltip:"触摸音效",type:p}),d(v=y((b=e((C=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,o(e,"once",b,i(e)),o(e,"interval",g,i(e)),o(e,"effect",_,i(e)),e.touchCount=0,e.touchtEndTime=0,e}n(e,t);var c=e.prototype;return c.onLoad=function(){this.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},c.onTouchEnd=function(t){if(this.once){if(this.touchCount>0)return void(t.propagationStopped=!0);this.touchCount++}this.touchtEndTime&&l.totalTime-this.touchtEndTime<this.interval?t.propagationStopped=!0:(this.touchtEndTime=l.totalTime,this.playEffect())},c.playEffect=function(){var t=r(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.effect&&h.audio.playEffect(this.effect);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onDestroy=function(){this.node.off(s.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e}(f)).prototype,"once",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=e(C.prototype,"interval",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),_=e(C.prototype,"effect",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=C))||v)||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonTouchLong.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonEffect.ts"],(function(t){var o,n,e,i,s,c,u,r;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,c=t._decorator,u=t.EventHandler},function(t){r=t.default}],execute:function(){var a,h,l,p,f,T,_,g;s._RF.push({},"da96en7WYpPTaPIkO1l/Nux","ButtonTouchLong",void 0);var v=c.ccclass,m=c.property,L=c.menu;t("ButtonTouchLong",(a=v("ButtonTouchLong"),h=L("OopsFramework/Button/ButtonTouchLong （长按按钮）"),l=m({tooltip:"长按时间（秒）"}),p=m({type:[u],tooltip:"长按时间（秒）"}),a(f=h((_=o((T=function(t){function o(){for(var o,n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return o=t.call.apply(t,[this].concat(s))||this,e(o,"time",_,i(o)),e(o,"clickEvents",g,i(o)),o._passTime=0,o._isTouchLong=!0,o._event=null,o}n(o,t);var s=o.prototype;return s.onLoad=function(){this._isTouchLong=!1,t.prototype.onLoad.call(this)},s.onTouchtStart=function(o){this._event=o,this._passTime=0,t.prototype.onTouchtStart.call(this,o)},s.onTouchEnd=function(o){this._passTime>this.time&&(o.propagationStopped=!0),this._event=null,this._passTime=0,this._isTouchLong=!1,t.prototype.onTouchEnd.call(this,o)},s.removeTouchLong=function(){this._event=null,this._isTouchLong=!1},s.update=function(t){var o=this;this._event&&!this._isTouchLong&&(this._passTime+=t,this._passTime>=this.time&&(this._isTouchLong=!0,this.clickEvents.forEach((function(t){t.emit([t.customEventData]),o.playEffect()})),this.removeTouchLong()))},o}(r)).prototype,"time",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=o(T.prototype,"clickEvents",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=T))||f)||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/Calendar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DayItem.ts","./Config.ts","./EventType.ts","./Oops.ts"],(function(e){var t,n,a,r,i,o,s,l,u,c,h,d,f,g,D,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Label,l=e.Layout,u=e.Prefab,c=e.instantiate,h=e.Component,d=e.Node},function(e){f=e.DayItem},function(e){g=e.Language},function(e){D=e.EventType},function(e){p=e.oops}],execute:function(){var y,b,v,L,m,E,C,_,w,S,M,T,F,k,z;i._RF.push({},"2d307c+edpE0ZH3fJYJpCkY","Calendar",void 0);var A=o.ccclass,G=o.property,I=e("CalendarEvent",function(e){return e.SELECTED_DATE="selected_date",e}({}));e("Calendar",(y=A("Calendar"),b=G(s),v=G(s),L=G([s]),m=G(l),E=G(u),C=G({tooltip:"是否允许选择未来日期"}),y((S=t((w=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"monthLabel",S,r(t)),a(t,"progressLabel",M,r(t)),a(t,"weekdayLabels",T,r(t)),a(t,"daysGrid",F,r(t)),a(t,"dayItemPrefab",k,r(t)),a(t,"allowFutureSelection",z,r(t)),t._currentDate=new Date,t.selectedDate=null,t}n(t,e);var i=t.prototype;return i.onLoad=function(){this.refreshCalendar(),this.initEventListeners()},i.onDestroy=function(){this.cleanup()},i.initEventListeners=function(){p.message.on(D.REFRESH_LANGUAGE,this.onRefreshLanguage,this)},i.cleanup=function(){p.message.off(D.REFRESH_LANGUAGE,this.onRefreshLanguage,this)},i.onRefreshLanguage=function(){this.updateMonthLabel(),this.updateWeekdayLabels()},i.setMonth=function(e,t,n){this._currentDate=new Date(e,t-1,n),this.refreshCalendar()},i.getCurrentMonth=function(){return{year:this._currentDate.getFullYear(),month:this._currentDate.getMonth()+1}},i.prevMonth=function(){var e=new Date(this._currentDate);e.setMonth(e.getMonth()-1),this._currentDate=e,this.refreshCalendar()},i.nextMonth=function(){var e=new Date(this._currentDate);e.setMonth(e.getMonth()+1),this._currentDate=e,this.refreshCalendar()},i.refreshCalendar=function(){this.updateMonthLabel(),this.updateWeekdayLabels(),this.generateDayItems()},i.updateMonthLabel=function(){var e=this._currentDate.toLocaleDateString(p.language.current,{year:"numeric",month:"long"});this.monthLabel.string=e},i.getWeekdayNames=function(e){void 0===e&&(e="zh-CN");for(var t=new Date(2025,4,26),n=[],a=0;a<7;a++){var r=new Date(t);r.setDate(t.getDate()+a),n.push(r.toLocaleDateString(e,{weekday:"short"}))}return e===g.ZH_CN?["周一","周二","周三","周四","周五","周六","周日"]:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},i.updateWeekdayLabels=function(){var e=this;this.getWeekdayNames(p.language.current).forEach((function(t,n){e.weekdayLabels[n].string=t}))},i.generateDayItems=function(){var e=this,t=this._currentDate.getFullYear(),n=this._currentDate.getMonth(),a=new Date,r=new Date(t,n+1,0).getDate(),i=(new Date(t,n,1).getDay()+6)%7;this.progressLabel.string="0/"+r;for(var o=this.daysGrid.node.children,s=0,l=0;l<i;l++){var u=o[s];u||(u=c(this.dayItemPrefab),this.daysGrid.node.addChild(u)),u.getComponent(f).hideAll(),u.active=!0,s++}for(var h=this._currentDate.getFullYear()===a.getFullYear()&&this._currentDate.getMonth()===a.getMonth(),g=h?a.getDate():1,D=function(){var r=new Date(t,n,y),i=h&&e.isSameDay(r,a),l=r>a&&!i,u=o[s];u||(u=c(e.dayItemPrefab),e.daysGrid.node.addChild(u));var D=u.getComponent(f);u.active=!0,D.init(r,{isToday:i,isSelectable:!l||e.allowFutureSelection}),u.off(d.EventType.TOUCH_END),D.isSelectable&&u.on(d.EventType.TOUCH_END,(function(){e.selectedDate&&e.selectedDate.setSelected(!1),D.setSelected(!0),e.selectedDate=D,p.message.dispatchEvent(I.SELECTED_DATE,e.selectedDate)}));var b=h&&i||!h&&y===g;D.setSelected(b),b&&(e.selectedDate=D,p.message.dispatchEvent(I.SELECTED_DATE,e.selectedDate)),s++},y=1;y<=r;y++)D();for(var b=s;b<o.length;b++)o[b].active=!1},i.onStartChallenge=function(){console.log("开始每日挑战")},i.isSameDay=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},t}(h)).prototype,"monthLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(w.prototype,"progressLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(w.prototype,"weekdayLabels",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(w.prototype,"daysGrid",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(w.prototype,"dayItemPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"allowFutureSelection",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=w))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/CameraUtil.ts",["cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.Vec3,r=e.view}],execute:function(){t._RF.push({},"95c77QQpp1EjKj8UBFCCdKu","CameraUtil",void 0);e("CameraUtil",function(){function e(){}return e.isInView=function(e,t){var i=e.node.getWorldPosition(),o=e.worldToScreen(t),c=n.normalize(new n,t.subtract(i)),u=e.node.forward,a=n.dot(u,c),s=r.getViewportRect();return a>0&&o.x<=s.width&&o.x>=0&&o.y<=s.height&&o.y>=0},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CandidateErrorStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(o){var t,e,r,l,a,n,u,i;return{setters:[function(o){t=o.inheritsLoose,e=o.extends,r=o.createClass},function(o){l=o.cclegacy},function(o){a=o.HighlightConfig},function(o){n=o.BaseStrategy},function(o){u=o.SolverUtils},function(o){i=o.oops}],execute:function(){l._RF.push({},"9812c9FuZhGvq7Ph+RX0sfU","CandidateErrorStrategy",void 0);o("CandidateErrorStrategy",function(o){function l(){for(var t,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return(t=o.call.apply(o,[this].concat(r))||this).difficulty=0,t}t(l,o);var n=l.prototype;return n.execute=function(o,t){return null},n.buildErrorSteps=function(o,t,e,r,l,a){var n=[];return n.push(this.createErrorDetectionStep(t,e,r,l,a)),n.push(this.createCorrectionStep(t,e,r,l,a)),n},n.createErrorDetectionStep=function(o,t,e,r,l){for(var n=this,c=new Map,s=[],d=function(e){for(var l=function(l){var u=[];t[e][l].forEach((function(o){r[e][l].has(o)||(s.push({position:{row:e,col:l},value:o,backgroundColor:a.hintRemoveCell.background,textColor:a.hintRemoveCell.textColor}),u.push(o))}));var i=!1;r[e][l].forEach((function(r){0==t[e][l].size?(s.push({position:{row:e,col:l},value:r,backgroundColor:a.targetCell.background,textColor:a.targetCell.textColor}),u.push(r)):t[e][l].has(r)||o[e][l]!=r?t[e][l].has(r)&&(s.push({position:{row:e,col:l},value:r,backgroundColor:a.defaultCell.background,textColor:a.defaultCell.textColor}),u.push(r)):(s.push({position:{row:e,col:l},value:r,backgroundColor:a.targetCell.background,textColor:a.targetCell.textColor}),u.push(r),i=!0)})),i&&r[e][l].forEach((function(o){s.push({position:{row:e,col:l},value:o,backgroundColor:a.targetCell.background,textColor:a.targetCell.textColor}),u.push(o)})),n.addHighlight(c,{position:{row:e,col:l},backgroundColor:a.defaultCell.background,textColor:a.defaultCell.textColor,candidates:u})},u=0;u<9;u++)l(u)},g=0;g<9;g++)d(g);var C=Array.from(c.values()),h=[];t[l.row][l.col].forEach((function(o){r[l.row][l.col].has(o)||(s.push({position:l,value:o,backgroundColor:a.hintRemoveCell.background,textColor:a.hintRemoveCell.textColor}),h.push(o))})),r[l.row][l.col].forEach((function(o){t[l.row][l.col].has(o)?(s.push({position:l,value:o,backgroundColor:a.defaultCell.background,textColor:a.defaultCell.textColor}),h.push(o)):(s.push({position:l,value:o,backgroundColor:a.targetCell.background,textColor:a.targetCell.textColor}),h.push(o))})),C.push({position:l,candidates:h,backgroundColor:a.defaultCell.background,textColor:a.defaultCell.textColor});return{technique:this.name,stepId:1,position:l,value:0,get description(){return i.language.getLangByID("CandidateErrorStrategy.errorDetectionStep",{name:n.name,description:n.description})},highlights:u.deduplicateHighlights(C),highlightNotes:u.deduplicateHighlightNotes(s)}},n.createCorrectionStep=function(o,t,e,r,l){for(var n=this,c=new Map,s=[],d=function(e){for(var l=function(l){var u=[],i=!1;r[e][l].forEach((function(r){0==t[e][l].size?(s.push({position:{row:e,col:l},value:r,backgroundColor:a.defaultCell.background,textColor:a.defaultCell.textColor}),u.push(r)):t[e][l].has(r)||o[e][l]!=r?t[e][l].has(r)&&(s.push({position:{row:e,col:l},value:r,backgroundColor:a.defaultCell.background,textColor:a.defaultCell.textColor}),u.push(r)):(s.push({position:{row:e,col:l},value:r,backgroundColor:a.defaultCell.background,textColor:a.defaultCell.textColor}),u.push(r),i=!0)})),i&&r[e][l].forEach((function(o){s.push({position:{row:e,col:l},value:o,backgroundColor:a.defaultCell.background,textColor:a.defaultCell.textColor}),u.push(o)})),n.addHighlight(c,{position:{row:e,col:l},backgroundColor:a.defaultCell.background,textColor:a.defaultCell.textColor,candidates:u})},u=0;u<9;u++)l(u)},g=0;g<9;g++)d(g);var C=Array.from(c.values()),h=[];r[l.row][l.col].forEach((function(o){t[l.row][l.col].has(o),s.push({position:l,value:o,backgroundColor:a.defaultCell.background,textColor:a.defaultCell.textColor}),h.push(o)})),C.push({position:l,candidates:h,backgroundColor:a.defaultCell.background,textColor:a.defaultCell.textColor});return{technique:this.name,stepId:2,position:l,value:0,get description(){return i.language.getLangByID("CandidateErrorStrategy.correctionStep",{name:n.name,description:n.description})},highlights:u.deduplicateHighlights(C),highlightNotes:u.deduplicateHighlightNotes(s)}},n.addHighlight=function(o,t){var r=t.position.row+","+t.position.col;if(o.has(r)){var l=o.get(r);o.set(r,e({},l,t))}else o.set(r,t)},r(l,[{key:"name",get:function(){return i.language.getLangByID("CandidateErrorStrategy.name")}},{key:"description",get:function(){return i.language.getLangByID("CandidateErrorStrategy.description")}}]),l}(n));l._RF.pop()}}}));

System.register("chunks:///_virtual/CCComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts"],(function(o){var t,e,n,c;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator},function(o){c=o.GameComponent}],execute:function(){var r,i;e._RF.push({},"dd207fiyGJLf5r+bkiMgwdt","CCComp",void 0);var a=n.ccclass;n.property,o("CCComp",a("CCComp")(((i=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return(t=o.call.apply(o,[this].concat(n))||this).canRecycle=void 0,t.ent=void 0,t}return t(e,o),e}(c)).tid=-1,i.compName=void 0,r=i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/CCVMParentComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMParent.ts"],(function(t){var e,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator},function(t){o=t.default}],execute:function(){var c,a;n._RF.push({},"5908aTmM1lItpXgo7ROpQeQ","CCVMParentComp",void 0);var i=r.ccclass;r.property,t("CCVMParentComp",i("CCVMParentComp")(((a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).canRecycle=void 0,e.ent=void 0,e}return e(n,t),n}(o)).tid=-1,a.compName=void 0,c=a))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Collection.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,e,a,i;return{setters:[function(t){r=t.inheritsLoose,e=t.createClass,a=t.wrapNativeSuper},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"1dcf5AtQQVK3KQ/2jHHD5gi","Collection",void 0);t("Collection",function(t){function a(){for(var r,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return(r=t.call.apply(t,[this].concat(a))||this)._array=[],r}r(a,t);var i=a.prototype;return i.set=function(r,e){if(this.has(r)){var a=this.get(r),i=this._array.indexOf(a);this._array[i]=e}else this._array.push(e);return t.prototype.set.call(this,r,e)},i.delete=function(r){var e=this.get(r);if(e){var a=this._array.indexOf(e);return a>-1&&this._array.splice(a,1),t.prototype.delete.call(this,r)}return!1},i.clear=function(){this._array.splice(0,this._array.length),t.prototype.clear.call(this)},e(a,[{key:"array",get:function(){return this._array}}]),a}(a(Map)));i._RF.pop()}}}));

System.register("chunks:///_virtual/CommonPrompt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageLabel.ts","./Oops.ts"],(function(n){var t,e,o,i,c,l,a,r,s;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){c=n.cclegacy,l=n._decorator,a=n.Component},function(n){r=n.LanguageLabel},function(n){s=n.oops}],execute:function(){var u,f,h,b,p,g,d,m,_,y,C;c._RF.push({},"653bf8VPC5Fn49zFJFqXVgx","CommonPrompt",void 0);var F=l.ccclass,k=l.property;n("CommonPrompt",(u=F("CommonPrompt"),f=k(r),h=k(r),b=k(r),p=k(r),u((m=t((d=function(n){function t(){for(var t,e=arguments.length,c=new Array(e),l=0;l<e;l++)c[l]=arguments[l];return t=n.call.apply(n,[this].concat(c))||this,o(t,"lab_title",m,i(t)),o(t,"lab_content",_,i(t)),o(t,"lab_ok",y,i(t)),o(t,"lab_cancel",C,i(t)),t.config={},t}e(t,n);var c=t.prototype;return c.onAdded=function(n){return this.config=n||{},this.setTitle(),this.setContent(),this.setBtnOkLabel(),this.setBtnCancelLabel(),this.node.active=!0,!0},c.setTitle=function(){this.lab_title.dataID=this.config.title},c.setContent=function(){this.lab_content.dataID=this.config.content},c.setBtnOkLabel=function(){this.lab_ok.dataID=this.config.okWord},c.setBtnCancelLabel=function(){this.lab_cancel&&(this.lab_cancel.dataID=this.config.cancelWord,this.lab_cancel.node.parent.active=this.config.needCancel||!1)},c.onOk=function(){"function"==typeof this.config.okFunc&&this.config.okFunc(),this.close()},c.onClose=function(){"function"==typeof this.config.closeFunc&&this.config.closeFunc(),this.close()},c.onCancel=function(){"function"==typeof this.config.cancelFunc&&this.config.cancelFunc(),this.close()},c.close=function(){s.gui.removeByNode(this.node)},c.onDestroy=function(){this.config=null},t}(a)).prototype,"lab_title",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(d.prototype,"lab_content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(d.prototype,"lab_ok",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(d.prototype,"lab_cancel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));c._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){var o,t;r._RF.push({},"21b43vBqh9BOb5iy2zXa0dq","Config",void 0);var a=e("ThemeName",function(e){return e.Default="Default",e.Brown="Brown",e.Nature="Nature",e.Dark="Dark",e}({})),l=(e("MIN_GIVENS",17),e("NR_SQUARES",81),e("SudokuDifficulty",function(e){return e[e.Novice=0]="Novice",e[e.Beginner=1]="Beginner",e[e.Elementary=2]="Elementary",e[e.Intermediate=3]="Intermediate",e[e.Advanced=4]="Advanced",e[e.Expert=5]="Expert",e[e.Master=6]="Master",e[e.Extreme=7]="Extreme",e}({}))),f=(e("PuzzleLibraryPath",function(e){return e.Novice="database/p_0",e.Beginner="database/p_1",e.Elementary="database/p_2",e.Intermediate="database/p_3",e.Advanced="database/p_4",e.Expert="database/p_5",e.Master="database/p_6",e.Extreme="database/p_7",e}({})),e("SudokuGameMode",function(e){return e.NORMAL="normal",e.DAILY_CHALLENGE="daily",e.ARENA="arena",e.PRACTICE="practice",e}({})),e("GameState",function(e){return e[e.Ready=0]="Ready",e[e.Playing=1]="Playing",e[e.Paused=2]="Paused",e[e.GameOver=3]="GameOver",e}({})),e("Language",function(e){return e.ZH_CN="zh-CN",e.EN="en",e}({})));e("DEFAULT_LANGUAGE",f.ZH_CN),e("default",{theme:(o={},o[a.Default]={gameBackgroundColor:"#f7fbff",gamePrimaryColor:"#4a75ce",gameAccentColor:"#393c6a",gameSecondaryColor:"#aeb7d6",gameNeutralColor:"#181c42",boldLineColor:"#181c42",thinLineColor:"#d4dcf9",cellBackground:"#ffffff",cellTextColor:"#181c42",selectedCellBackground:"#4269b5",selectedCellTextColor:"#ffffff",relatedAreaBackground:"#f7f3ff",relatedAreaTextColor:"#181c42",prefilledTextColor:"#4269b5",errorBackground:"#ffffff",errorTextColor:"#d63c5a",selectedErrorTextColor:"#ff8a8c",hintBackground:"#ffffbd",hintTextColor:"#4269b5",hintRemoveBackground:"#ed6464",hintRemoveTextColor:"#ffffff",noteTextColor:"#2f312f",selectedNoteTextColor:"#f5f6ff",sameNumberNoteBackground:"#4269b5",sameNumberNoteTextColor:"#fffdff",sameNumberBackground:"#cedfff",sameNumberTextColor:"#181c42"},o[a.Brown]={gameBackgroundColor:"#fffbef",gamePrimaryColor:"#6b3410",gameAccentColor:"#9c5d18",gameSecondaryColor:"#c7ae80",gameNeutralColor:"#6b3410",boldLineColor:"#6b3410",thinLineColor:"#decfad",cellBackground:"#fffff7",cellTextColor:"#6b3410",selectedCellBackground:"#9c5d18",selectedCellTextColor:"#ffffff",relatedAreaBackground:"#ffefde",relatedAreaTextColor:"#6b3410",prefilledTextColor:"#9c5d18",errorBackground:"#fffff7",errorTextColor:"#d63c5a",selectedErrorTextColor:"#ff8a8c",hintBackground:"#9c5d18",hintTextColor:"#ffffff",hintRemoveBackground:"#d63c5a",hintRemoveTextColor:"#ffffff",noteTextColor:"#75411d",selectedNoteTextColor:"#faf8f6",sameNumberNoteBackground:"#9c5d18",sameNumberNoteTextColor:"#fef9f4",sameNumberBackground:"#f7dfb5",sameNumberTextColor:"#6b3410"},o[a.Nature]={gameBackgroundColor:"#f7fff7",gamePrimaryColor:"#214500",gameAccentColor:"#317d4a",gameSecondaryColor:"#8cba9c",gameNeutralColor:"#214500",boldLineColor:"#214500",thinLineColor:"#add3bd",cellBackground:"#f7fff7",cellTextColor:"#214500",selectedCellBackground:"#317d4a",selectedCellTextColor:"#fefefe",relatedAreaBackground:"#e7fbde",relatedAreaTextColor:"#214500",prefilledTextColor:"#317d4a",errorBackground:"#f7fff7",errorTextColor:"#d63c5a",selectedErrorTextColor:"#ff8a8c",hintBackground:"#ffffbd",hintTextColor:"#4269b5",hintRemoveBackground:"#E8F5E9",hintRemoveTextColor:"#2E7D32",noteTextColor:"#3a5c1c",selectedNoteTextColor:"#ffffff",sameNumberNoteBackground:"#317d4a",sameNumberNoteTextColor:"#ffffff",sameNumberBackground:"#cee7bd",sameNumberTextColor:"#214500"},o[a.Dark]={gameBackgroundColor:"#101010",gamePrimaryColor:"#6b799c",gameAccentColor:"#395d9c",gameSecondaryColor:"#3f4860",gameNeutralColor:"#b5bace",boldLineColor:"#424d63",thinLineColor:"#292842",cellBackground:"#101010",cellTextColor:"#8496bd",selectedCellBackground:"#39599c",selectedCellTextColor:"#8496bd",relatedAreaBackground:"#212031",relatedAreaTextColor:"#8496bd",prefilledTextColor:"#4a75ce",errorBackground:"#101010",errorTextColor:"#bd4963",selectedErrorTextColor:"#bd4963",hintBackground:"#6b799c",hintTextColor:"#ffffff",hintRemoveBackground:"#8496bd",hintRemoveTextColor:"#d63c5a",noteTextColor:"#7f91b6",selectedNoteTextColor:"#8395b9",sameNumberNoteBackground:"#39599c",sameNumberNoteTextColor:"#8395b9",sameNumberBackground:"#293052",sameNumberTextColor:"#8496bd"},o),difficulty:(t={},t[l.Novice]={label:"SudokuDifficulty.Novice",prefilledNumbers:64,maxErrors:3,timeLimit:1200,hintLimit:3},t[l.Beginner]={label:"SudokuDifficulty.Beginner",prefilledNumbers:53,maxErrors:3,timeLimit:900,hintLimit:3},t[l.Elementary]={label:"SudokuDifficulty.Elementary",prefilledNumbers:44,maxErrors:3,timeLimit:600,hintLimit:3},t[l.Intermediate]={label:"SudokuDifficulty.Intermediate",prefilledNumbers:35,maxErrors:3,timeLimit:300,hintLimit:3},t[l.Advanced]={label:"SudokuDifficulty.Advanced",prefilledNumbers:26,maxErrors:3,timeLimit:180,hintLimit:3},t[l.Expert]={label:"SudokuDifficulty.Expert",prefilledNumbers:21,maxErrors:3,timeLimit:120,hintLimit:3},t[l.Master]={label:"SudokuDifficulty.Master",prefilledNumbers:17,maxErrors:3,timeLimit:120,hintLimit:void 0,isShowAutoNote:!0},t[l.Extreme]={label:"SudokuDifficulty.Extreme",prefilledNumbers:17,maxErrors:3,timeLimit:120,hintLimit:3},t),defaultFontSize:28,enableSound:!0,enableAnimation:!0,languages:Object.values(f)});r._RF.pop()}}}));

System.register("chunks:///_virtual/Config2.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"5034dEezo5Frr6dhZGVgmTh","Config",void 0);i("Config",(function(){this.game=void 0,this.query=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Configuration.ts",["cc","./Config.ts","./EventType.ts","./Oops.ts"],(function(t){var e,n,i,u,f,r;return{setters:[function(t){e=t.cclegacy},function(t){n=t.default,i=t.ThemeName,u=t.SudokuDifficulty},function(t){f=t.EventType},function(t){r=t.oops}],execute:function(){e._RF.push({},"bb34ahSDIBFGbRuXPZ8Tc/j","Configuration",void 0),t("Configuration",function(){function t(){this.currentTheme=void 0,this.currentDifficulty=void 0,this.currentTheme=this.loadPersistedConfig("theme")||i.Default,this.currentDifficulty=this.loadPersistedConfig("difficulty")||u.Beginner}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var e=t.prototype;return e.getThemeConfig=function(){return n.theme[this.currentTheme]},e.getCurrentTheme=function(){return this.currentTheme},e.getCurrentDifficulty=function(){return this.currentDifficulty},e.setTheme=function(t){this.currentTheme=t,this.persistConfig("theme",t),this.notifyConfigChange()},e.getAvailableThemes=function(){return Object.values(i)},e.getDifficultyConfig=function(){return n.difficulty[this.currentDifficulty]},e.setDifficulty=function(t){this.currentDifficulty=t,this.persistConfig("difficulty",t.toString()),this.notifyConfigChange()},e.persistConfig=function(t,e){r.storage.set("sudo_"+t,e)},e.loadPersistedConfig=function(t){var e=r.storage.get("sudo_"+t);return e&&e||null},e.notifyConfigChange=function(){r.message.dispatchEvent(f.REFRESH_THEME)},t}()).instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/CustomToggle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,n,r,a,l,u,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,u=e.Toggle,c=e.Component}],execute:function(){var s,f,g,p,d,h,b,y,v;r._RF.push({},"8153fG5b5NB+6fEU22QuKKk","CustomToggle",void 0);var N=a.ccclass,m=a.property;e("CustomToggle",(s=N("CustomToggle"),f=m(l),g=m(l),p=m(u),s((b=t((h=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"onStateNode",b,n(t)),i(t,"offStateNode",y,n(t)),i(t,"toggle",v,n(t)),t}return o(t,e),t.prototype.onToggle=function(e,t){this.toggle.isChecked?(this.onStateNode.active=!0,this.offStateNode.active=!1):(this.onStateNode.active=!1,this.offStateNode.active=!0)},t}(c)).prototype,"onStateNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(h.prototype,"offStateNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(h.prototype,"toggle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/DailyChallengeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){var e,n,r;return{setters:[function(t){e=t.extends},function(t){n=t.cclegacy},function(t){r=t.oops}],execute:function(){n._RF.push({},"85bd1f1IBpFm7c8tXuU7l2A","DailyChallengeManager",void 0);var o=t("DailyChallengeManager",function(){function t(){this.cachedHistory=void 0,this.loadHistoryToCache()}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var n=t.prototype;return n.getHistory=function(){return this.cachedHistory},n.updateCurrentGame=function(t,e){var n=this.getHistory(),r=this.getDateString(e);t.createTime=t.createTime||Date.now();var o=this.convertToStoredData(t);n[r]=o,this.saveHistory(n)},n.getAllChallenges=function(){var t=this,e=this.getHistory(),n={};return Object.keys(e).sort((function(t,e){return new Date(e).getTime()-new Date(t).getTime()})).forEach((function(r){n[r]=t.convertToGameData(e[r])})),n},n.getChallengeByDate=function(t){var e=this.getDateString(t),n=this.getHistory()[e];return n?this.convertToGameData(n):null},n.loadHistoryToCache=function(){var e=r.storage.get(t.HISTORY_STORAGE_KEY);this.cachedHistory=e?JSON.parse(e):this.getDefaultHistory()},n.getDefaultHistory=function(){return{}},n.saveHistory=function(e){r.storage.set(t.HISTORY_STORAGE_KEY,JSON.stringify(e))},n.convertToStoredData=function(t){return e({},t,{userInputs:this.mapToObject(t.userInputs),userInputNotes:this.mapToObject(t.userInputNotes)})},n.convertToGameData=function(t){return e({},t,{userInputs:this.objectToMap(t.userInputs),userInputNotes:this.objectToMap(t.userInputNotes)})},n.mapToObject=function(t){var e={};return t.forEach((function(t,n){e[n]=t})),e},n.objectToMap=function(t){var e=new Map;return Object.entries(t).forEach((function(t){var n=t[0],r=t[1];e.set(n,r)})),e},n.getDateString=function(t){return t.toISOString().split("T")[0]},t}());o.instance=void 0,o.HISTORY_STORAGE_KEY="sudoku_daily_challenge_history_v2",n._RF.pop()}}}));

System.register("chunks:///_virtual/DailyChallengePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Calendar.ts","./InfinitePageView.ts","./Config.ts","./UIConfig.ts","./Oops.ts"],(function(e){var t,n,i,a,o,r,l,s,g,c,u,f,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Button,s=e.Component},function(e){g=e.CalendarEvent},function(e){c=e.InfinitePageView,u=e.InfinitePageViewEvent},function(e){f=e.SudokuGameMode},function(e){p=e.UIID},function(e){h=e.oops}],execute:function(){var P,d,D,v,y,b,C,_,E;o._RF.push({},"1e976/OgrxOqKqP+LitS2ML","DailyChallengePage",void 0);var m=r.ccclass,w=r.property;e("DailyChallengePage",(P=m("DailyChallengePage"),d=w({type:c,tooltip:"InfinitePageView",visible:!0}),D=w({type:l,tooltip:"btn_nextPage",visible:!0}),v=w({type:l,tooltip:"btn_prevPage",visible:!0}),P((C=t((b=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"infinitePageView",C,a(t)),i(t,"btn_nextPage",_,a(t)),i(t,"btn_prevPage",E,a(t)),t.selectedDate=null,t}n(t,e);var o=t.prototype;return o.onLoad=function(){h.message.on(u.PAGE_CHANGED,this.onPageChanged,this),h.message.on(g.SELECTED_DATE,this.onSelectedDate,this)},o.onDestroy=function(){h.message.off(u.PAGE_CHANGED,this.onPageChanged,this),h.message.off(g.SELECTED_DATE,this.onSelectedDate,this)},o.onPageChanged=function(){var e=this.infinitePageView.getPageState();this.btn_nextPage.node.active=e.canNext,this.btn_prevPage.node.active=e.canPrev},o.onSelectedDate=function(e,t){this.selectedDate=t,console.log("args->",t)},o.start=function(){var e=this.getDateRangeForCalendar();console.log("data->",e),this.infinitePageView.setData(e,e.length-1)},o.update=function(e){},o.getDateRangeForCalendar=function(){for(var e=[],t=new Date,n=t.getFullYear(),i=t.getMonth(),a=t.getDate(),o=0;o<i;o++)e.push({year:n,month:o+1,day:1});return e.push({year:n,month:i+1,day:a}),e},o.onPrevPage=function(){this.infinitePageView.prevPage()},o.onNextPage=function(){this.infinitePageView.nextPage()},o.onStartGame=function(){var e;h.gui.replaceAsync(p.Lobby,p.Game,{gameMode:f.DAILY_CHALLENGE,data:{date:null==(e=this.selectedDate)?void 0:e.date}})},t}(s)).prototype,"infinitePageView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(b.prototype,"btn_nextPage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(b.prototype,"btn_prevPage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=b))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/DailyChallengePageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Calendar.ts","./InfinitePageViewItem.ts"],(function(e){var t,a,n,i,r,l,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator},function(e){o=e.Calendar},function(e){c=e.InfinitePageViewItem}],execute:function(){var s,u,p,f,g;r._RF.push({},"ca5c5+VPx9Hro7erb8kv3et","DailyChallengePageItem",void 0);var y=l.ccclass,d=l.property;e("DailyChallengePageItem",(s=y("DailyChallengePageItem"),u=d({type:o,tooltip:"Calendar",visible:!0}),s((g=t((f=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"calendar",g,i(t)),t}a(t,e);var r=t.prototype;return r.start=function(){},r.update=function(e){},r.updateView=function(e){console.log("刷新界面",e),this.calendar.setMonth(e.year,e.month,e.day)},t}(c)).prototype,"calendar",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/DailyGameRecords.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"436a2cgugVI26OzYbqt7+6L","DailyGameRecords",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DateExt.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"80ebbBz8etB5qijWdYrU2HH","DateExt",void 0),Date.prototype.format=function(e){var t=this.getFullYear(),r=this.getMonth()+1,c=this.getDate(),s=this.getHours(),a=this.getMinutes(),i=this.getSeconds();return e.replace("yy",t.toString()).replace("mm",(r<10?"0":"")+r).replace("dd",(c<10?"0":"")+c).replace("hh",(s<10?"0":"")+s).replace("mm",(a<10?"0":"")+a).replace("ss",(i<10?"0":"")+i)},e._RF.pop()}}}));

System.register("chunks:///_virtual/DayItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DailyChallengeManager.ts"],(function(e){var t,i,a,r,n,s,l,o,c,d,u,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){s=e.cclegacy,l=e._decorator,o=e.Label,c=e.Sprite,d=e.ProgressBar,u=e.Color,g=e.Component},function(e){p=e.DailyChallengeManager}],execute:function(){var h,y,b,f,v,B,S,D,L,m,_;s._RF.push({},"4986d6C4eVB1qfs+z4i+kkR","DayItem",void 0);var k=l.ccclass,C=l.property;e("DayItem",(h=k("DayItem"),y=C(o),b=C(c),f=C(c),v=C(d),h((D=t((S=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,a(t,"dayLabel",D,r(t)),a(t,"selectedBg",L,r(t)),a(t,"todayMark",m,r(t)),a(t,"progressBar",_,r(t)),t._date=new Date,t._isSelected=!1,t.isSelectable=!0,t}i(t,e);var s=t.prototype;return s.hideAll=function(){this.dayLabel.node.active=!1,this.selectedBg.node.active=!1,this.todayMark.node.active=!1,this.progressBar.node.active=!1},s.init=function(e,t){this.dayLabel.node.active=!0,this.selectedBg.node.active=!1,this.setSelected(!1),this._date=e,this.isSelectable=t.isSelectable,this.dayLabel.string=e.getDate().toString(),this.todayMark.node.active=t.isToday,this.isSelectable||(this.dayLabel.color=u.GRAY);var i=p.getInstance().getChallengeByDate(e);i?(this.progressBar.node.active=!0,this.progressBar.progress=i.progress?i.progress:.1):this.progressBar.node.active=!1},s.setSelected=function(e){this.isSelectable&&(this._isSelected=e,this.selectedBg.node.active=e,this.dayLabel.color=e?u.WHITE:u.BLACK)},n(t,[{key:"date",get:function(){return new Date(this._date)}},{key:"isSelected",get:function(){return this._isSelected}}]),t}(g)).prototype,"dayLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(S.prototype,"selectedBg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(S.prototype,"todayMark",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(S.prototype,"progressBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=S))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/Decorator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BehaviorTree.ts","./BTreeNode.ts"],(function(t){var e,o,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){n=t.BehaviorTree},function(t){r=t.BTreeNode}],execute:function(){o._RF.push({},"0455agxsbxHlYleJPDpJX3l","Decorator",void 0);t("Decorator",function(t){function o(e){var o;return(o=t.call(this)||this).node=void 0,e&&(o.node=n.getNode(e)),o}e(o,t);var r=o.prototype;return r.setNode=function(t){this.node=n.getNode(t)},r.start=function(){this.node.setControl(this),this.node.start(),t.prototype.start.call(this)},r.end=function(){this.node.end()},r.run=function(t){this.node.run(t)},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["cc"],(function(n){var s;return{setters:[function(n){s=n.cclegacy}],execute:function(){s._RF.push({},"82d3a9c71JEkI95d3qscHm8","Defines",void 0);n("ViewParams",(function(){this.config=null,this.params=null,this.callbacks=null,this.valid=!0,this.node=null}));s._RF.pop()}}}));

System.register("chunks:///_virtual/DelegateComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){var n,o,t,s,r,a,c;return{setters:[function(e){n=e.inheritsLoose,o=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){s=e.cclegacy,r=e._decorator,a=e.Component},function(e){c=e.oops}],execute:function(){var i;s._RF.push({},"d8f1fGRD7dBzIeBSkOpd/Py","DelegateComponent",void 0);var p=r.ccclass;e("DelegateComponent",p("DelegateComponent")(i=function(e){function s(){for(var n,o=arguments.length,t=new Array(o),s=0;s<o;s++)t[s]=arguments[s];return(n=e.call.apply(e,[this].concat(t))||this).vp=null,n.onCloseWindow=null,n}n(s,e);var r=s.prototype;return r.add=function(){var e=this;return new Promise(o(t().mark((function n(o,s){var r,a,c;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<e.node.components.length)){n.next=14;break}if(a=e.node.components[r],!(c=a.onAdded)){n.next=11;break}return n.next=7,c.call(a,e.vp.params);case 7:if(n.t0=n.sent,0!=n.t0){n.next=11;break}return o(!1),n.abrupt("return");case 11:r++,n.next=1;break;case 14:"function"==typeof e.vp.callbacks.onAdded&&e.vp.callbacks.onAdded(e.node,e.vp.params),o(!0);case 16:case"end":return n.stop()}}),n)}))))},r.remove=function(e){this.vp.valid&&(this.applyComponentsFunction(this.node,"onBeforeRemove",this.vp.params),"function"==typeof this.vp.callbacks.onBeforeRemove?this.vp.callbacks.onBeforeRemove(this.node,this.onBeforeRemoveNext.bind(this,e)):this.removed(this.vp,e))},r.onBeforeRemoveNext=function(e){this.removed(this.vp,e)},r.removed=function(e,n){e.valid=!1,e.callbacks&&"function"==typeof e.callbacks.onRemoved&&e.callbacks.onRemoved(this.node,e.params),this.onCloseWindow&&this.onCloseWindow(e),n?(this.node.destroy(),c.res.release(e.config.prefab)):this.node.removeFromParent()},r.onDestroy=function(){this.applyComponentsFunction(this.node,"onRemoved",this.vp.params),this.vp=null},r.applyComponentsFunction=function(e,n,o){for(var t=0;t<e.components.length;t++){var s=e.components[t],r=s[n];r&&r.call(s,o)}},s}(a))||i);s._RF.pop()}}}));

System.register("chunks:///_virtual/DeviceUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy,n=t.sys}],execute:function(){r._RF.push({},"287a3oHJD1OrKr6dp6idwn9","DeviceUtil",void 0);t("DeviceUtil",function(){function t(){}return t.getSafeAreaRect=function(){return n.getSafeAreaRect()},e(t,null,[{key:"platform",get:function(){return n.platform}},{key:"os",get:function(){return n.os}},{key:"isNative",get:function(){return n.isNative}},{key:"isBrowser",get:function(){return n.isBrowser}},{key:"isMobile",get:function(){return n.isMobile}},{key:"isAndroid",get:function(){return n.platform===n.Platform.ANDROID}},{key:"isIPhone",get:function(){return n.platform===n.Platform.IOS}},{key:"isMobileBrowser",get:function(){return n.platform===n.Platform.MOBILE_BROWSER}},{key:"isDesktopBrowser",get:function(){return n.platform===n.Platform.DESKTOP_BROWSER}},{key:"isWeChat",get:function(){return n.platform===n.Platform.WECHAT_GAME}},{key:"isByteDance",get:function(){return n.platform===n.Platform.BYTEDANCE_MINI_GAME}},{key:"isBaidu",get:function(){return n.platform===n.Platform.BAIDU_MINI_GAME}},{key:"isVivo",get:function(){return n.platform===n.Platform.VIVO_MINI_GAME}},{key:"isOPPO",get:function(){return n.platform===n.Platform.OPPO_MINI_GAME}},{key:"isXiaomi",get:function(){return n.platform===n.Platform.XIAOMI_QUICK_GAME}},{key:"isHuawei",get:function(){return n.platform===n.Platform.HUAWEI_QUICK_GAME}},{key:"isAlipay",get:function(){return n.platform===n.Platform.ALIPAY_MINI_GAME}},{key:"isOpenHarmony",get:function(){return n.platform===n.Platform.OPENHARMONY}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/DifficultyConfig.ts",["cc"],(function(){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"9ac45onGJJDCpfau+U2TA7W","DifficultyConfig",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/DifficultyManager.ts",["cc","./Config.ts","./BeginnerBasicStrategy.ts","./GameHistoryImpl.ts"],(function(t){var e,i,n,s;return{setters:[function(t){e=t.cclegacy},function(t){i=t.SudokuDifficulty},function(t){n=t.BeginnerBasicStrategy},function(t){s=t.GameHistoryImpl}],execute:function(){e._RF.push({},"f7d56RSDWtHEodfxQcKg54g","DifficultyManager",void 0),t("DifficultyManager",function(){function t(){this.strategies=new Map,this.history=new s,this.initDefaultStrategies()}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var e=t.prototype;return e.recordGameResult=function(t){this.history.addRecord(t)},e.evaluate=function(t){console.log("this.strategies->",this.strategies);var e=this.strategies.get(Number(t));return(null==e?void 0:e.evaluate(this.history))||{shouldAdjust:!1}},e.clearHistory=function(){this.history=new s},e.initDefaultStrategies=function(){this.strategies.set(Number(i.Beginner),new n)},e.debugGetHistory=function(){return[].concat(this.history.records)},t}()).instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/DifficultyTypes.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"652381W71hEFIZ4L3sZon/m","DifficultyTypes",void 0);t("AdjustmentReason",function(t){return t.CONSECUTIVE_FAILURES="连续失败",t.LOW_COMPLETION_RATE="低完成率",t.PLAYER_STRUGGLING="玩家持续困难",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/DirectorExt.ts",["cc"],(function(){var e,t,c,i;return{setters:[function(r){e=r.cclegacy,t=r.Director,c=r.director,i=r.js}],execute:function(){if(e._RF.push({},"37f48DDLR1EXKhzn+7pLlWB","DirectorExt",void 0),!t.prototype["__$cc-director-speed-extension$__"]){t.prototype["__$cc-director-speed-extension$__"]=!0;var r=c.tick.bind(c);c.tick=function(e){e*=c.globalGameTimeScale,r(e)},i.mixin(t.prototype,{globalGameTimeScale:1})}e._RF.pop()}}}));

System.register("chunks:///_virtual/ECS.ts",["cc","./ECSComp.ts","./ECSEntity.ts","./ECSMatcher.ts","./ECSModel.ts","./ECSSystem.ts"],(function(t){var n,e,i,o,r,c,u,s;return{setters:[function(t){n=t.cclegacy},function(t){e=t.ECSComp},function(t){i=t.ECSEntity},function(t){o=t.ECSMatcher},function(t){r=t.ECSModel},function(t){c=t.ECSSystem,u=t.ECSRootSystem,s=t.ECSComblockSystem}],execute:function(){var d;t("ecs",void 0),n._RF.push({},"be87fT76plLkaUKEYpkuV0n","ECS",void 0),function(t){var n=t.Entity=i;t.Comp=e,t.System=c,t.RootSystem=u,t.ComblockSystem=s;function a(t){return function(){var t=new n;return t.eid=r.eid++,r.eid2Entity.set(t.eid,t),t}().add(t)}t.register=function(t,n){return void 0===n&&(n=!0),function(e){if(e.s){var i=r.systems.get(t);null==i&&(i=new d.System,r.systems.set(t,i)),i.add(new e)}else if(null==e.tid)r.entityCtors.set(e,t);else{if(-1!==e.tid)throw new Error("重复注册组件： "+t+".");e.tid=r.compTid++,e.compName=t,n?(r.compCtors.push(e),r.compPools.set(e.tid,[])):r.compCtors.push(null),r.compAddOrRemove.set(e.tid,[])}}},t.getEntity=function(t){var n=r.entityCtors.get(t);null==n&&console.error(t.name+" 实体没有注册");var e=(r.entityPool.get(n)||[]).pop();return e||((e=new t).eid=r.eid++,e.name=n),e.init?(e.isValid=!0,e.init()):console.error(t.name+" 实体缺少 init 方法初始化默认组件"),r.eid2Entity.set(e.eid,e),e},t.query=function(t){var n=r.groups.get(t.mid);return n||(n=r.createGroup(t),r.eid2Entity.forEach(n.onComponentAddOrRemove,n)),n.matchEntities},t.clear=function(){r.eid2Entity.forEach((function(t){t.destroy()})),r.groups.forEach((function(t){t.clear()})),r.compAddOrRemove.forEach((function(t){t.length=0})),r.eid2Entity.clear(),r.groups.clear()},t.getEntityByEid=function(t){return r.eid2Entity.get(t)},t.activeEntityCount=function(){return r.eid2Entity.size},t.allOf=function(){var t;return(t=new o).allOf.apply(t,arguments)},t.anyOf=function(){var t;return(t=new o).anyOf.apply(t,arguments)},t.onlyOf=function(){var t;return(t=new o).onlyOf.apply(t,arguments)},t.excludeOf=function(){var t;return(t=new o).excludeOf.apply(t,arguments)},t.getSingleton=function(t){if(!r.tid2comp.has(t.tid)){var n=a(t);r.tid2comp.set(t.tid,n)}return r.tid2comp.get(t.tid)},t.addSingleton=function(t){var n=t.constructor.tid;r.tid2comp.has(n)||r.tid2comp.set(n,t)}}(d||(d=t("ecs",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ECSComp.ts",["cc"],(function(t){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"3d017ZhAZRH4bPfpLr5++8F","ECSComp",void 0);var e=t("ECSComp",(function(){this.ent=void 0,this.canRecycle=!0}));e.tid=-1,e.compName=void 0,c._RF.pop()}}}));

System.register("chunks:///_virtual/ECSEntity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSMask.ts","./ECSModel.ts"],(function(t){var i,e,n,o;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy},function(t){n=t.ECSMask},function(t){o=t.ECSModel}],execute:function(){function s(t,i){for(var e=o.compAddOrRemove.get(i),n=e.length-1;n>=0;n--)e[n](t);o.tid2comp.has(i)&&o.tid2comp.delete(i)}e._RF.push({},"1fb62WC3PZPvLhjoZQfrREJ","ECSEntity",void 0);t("ECSEntity",function(){function t(){this.eid=-1,this.name="",this.isValid=!0,this.mask=new n,this.compTid2Ctor=new Map,this.compTid2Obj=new Map,this._parent=null,this._children=null}var e=t.prototype;return e.addChild=function(t){t._parent=this,this.children.set(t.eid,t)},e.removeChild=function(t,i){void 0===i&&(i=!0),null!=this.children&&(t.parent=null,this.children.delete(t.eid),i&&t.destroy())},e.add=function(t,i){if(void 0===i&&(i=!1),"function"==typeof t){var e,n=t.tid;if(-1===t.tid)throw Error("【"+this.name+"】实体【"+t.compName+"】组件未注册");if(this.compTid2Ctor.has(n)){if(!i)return console.log("【"+this.name+"】实体【"+t.compName+"】组件已存在"),this[t.compName];this.remove(t)}return this.mask.set(n),this.compTid2Obj.has(n)?(e=this.compTid2Obj.get(n),this.compTid2Obj.delete(n)):e=function(t){var i=o.compCtors[t.tid];if(!i)throw Error("没有找到该组件的构造函数，检查"+t.compName+"是否为不可构造的组件");return o.compPools.get(t.tid).pop()||new i}(t),this[t.compName]=e,this.compTid2Ctor.set(n,t),e.ent=this,s(this,n),e}var r=t.constructor,h=r.tid;if(-1===h||null==h)throw Error("【"+this.name+"】实体【"+r.name+"】组件未注册");if(this.compTid2Ctor.has(h))throw Error("【"+this.name+"】实体【"+r.name+"】组件已经存在");return this.mask.set(h),this[r.compName]=t,this.compTid2Ctor.set(h,r),t.ent=this,t.canRecycle=!1,s(this,h),this},e.addComponents=function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];for(var n=0,o=i;n<o.length;n++){var s=o[n];this.add(s)}return this},e.get=function(t){return this[t.compName]},e.has=function(t){return"number"==typeof t?this.mask.has(t):this.compTid2Ctor.has(t.tid)},e.remove=function(t,i){void 0===i&&(i=!0);var e=!1,n=t.tid,r=t.compName;if(this.mask.has(n)){e=!0;var h=this[t.compName];if(h.ent=null,i){if(h.reset(),h.canRecycle)o.compPools.get(n).push(h)}else this.compTid2Obj.set(n,h)}e&&(this[r]=null,this.mask.delete(n),this.compTid2Ctor.delete(n),s(this,n))},e.destroy=function(){var t=this;this.isValid=!1,this._parent&&(this._parent.removeChild(this,!1),this._parent=null),this._children&&(this._children.forEach((function(i){t.removeChild(i)})),this._children=null),this.compTid2Ctor.forEach(this._remove,this),function(t){if(o.eid2Entity.has(t.eid)){var i=o.entityPool.get(t.name);null==i&&(i=[],o.entityPool.set(t.name,i)),i.push(t),o.eid2Entity.delete(t.eid)}else console.warn("试图销毁不存在的实体")}(this),this.compTid2Obj.clear()},e._remove=function(t){this.remove(t,!0)},i(t,[{key:"parent",get:function(){return this._parent},set:function(t){this._parent=t}},{key:"children",get:function(){return null==this._children&&(this._children=new Map),this._children}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ECSGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"c21a23o9P5FNJamcMmoYWfs","ECSGroup",void 0);t("ECSGroup",function(){function t(t){this.matcher=void 0,this._matchEntities=new Map,this._entitiesCache=null,this.count=0,this._enteredEntities=null,this._removedEntities=null,this.matcher=t}var i=t.prototype;return i.onComponentAddOrRemove=function(t){this.matcher.isMatch(t)?(this._matchEntities.set(t.eid,t),this._entitiesCache=null,this.count++,this._enteredEntities&&(this._enteredEntities.set(t.eid,t),this._removedEntities.delete(t.eid))):this._matchEntities.has(t.eid)&&(this._matchEntities.delete(t.eid),this._entitiesCache=null,this.count--,this._enteredEntities&&(this._enteredEntities.delete(t.eid),this._removedEntities.set(t.eid,t)))},i.watchEntityEnterAndRemove=function(t,e){this._enteredEntities=t,this._removedEntities=e},i.clear=function(){var t,e;this._matchEntities.clear(),this._entitiesCache=null,this.count=0,null==(t=this._enteredEntities)||t.clear(),null==(e=this._removedEntities)||e.clear()},e(t,[{key:"matchEntities",get:function(){return null===this._entitiesCache&&(this._entitiesCache=Array.from(this._matchEntities.values())),this._entitiesCache}},{key:"entity",get:function(){return this.matchEntities[0]}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ECSMask.ts",["cc","./ECSModel.ts"],(function(t){var s,i;return{setters:[function(t){s=t.cclegacy},function(t){i=t.ECSModel}],execute:function(){s._RF.push({},"d18694PPbtGs5Ipgo/vaJBX","ECSMask",void 0);t("ECSMask",function(){function t(){this.mask=void 0,this.size=0;var t=Math.ceil(i.compTid/31);this.mask=new Uint32Array(t),this.size=t}var s=t.prototype;return s.set=function(t){this.mask[t/31>>>0]|=1<<t%31},s.delete=function(t){this.mask[t/31>>>0]&=~(1<<t%31)},s.has=function(t){return!!(this.mask[t/31>>>0]&1<<t%31)},s.or=function(t){for(var s=0;s<this.size;s++)if(this.mask[s]&t.mask[s])return!0;return!1},s.and=function(t){for(var s=0;s<this.size;s++)if((this.mask[s]&t.mask[s])!=this.mask[s])return!1;return!0},s.clear=function(){for(var t=0;t<this.size;t++)this.mask[t]=0},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/ECSMatcher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSMask.ts","./ECSModel.ts"],(function(t){var i,n,r,e,s,h,u;return{setters:[function(t){i=t.construct,n=t.createForOfIteratorHelperLoose,r=t.createClass,e=t.inheritsLoose},function(t){s=t.cclegacy},function(t){h=t.ECSMask},function(t){u=t.ECSModel}],execute:function(){s._RF.push({},"37e8arlqPlN7amZYyHFvBIp","ECSMatcher",void 0);var o=1,c=(t("ECSMatcher",function(){function t(){this.rules=[],this._indices=null,this.isMatch=void 0,this.mid=-1,this._key=null,this.mid=o++}var e=t.prototype;return e.anyOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(a,n)),this.bindMatchMethod(),this},e.allOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(f,n)),this.bindMatchMethod(),this},e.onlyOf=function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];this.rules.push(i(f,r));for(var s,h=[],o=n(u.compCtors);!(s=o()).done;){var c=s.value;r.indexOf(c)<0&&h.push(c)}return this.rules.push(i(l,h)),this.bindMatchMethod(),this},e.excludeOf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.rules.push(i(l,n)),this.bindMatchMethod(),this},e.bindMatchMethod=function(){1===this.rules.length?this.isMatch=this.isMatch1:2===this.rules.length?this.isMatch=this.isMatch2:this.isMatch=this.isMatchMore},e.isMatch1=function(t){return this.rules[0].isMatch(t)},e.isMatch2=function(t){return this.rules[0].isMatch(t)&&this.rules[1].isMatch(t)},e.isMatchMore=function(t){for(var i,r=n(this.rules);!(i=r()).done;){if(!i.value.isMatch(t))return!1}return!0},e.clone=function(){var i=new t;return i.mid=o++,this.rules.forEach((function(t){return i.rules.push(t)})),i},r(t,[{key:"key",get:function(){if(!this._key){for(var t="",i=0;i<this.rules.length;i++)t+=this.rules[i].getKey(),i<this.rules.length-1&&(t+=" && ");this._key=t}return this._key}},{key:"indices",get:function(){var t=this;return null===this._indices&&(this._indices=[],this.rules.forEach((function(i){Array.prototype.push.apply(t._indices,i.indices)}))),this._indices}}]),t}()),function(){function t(){this.indices=[],this.mask=new h;for(var t=-1,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];for(var e=n.length,s=0;s<e;s++){if(-1==(t="number"==typeof n[s]?n[s]:n[s].tid))throw Error("存在没有注册的组件！");this.mask.set(t),this.indices.indexOf(t)<0&&this.indices.push(t)}e>1&&this.indices.sort((function(t,i){return t-i}))}return t.prototype.toString=function(){return this.indices.join("-")},t}()),a=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.isMatch=function(t){return this.mask.or(t.mask)},n.getKey=function(){return"anyOf:"+this.toString()},i}(c),f=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.isMatch=function(t){return this.mask.and(t.mask)},n.getKey=function(){return"allOf:"+this.toString()},i}(c),l=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.getKey=function(){return"excludeOf:"+this.toString()},n.isMatch=function(t){return!this.mask.or(t.mask)},i}(c);s._RF.pop()}}}));

System.register("chunks:///_virtual/ECSModel.ts",["cc","./ECSGroup.ts"],(function(e){var o,n;return{setters:[function(e){o=e.cclegacy},function(e){n=e.ECSGroup}],execute:function(){o._RF.push({},"1d60egM6r9Gta4Op3VABSGM","ECSModel",void 0);var t=e("ECSModel",function(){function e(){}return e.createGroup=function(o){var t=e.groups.get(o.mid);if(!t){t=new n(o),e.groups.set(o.mid,t);for(var r=o.indices,p=0;p<r.length;p++)e.compAddOrRemove.get(r[p]).push(t.onComponentAddOrRemove.bind(t))}return t},e}());t.eid=1,t.entityCtors=new Map,t.entityPool=new Map,t.eid2Entity=new Map,t.compTid=0,t.compPools=new Map,t.compCtors=[],t.compAddOrRemove=new Map,t.tid2comp=new Map,t.groups=new Map,t.systems=new Map,o._RF.pop()}}}));

System.register("chunks:///_virtual/ECSSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ECSModel.ts"],(function(t){var e,i,s,n;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,i=t.createClass},function(t){s=t.cclegacy},function(t){n=t.ECSModel}],execute:function(){s._RF.push({},"9261fRWg2RBY5kxbFJsY1QC","ECSSystem",void 0),t("ECSComblockSystem",function(){function t(){this.group=void 0,this.dt=0,this.enteredEntities=null,this.removedEntities=null,this.hasEntityEnter=!1,this.hasEntityRemove=!1,this.hasUpdate=!1,this.tmpExecute=null,this.execute=void 0;var t=Object.hasOwnProperty,e=Object.getPrototypeOf(this),i=t.call(e,"entityEnter"),s=t.call(e,"entityRemove"),o=t.call(e,"firstUpdate"),r=t.call(e,"update");this.hasEntityEnter=i,this.hasEntityRemove=s,this.hasUpdate=r,i||s?(this.enteredEntities=new Map,this.removedEntities=new Map,this.execute=this.execute1,this.group=n.createGroup(this.filter()),this.group.watchEntityEnterAndRemove(this.enteredEntities,this.removedEntities)):(this.execute=this.execute0,this.group=n.createGroup(this.filter())),o&&(this.tmpExecute=this.execute,this.execute=this.updateOnce)}var i=t.prototype;return i.init=function(){},i.onDestroy=function(){},i.hasEntity=function(){return this.group.count>0},i.updateOnce=function(t){if(0!==this.group.count){if(this.dt=t,this.enteredEntities.size>0){for(var i,s=this.enteredEntities.values(),n=e(s);!(i=n()).done;){var o=i.value;this.entityEnter(o)}this.enteredEntities.clear()}for(var r,h=e(this.group.matchEntities);!(r=h()).done;){var u=r.value;this.firstUpdate(u)}this.execute=this.tmpExecute,this.execute(t),this.tmpExecute=null}},i.execute0=function(t){if(0!==this.group.count&&(this.dt=t,this.hasUpdate))for(var i,s=e(this.group.matchEntities);!(i=s()).done;){var n=i.value;this.update(n)}},i.execute1=function(t){var i;if(this.removedEntities.size>0){if(this.hasEntityRemove){i=this.removedEntities.values();for(var s,n=e(i);!(s=n()).done;){var o=s.value;this.entityRemove(o)}}this.removedEntities.clear()}if(0!==this.group.count){if(this.dt=t,this.enteredEntities.size>0){if(this.hasEntityEnter){i=this.enteredEntities.values();for(var r,h=e(i);!(r=h()).done;){var u=r.value;this.entityEnter(u)}}this.enteredEntities.clear()}if(this.hasUpdate)for(var c,a=e(this.group.matchEntities);!(c=a()).done;){var l=c.value;this.update(l)}}},t}()).s=!0;t("ECSRootSystem",function(){function t(){this.executeSystemFlows=[],this.systemCnt=0}var e=t.prototype;return e.add=function(t){return t instanceof o?Array.prototype.push.apply(this.executeSystemFlows,t.comblockSystems):this.executeSystemFlows.push(t),this.systemCnt=this.executeSystemFlows.length,this},e.init=function(){var t=this;n.systems.forEach((function(e){return t.add(e)})),this.executeSystemFlows.forEach((function(t){return t.init()}))},e.execute=function(t){for(var e=0;e<this.systemCnt;e++)this.executeSystemFlows[e].execute(t)},e.clear=function(){this.executeSystemFlows.forEach((function(t){return t.onDestroy()}))},t}());var o=t("ECSSystem",function(){function t(){this._comblockSystems=[]}return t.prototype.add=function(e){return e instanceof t?(Array.prototype.push.apply(this._comblockSystems,e._comblockSystems),e._comblockSystems.length=0):this._comblockSystems.push(e),this},i(t,[{key:"comblockSystems",get:function(){return this._comblockSystems}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/Effect2DFollow3D.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./MathUtil.ts"],(function(t){var e,o,i,n,r,a,s,l,c,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.Vec3,c=t.Component},function(t){u=t.oops},function(t){p=t.MathUtil}],execute:function(){var f,d,h,m,y,w,b,v;r._RF.push({},"f04f92UNY1J34UPA0VrEIsH","Effect2DFollow3D",void 0);var D=a.ccclass,g=a.property;t("Effect2DFollow3D",(f=D("Effect2DFollow3D"),d=g({type:s}),h=g({type:s}),f((w=e((y=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"node3d",w,n(e)),i(e,"nodeUi",b,n(e)),i(e,"distance",v,n(e)),e.camera=null,e.pos=new l,e}o(e,t);var r=e.prototype;return r.setTarget=function(t){this.node3d=t},r.start=function(){var t=this.zoom();this.node.setScale(t,t,1)},r.lateUpdate=function(t){var e=this.zoom();e=p.lerp(this.node.scale.x,e,.1),this.node.setScale(e,e,1)},r.zoom=function(){this.camera.convertToUINode(this.node3d.worldPosition,u.gui.game,this.pos),this.nodeUi.setPosition(this.pos),l.transformMat4(this.pos,this.node3d.worldPosition,this.camera._camera.matView);var t=this.distance/Math.abs(this.pos.z);return Math.floor(100*t)/100},e}(c)).prototype,"node3d",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(y.prototype,"nodeUi",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(y.prototype,"distance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=y))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectDelayRelease.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectSingleCase.ts"],(function(e){var t,n,i,a,r,c,l,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,l=e.Component},function(e){o=e.EffectSingleCase}],execute:function(){var s,f,u;r._RF.push({},"01359fvxlFJZKx7BLUcTSWS","EffectDelayRelease",void 0);var p=c.ccclass,y=c.property;e("EffectDelayRelease",p("EffectDelayRelease")((u=t((f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"delay",u,a(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.scheduleOnce(this.onDelay,this.delay)},r.onDelay=function(){o.instance.put(this.node)},t}(l)).prototype,"delay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=f))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectEvent.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"445875CzyRKaLiSXTYH66lm","EffectEvent",void 0);t("EffectEvent",function(t){return t.Put="EffectEvent_Put",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/EffectFinishedRelease.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectEvent.ts","./MessageManager.ts"],(function(e){var t,n,i,o,a,s,r,c,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.sp,a=e.Animation,s=e.ParticleSystem,r=e.Component},function(e){c=e.EffectEvent},function(e){u=e.message}],execute:function(){var l;n._RF.push({},"a751fmayL5JMYH0D4uJoK5H","EffectFinishedRelease",void 0);var f=i.ccclass;i.property,e("EffectFinishedRelease",f("EffectFinishedRelease")(l=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).maxDuration=0,t}t(n,e);var i=n.prototype;return i.onEnable=function(){var e=this,t=this.getComponent(o.Skeleton);if(t){var n=t.skeletonData.skeletonJson.animations;for(var i in n){t.setCompleteListener(this.onRecovery.bind(this)),t.setAnimation(0,i,!1);break}}else{var r=this.node.getComponentsInChildren(a);if(r.length>0)r.forEach((function(t){var n,i=null==(n=t.defaultClip)?void 0:n.name;if(i){var o=t.getState(i);if(o){var a=o.duration;e.maxDuration=a>e.maxDuration?a:e.maxDuration}}t.play()})),this.scheduleOnce(this.onRecovery.bind(this),this.maxDuration);else if(s){this.node.getComponentsInChildren(s).forEach((function(t){t.clear(),t.stop(),t.play();var n=t.duration;e.maxDuration=n>e.maxDuration?n:e.maxDuration})),this.scheduleOnce(this.onRecovery.bind(this),this.maxDuration)}}},i.onRecovery=function(){this.node.parent&&u.dispatchEvent(c.Put,this.node)},n}(r))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/EffectSingleCase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MessageManager.ts","./ResLoader.ts","./ViewUtil.ts","./EffectEvent.ts","./EffectFinishedRelease.ts"],(function(e){var t,n,s,i,r,a,c,o,f,u,l,h,d,p;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime,s=e.createClass},function(e){i=e.cclegacy,r=e.Prefab,a=e.NodePool,c=e.sp,o=e.Animation,f=e.ParticleSystem},function(e){u=e.message},function(e){l=e.resLoader},function(e){h=e.ViewUtil},function(e){d=e.EffectEvent},function(e){p=e.EffectFinishedRelease}],execute:function(){i._RF.push({},"bf338Z+oYxIUbd4bPREw9Ud","EffectSingleCase",void 0),e("EffectSingleCase",function(){function e(){this._speed=1,this.effects=new Map,this.effects_use=new Map,this.res=new Map,u.on(d.Put,this.onPut,this)}var i=e.prototype;return i.onPut=function(e,t){this.put(t)},i.getCount=function(e){var t=this.effects.get(e);return t?t.size():0},i.preload=function(e,s,i){var c=this;return void 0===i&&(i=l.defaultBundleName),new Promise(t(n().mark((function t(o,f){var u,d,p;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==(u=c.effects.get(s))&&(u=new a,c.effects.set(s,u)),c.res.set(s,i),t.next=5,l.loadAsync(i,s,r);case 5:for(d=0;d<e;d++)(p=h.createPrefabNode(s)).res_path=s,u.put(p);o();case 7:case"end":return t.stop()}}),t)}))))},i.loadAndShow=function(e,s,i){var a=this;return new Promise(t(n().mark((function t(c,o){var f,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=a.effects.get(e)){t.next=15;break}if(!i||!i.bundleName){t.next=8;break}return a.res.set(e,i.bundleName),t.next=6,l.loadAsync(i.bundleName,e,r);case 6:t.next=11;break;case 8:return a.res.set(e,l.defaultBundleName),t.next=11,l.loadAsync(e,r);case 11:f=a.show(e,s,i),c(f),t.next=17;break;case 15:u=a.show(e,s,i),c(u);case 17:case"end":return t.stop()}}),t)}))))},i.show=function(e,t,n){var s,i=this.effects.get(e);return null==i&&(i=new a,this.effects.set(e,i)),0==i.size()?((s=h.createPrefabNode(e)).res_path=e,n&&n.isPlayFinishedRelease&&s.addComponent(p)):s=i.get(),this.setSpeed(s),n&&(n.pos&&(s.position=n.pos),n.worldPos&&(s.worldPosition=n.worldPos)),t&&(s.parent=t),this.effects_use.set(s,!0),s},i.put=function(e){var t=e.res_path;if(t){var n=this.effects.get(t);n&&(this.effects_use.delete(e),n.put(e))}},i.clear=function(e){e?this.effects.get(e).clear():(this.effects.forEach((function(e){e.clear()})),this.effects.clear())},i.release=function(e){if(e){this.clear(e);var t=this.res.get(e);l.release(e,t),this.res.delete(e)}else this.clear(),this.res.forEach((function(e,t){l.release(t,e)})),this.res.clear()},i.setSpeed=function(e){var t=this,n=e.getComponent(c.Skeleton);if(n)n.timeScale=this.speed;else{var s=e.getComponentsInChildren(o);if(s.length>0)s.forEach((function(e){var n,s=null==(n=e.defaultClip)?void 0:n.name;if(s){var i=e.getState(s);i&&(i.speed=t.speed)}}));else if(f){e.getComponentsInChildren(f).forEach((function(e){e.simulationSpeed=t.speed}))}}},s(e,[{key:"speed",get:function(){return this._speed},set:function(e){var t=this;this._speed=e,this.effects_use.forEach((function(e,n){t.setSpeed(n)}))}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}())._instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptUtil.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"46d12Bx4JdKnIYHhcvNk6S1","EncryptUtil",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/EventDispatcher.ts",["cc","./MessageManager.ts"],(function(t){var s,n;return{setters:[function(t){s=t.cclegacy},function(t){n=t.MessageEventData}],execute:function(){s._RF.push({},"c680af5iPNKeIO4cArf/90m","EventDispatcher",void 0);t("EventDispatcher",function(){function t(){this._msg=null}var s=t.prototype;return s.on=function(t,s,e){null==this._msg&&(this._msg=new n),this._msg.on(t,s,e)},s.off=function(t){this._msg&&this._msg.off(t)},s.dispatchEvent=function(t){var s;null==this._msg&&(this._msg=new n);for(var e=arguments.length,i=new Array(e>1?e-1:0),c=1;c<e;c++)i[c-1]=arguments[c];(s=this._msg).dispatchEvent.apply(s,[t].concat(i))},s.destroy=function(){this._msg&&this._msg.clear(),this._msg=null},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/EventMessage.ts",["cc"],(function(E){var e;return{setters:[function(E){e=E.cclegacy}],execute:function(){e._RF.push({},"beea7u9xnJD4rMj6ua/LTcF","EventMessage",void 0);E("EventMessage",function(E){return E.GAME_SHOW="GAME_ENTER",E.GAME_HIDE="GAME_EXIT",E.GAME_RESIZE="GAME_RESIZE",E.GAME_FULL_SCREEN="GAME_FULL_SCREEN",E.GAME_ORIENTATION="GAME_ORIENTATION",E}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/EventType.ts",["cc"],(function(e){var _;return{setters:[function(e){_=e.cclegacy}],execute:function(){_._RF.push({},"d811dlAz0lFz5yYpt1W9RCK","EventType",void 0);e("EventType",function(e){return e.RESET_GAME="reset_game",e.GAME_END="game_end",e.REFRESH_THEME="refresh_theme",e.SELECT_CELL="select_cell",e.REFRESH_GAME_STATE="refresh_game_state",e.TOUCH_NUMBERBTN="touch_number_btn",e.CHECK_TOUCH_NUMBERBTN_FINISH="check_touch_numberbtn_finish",e.UNDO="undo",e.SWITCH_NOTE="switch_note",e.ERASE_NUMBER="erase_number",e.TOUCH_HINT="touch_hint",e.HINT_NUMBER="hint_number",e.INPUT_NUMBER="input_number",e.INPUT_NOTE_NUMBER="input_note_number",e.RESURRECTION_GAME="resurrection_game",e.REFRESH_SETTING="refresh_setting",e.REFRESH_HINT="refresh_hint",e.REFRESH_LANGUAGE="refresh_language",e}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/FailPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventType.ts","./UIConfig.ts","./StatisticsManager.ts","./Oops.ts"],(function(t){var e,n,a,o,i,s,c,p,u;return{setters:[function(t){e=t.inheritsLoose,n=t.extends},function(t){a=t.cclegacy,o=t._decorator,i=t.Component},function(t){s=t.EventType},function(t){c=t.UIID},function(t){p=t.StatisticsManager},function(t){u=t.oops}],execute:function(){var r;a._RF.push({},"259e1OmwaJNtoxzK8HzecOy","FailPopup",void 0);var f=o.ccclass;o.property,t("FailPopup",f("FailPopup")(r=function(t){function a(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this).gameData=void 0,e.isStatistics=!0,e}e(a,t);var o=a.prototype;return o.onResurrection=function(){this.isStatistics=!1,u.gui.remove(c.FailPopup),u.message.dispatchEvent(s.RESURRECTION_GAME)},o.onStartNewGame=function(){u.gui.open(c.LevelPopup)},o.onResetGame=function(){u.gui.remove(c.FailPopup),u.message.dispatchEvent(s.RESET_GAME,{data:{isGenerate:!1,isReset:!0}})},o.onBack=function(){u.gui.remove(c.FailPopup),u.gui.replaceAsync(c.Game,c.Lobby)},o.onAdded=function(t){console.log("params->",t),this.gameData=this.deepCopyGameData(t.gameData)},o.onRemoved=function(t){},o.onDestroy=function(){this.gameData&&this.isStatistics&&p.getInstance().updateStatistics(this.gameData,!1)},o.deepCopyGameData=function(t){var e={userInputs:new Map,userInputNotes:new Map};return Object.entries(e).forEach((function(n){var a=n[0];t[a]instanceof Map&&(e[a]=new Map(t[a]))})),n({},t,e)},a}(i))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/FinnedXWingStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(t){var n,e,o,r,i,a,l,s,u,c;return{setters:[function(t){n=t.inheritsLoose,e=t.createForOfIteratorHelperLoose,o=t.createClass},function(t){r=t.cclegacy},function(t){i=t.HighlightConfig},function(t){a=t.HighlightAreaType,l=t.BLANK_CHAR},function(t){s=t.BaseStrategy},function(t){u=t.SolverUtils},function(t){c=t.oops}],execute:function(){r._RF.push({},"e67c3INCuJPCbHU1WimNJtA","FinnedXWingStrategy",void 0);t("FinnedXWingStrategy",function(t){function r(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).difficulty=14,n.FISH_SIZE=2,n}n(r,t);var s=r.prototype;return s.execute=function(t,n){var e=this.findXWing(n);return e?this.createSteps(t,n,e):null},s.findXWing=function(t){return this.findFinnedXWingInDirection(t,a.ROW)||this.findFinnedXWingInDirection(t,a.COLUMN)},s.findFinnedXWingInDirection=function(t,n){for(var o=1;o<=9;o++)for(var r,i=this.findPerfectBaseUnits(t,o,n),a=this.findPotentialFinnedUnits(t,o,n),l=e(i);!(r=l()).done;)for(var s,u=r.value,c=e(a);!(s=c()).done;){var g=[u,s.value],h=this.validateFinnedXWing(t,o,g,n);if(h)return h}return null},s.findPerfectBaseUnits=function(t,n,e){for(var o=[],r=0;r<9;r++){for(var i=0,l=0;l<9;l++){var s=e===a.ROW?r:l,u=e===a.ROW?l:r;t[s][u].has(n)&&i++}2===i&&o.push(r)}return o},s.findPotentialFinnedUnits=function(t,n,e){for(var o=[],r=e===a.ROW,i=0;i<9;i++){for(var l=[],s=0;s<9;s++){var u=r?i:s,c=r?s:i;t[u][c].has(n)&&l.push({row:u,col:c})}l.length<=2||l.length>4||this.isPotentialFinnedUnit(l)&&o.push(i)}return o},s.isPotentialFinnedUnit=function(t){if(2<t.length&&t.length<=4){var n=new Map;if(t.forEach((function(t){var e=Math.floor(t.row/3)+"-"+Math.floor(t.col/3);n.has(e)||n.set(e,[]),n.get(e).push(t)})),3===n.size)return!1;if(2===n.size){for(var o,r=e(n);!(o=r()).done;){var i=o.value;i[0];if(1===i[1].length)return!0}return!1}return!0}return!1},s.validateFinnedXWing=function(t,n,e,o){a.ROW;var r=this.findFinnedXWingStructure(t,n,e,o),i=r.coverUnits,l=r.intersections,s=r.fins;if(2!==i.length)return null;if(0===s.length)return null;var u=s[0],c=this.findEliminations(t,n,i,o,u,l);return c.length>0?{value:n,baseUnits:e,coverUnits:i,eliminations:c,intersections:l,direction:o,fins:s}:null},s.checkFinnedXWing=function(t,n,o,r,i){for(var l,s=i===a.ROW,u=[],c=e(r);!(l=c()).done;)for(var g,h=l.value,f=e(o);!(g=f()).done;){var d=g.value,v=s?d:h,C=s?h:d;if(t[v][C].has(n))o.includes(s?v:C)&&r.includes(s?C:v)||u.push({row:v,col:C})}if(0===u.length)return null;var p=this.findFinnedEliminations(t,n,u,i);return p.length>0?{eliminations:p,fins:u}:null},s.findFinnedEliminations=function(t,n,o,r){for(var i,l=[],s=r===a.ROW,u=o.map((function(t){return{startRow:3*Math.floor(t.row/3),startCol:3*Math.floor(t.col/3)}})),c=Array.from(new Set(u.map((function(t){return t.startRow+","+t.startCol})))).map((function(t){var n=t.split(",").map(Number);return{startRow:n[0],startCol:n[1]}})),g=e(c);!(i=g()).done;)for(var h=i.value,f=h.startRow,d=h.startCol,v=function(e){for(var r=function(r){if(o.some((function(t){return t.row===e&&t.col===r})))return 1;o.some((function(t){return s?r===t.col:e===t.row}))&&t[e][r].has(n)&&l.push({row:e,col:r})},i=d;i<d+3;i++)r(i)},C=f;C<f+3;C++)v(C);return l},s.findFinnedXWingStructure=function(t,n,o,r){for(var i,l=this,s=r===a.ROW,u=(o[0],o[1],{coverUnits:[],intersections:[],fins:[]}),c=[],g=e(o);!(i=g()).done;)for(var h=i.value,f=0;f<9;f++){var d=s?h:f,v=s?f:h;t[d][v].has(n)&&c.push({row:d,col:v})}var C=new Map;if(c.forEach((function(t){var n=s?t.col:t.row;C.has(n)||C.set(n,[]),C.get(n).push(t)})),C.forEach((function(t,n){var e;2===t.length?(u.coverUnits.push(n),(e=u.intersections).push.apply(e,t)):1===t.length&&u.fins.push(t[0])})),2!==u.coverUnits.length)return{coverUnits:[],intersections:[],fins:[]};if(u.fins.length>1){this.getBoxRange(u.fins[0]);if(!u.fins.every((function(t){return l.isSameBox(t,u.fins[0])})))return{coverUnits:[],intersections:[],fins:[]}}return u},s.isSameBox=function(t,n){var e=this.getBoxRange(t),o=this.getBoxRange(n);return e.startRow===o.startRow&&e.startCol===o.startCol},s.findEliminations=function(t,n,o,r,i,l){for(var s,u=r===a.ROW,c=[],g=this.getBoxRange(i),h=o.filter((function(t){return t!==(u?i.col:i.row)})),f=e(h);!(s=f()).done;)for(var d=s.value,v=0;v<9;v++){var C=u?v:d,p=u?d:v,m={row:C,col:p};!this.isIntersection(m,l)&&this.isInBox(m,g)&&(t[C][p].has(n)&&c.push(m))}return c},s.isIntersection=function(t,n){return n.some((function(n){return n.row===t.row&&n.col===t.col}))},s.getBoxRange=function(t){return{startRow:3*Math.floor(t.row/3),startCol:3*Math.floor(t.col/3)}},s.isSamePosition=function(t,n){return t.row===n.row&&t.col===n.col},s.isInBox=function(t,n){return t.row>=n.startRow&&t.row<n.startRow+3&&t.col>=n.startCol&&t.col<n.startCol+3},s.getBaseCandidates=function(t,n,o,r){for(var i,l=[],s=e(o);!(i=s()).done;)for(var u=i.value,c=0;c<9;c++){var g=r===a.ROW?u:c,h=r===a.ROW?c:u;t[g][h].has(n)&&l.push({row:g,col:h})}return l},s.findCoverUnits=function(t,n){for(var o,r=new Set,i=e(t);!(o=i()).done;){var l=o.value,s=l.row,u=l.col;r.add(n===a.ROW?u:s)}return r.size===this.FISH_SIZE?Array.from(r):[]},s.createSteps=function(t,n,e){var o=[];return o.push(this.createDiscoveryStep(t,n,e)),o.push(this.createFinStep(t,n,e)),o.push(this.createEliminationStep(t,n,e)),o.push(this.createRemovalStep(t,n,e)),o},s.createDiscoveryStep=function(t,n,e){var o=this,r=e.value,i=e.baseUnits,l=e.direction,s=l===a.ROW;return{technique:this.name,stepId:1,position:{row:i[0],col:0},value:0,get description(){return s?c.language.getLangByID("strategy.row"):c.language.getLangByID("strategy.col"),c.language.getLangByID("FinnedXWingStrategy.discoveryDes",{name:o.name,description:o.description})},highlights:this.highlightBaseUnits(t,n,i,l),highlightNotes:this.highlightNotesBaseUnits(n,r,i,l)}},s.createFinStep=function(t,n,e){var o=this,r=e.value,s=e.baseUnits,u=e.coverUnits,g=e.intersections,h=e.direction,f=e.fins,d=h===a.ROW;return{technique:this.name,stepId:2,position:f[0],value:0,get description(){return t=d?c.language.getLangByID("strategy.row"):c.language.getLangByID("strategy.col"),n=d?c.language.getLangByID("strategy.col"):c.language.getLangByID("strategy.row"),c.language.getLangByID("FinnedXWingStrategy.visualizationDes",{name:o.name,value:r,baseDirection:t,baseUnits:s.map((function(t){return t+1})).join(", "),coverDirection:n,coverUnits:u.map((function(t){return t+1})).join(", "),fins:f.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(", "),count:f.length});var t,n},highlights:[].concat(this.highlightBaseUnits(t,n,s,h),this.highlightCoverUnits(t,n,u,h),f.map((function(e){return{position:e,backgroundColor:i.defaultCell.background,textColor:i.defaultCell.textColor,candidates:t[e.row][e.col]===l?[].concat(n[e.row][e.col]):void 0}})),g.map((function(e){return{position:e,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:t[e.row][e.col]===l?[].concat(n[e.row][e.col]):void 0}}))),highlightNotes:[].concat(g.map((function(t){return{position:t,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:r}})),f.map((function(t){return{position:t,backgroundColor:i.sameNumber.background,textColor:i.sameNumber.textColor,value:r}})))}},s.createEliminationStep=function(t,n,e){var o=this,r=e.value,s=e.baseUnits,u=e.coverUnits,g=e.intersections,h=e.direction,f=e.fins,d=e.eliminations,v=h===a.ROW;return{technique:this.name,stepId:3,position:d[0],value:0,get description(){return t=v?c.language.getLangByID("strategy.row"):c.language.getLangByID("strategy.col"),n=v?c.language.getLangByID("strategy.col"):c.language.getLangByID("strategy.row"),c.language.getLangByID("FinnedXWingStrategy.eliminationDes",{name:o.name,value:r,baseDirection:t,baseUnits:s.map((function(t){return t+1})).join(", "),coverDirection:n,coverUnits:u.map((function(t){return t+1})).join(", "),fins:f.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(", "),eliminations:d.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(", "),count:d.length});var t,n},highlights:[].concat(this.highlightBaseUnits(t,n,s,h),this.highlightCoverUnits(t,n,u,h),f.map((function(e){return{position:e,backgroundColor:i.defaultCell.background,textColor:i.defaultCell.textColor,candidates:t[e.row][e.col]===l?[].concat(n[e.row][e.col]):void 0}})),g.map((function(e){return{position:e,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:t[e.row][e.col]===l?[].concat(n[e.row][e.col]):void 0}})),this.highlightEliminations(t,n,d)),highlightNotes:[].concat(g.map((function(t){return{position:t,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:r}})),f.map((function(t){return{position:t,backgroundColor:i.sameNumber.background,textColor:i.sameNumber.textColor,value:r}})),this.highlightEliminationNotes(n,r,d))}},s.createRemovalStep=function(t,n,e){var o=this,r=e.value,s=e.baseUnits,u=e.coverUnits,g=e.intersections,h=e.direction,f=e.fins,d=e.eliminations;d.forEach((function(t){n[t.row][t.col].delete(r)}));var v=h===a.ROW;return{technique:this.name,stepId:4,position:d[0],value:0,get description(){return t=v?c.language.getLangByID("strategy.row"):c.language.getLangByID("strategy.col"),n=v?c.language.getLangByID("strategy.col"):c.language.getLangByID("strategy.row"),c.language.getLangByID("FinnedXWingStrategy.removalDes",{name:o.name,value:r,baseDirection:t,baseUnits:s.map((function(t){return t+1})).join(", "),coverDirection:n,coverUnits:u.map((function(t){return t+1})).join(", "),fins:f.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(", "),count:d.length});var t,n},highlights:[].concat(this.highlightBaseUnits(t,n,s,h),this.highlightCoverUnits(t,n,u,h),f.map((function(e){return{position:e,backgroundColor:i.defaultCell.background,textColor:i.defaultCell.textColor,candidates:t[e.row][e.col]===l?[].concat(n[e.row][e.col]):void 0}})),g.map((function(e){return{position:e,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:t[e.row][e.col]===l?[].concat(n[e.row][e.col]):void 0}})),this.highlightEliminations(t,n,d)),highlightNotes:[].concat(g.map((function(t){return{position:t,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:r}})),f.map((function(t){return{position:t,backgroundColor:i.sameNumber.background,textColor:i.sameNumber.textColor,value:r}})))}},s.highlightBaseUnits=function(t,n,e,o){return e.flatMap((function(e){return(o===a.ROW?u.getRowCells(e):u.getColumnCells(e)).map((function(e){return{position:e,backgroundColor:i.defaultCell.background,textColor:i.defaultCell.textColor,candidates:t[e.row][e.col]===l?[].concat(n[e.row][e.col]):void 0}}))}))},s.highlightCoverUnits=function(t,n,e,o){var r=o===a.ROW;return e.flatMap((function(e){return(r?u.getColumnCells(e):u.getRowCells(e)).map((function(e){return{position:e,backgroundColor:i.defaultCell.background,textColor:i.defaultCell.textColor,candidates:t[e.row][e.col]===l?[].concat(n[e.row][e.col]):void 0}}))}))},s.highlightEliminations=function(t,n,e){return e.map((function(e){return{position:e,backgroundColor:i.sameRelatedAreaCell.background,textColor:i.sameRelatedAreaCell.textColor,candidates:t[e.row][e.col]===l?[].concat(n[e.row][e.col]):void 0}}))},s.highlightNotesBaseUnits=function(t,n,o,r){for(var l,s=r===a.ROW,u=[],c=e(o);!(l=c()).done;)for(var g=l.value,h=0;h<9;h++){var f=s?g:h,d=s?h:g;t[f][d].has(n)&&u.push({position:{row:f,col:d},backgroundColor:i.sameNumber.background,textColor:i.sameNumber.textColor,value:n})}return u},s.highlightNotesCoverUnits=function(t,n,o,r){for(var l,s=r===a.ROW,u=[],c=e(o);!(l=c()).done;)for(var g=l.value,h=0;h<9;h++){var f=s?h:g,d=s?g:h;t[f][d].has(n)&&u.push({position:{row:f,col:d},backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:n})}return u},s.highlightEliminationNotes=function(t,n,e){return e.filter((function(e){return t[e.row][e.col].has(n)})).map((function(t){return{position:t,backgroundColor:i.hintRemoveCell.background,textColor:i.hintRemoveCell.textColor,value:n}}))},o(r,[{key:"name",get:function(){return c.language.getLangByID("FinnedXWingStrategy.name")}},{key:"description",get:function(){return c.language.getLangByID("FinnedXWingStrategy.description")}}]),r}(s));r._RF.pop()}}}));

System.register("chunks:///_virtual/FlashSpine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,s,a,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.sp,a=t.Material,o=t.Component}],execute:function(){var r;i._RF.push({},"61de7pPhiNF5plXR5pVKfXu","FlashSpine",void 0);var l=n.ccclass;n.property,t("default",l("FlashSpine")(r=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).duration=.5,e._median=0,e._time=0,e._material=null,e._skeleton=null,e}e(i,t);var n=i.prototype;return n.onLoad=function(){this._median=this.duration/2,this._skeleton=this.node.getComponent(s.Skeleton),this._material=this._skeleton.customMaterial,this._material.setProperty("u_rate",1)},n.update=function(t){if(this._time>0){this._time-=t,this._time=this._time<0?0:this._time;var e=2*Math.abs(this._time-this._median)/this.duration,i=new a;i.copy(this._material),this._skeleton.customMaterial=i,i.setProperty("u_rate",e)}},n.clickFlash=function(){this._time=this.duration},i}(o))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/FlashSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r,a,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,a=t.Sprite,n=t.Component}],execute:function(){var s;e._RF.push({},"a7a9eXWbUpJ3rONqlgUYCY/","FlashSprite",void 0);var o=r.ccclass;r.property,t("default",o("FlashSprite")(s=function(t){function e(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(i=t.call.apply(t,[this].concat(r))||this).duration=.5,i._median=0,i._time=0,i._material=null,i}i(e,t);var r=e.prototype;return r.onLoad=function(){this._median=this.duration/2,this._material=this.node.getComponent(a).getMaterial(0),this._material.setProperty("u_rate",1)},r.update=function(t){if(this._time>0){this._time-=t,this._time=this._time<0?0:this._time;var i=2*Math.abs(this._time-this._median)/this.duration;this._material.setProperty("u_rate",i)}},r.clickFlash=function(){this._time=this.duration},e}(n))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/FreeFlightCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,i,n,r,s,a,h,c,p,l,y,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.math,h=e.KeyCode,c=e.CCFloat,p=e.input,l=e.Input,y=e.game,u=e.Component}],execute:function(){var d,f,v,_,C,S,T,m,E,g,k,w;r._RF.push({},"6c841mU+4JNvqwHy5tJsJh0","FreeFlightCamera",void 0);var x=s.ccclass,z=s.property,F=s.menu,A=a.Vec2,U=a.Vec3,b=a.Quat,D=new A,O=new A,L=new U,H=new b,K="W".charCodeAt(0),M="S".charCodeAt(0),P="A".charCodeAt(0),W="D".charCodeAt(0),N="Q".charCodeAt(0),R="E".charCodeAt(0),Y=h.SHIFT_LEFT;e("FreeFlightCamera",(d=x("FreeFlightCamera"),f=F("OopsFramework/Camera/FreeFlightCamera （自由飞行摄像机）"),v=z({type:c,tooltip:"移动速度"}),_=z({type:c,tooltip:"按Shift键后的速度"}),C=z({type:c,slide:!0,range:[.05,.5,.01],tooltip:"移动后惯性效果"}),S=z({type:c,tooltip:"旋转速度"}),d(T=f((E=t((m=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"moveSpeed",E,n(t)),i(t,"moveSpeedShiftScale",g,n(t)),i(t,"damp",k,n(t)),i(t,"rotateSpeed",w,n(t)),t._euler=new U,t._velocity=new U,t._position=new U,t._speedScale=1,t}o(t,e);var r=t.prototype;return r.onLoad=function(){p.on(l.EventType.MOUSE_WHEEL,this.onMouseWheel,this),p.on(l.EventType.KEY_DOWN,this.onKeyDown,this),p.on(l.EventType.KEY_UP,this.onKeyUp,this),p.on(l.EventType.TOUCH_START,this.onTouchStart,this),p.on(l.EventType.TOUCH_MOVE,this.onTouchMove,this),p.on(l.EventType.TOUCH_END,this.onTouchEnd,this),U.copy(this._euler,this.node.eulerAngles),U.copy(this._position,this.node.position)},r.onDestroy=function(){p.off(l.EventType.MOUSE_WHEEL,this.onMouseWheel,this),p.off(l.EventType.KEY_DOWN,this.onKeyDown,this),p.off(l.EventType.KEY_UP,this.onKeyUp,this),p.off(l.EventType.TOUCH_START,this.onTouchStart,this),p.off(l.EventType.TOUCH_MOVE,this.onTouchMove,this),p.off(l.EventType.TOUCH_END,this.onTouchEnd,this)},r.update=function(e){U.transformQuat(L,this._velocity,this.node.rotation),U.scaleAndAdd(this._position,this._position,L,this.moveSpeed*this._speedScale),U.lerp(L,this.node.position,this._position,e/this.damp),this.node.setPosition(L),b.fromEuler(H,this._euler.x,this._euler.y,this._euler.z),b.slerp(H,this.node.rotation,H,e/this.damp),this.node.setRotation(H)},r.onMouseWheel=function(e){var t=-e.getScrollY()*this.moveSpeed*.1;U.transformQuat(L,U.UNIT_Z,this.node.rotation),U.scaleAndAdd(this._position,this.node.position,L,t)},r.onKeyDown=function(e){var t=this._velocity;e.keyCode===Y?this._speedScale=this.moveSpeedShiftScale:e.keyCode===K?0===t.z&&(t.z=-1):e.keyCode===M?0===t.z&&(t.z=1):e.keyCode===P?0===t.x&&(t.x=-1):e.keyCode===W?0===t.x&&(t.x=1):e.keyCode===N?0===t.y&&(t.y=-1):e.keyCode===R&&0===t.y&&(t.y=1)},r.onKeyUp=function(e){var t=this._velocity;e.keyCode===Y?this._speedScale=1:e.keyCode===K?t.z<0&&(t.z=0):e.keyCode===M?t.z>0&&(t.z=0):e.keyCode===P?t.x<0&&(t.x=0):e.keyCode===W?t.x>0&&(t.x=0):e.keyCode===N?t.y<0&&(t.y=0):e.keyCode===R&&t.y>0&&(t.y=0)},r.onTouchStart=function(e){y.canvas.requestPointerLock()},r.onTouchMove=function(e){e.getStartLocation(D),D.x>.4*y.canvas.width?(e.getDelta(O),this._euler.y-=O.x*this.rotateSpeed*.1,this._euler.x+=O.y*this.rotateSpeed*.1):(e.getLocation(O),A.subtract(O,O,D),this._velocity.x=.01*O.x,this._velocity.z=.01*-O.y)},r.onTouchEnd=function(e){document.exitPointerLock&&document.exitPointerLock(),e.getStartLocation(D),D.x<.4*y.canvas.width&&(this._velocity.x=0,this._velocity.z=0)},t}(u)).prototype,"moveSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=t(m.prototype,"moveSpeedShiftScale",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),k=t(m.prototype,"damp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),w=t(m.prototype,"rotateSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=m))||T)||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameCollision.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var o,n,t,e,r,l,s,c,a;return{setters:[function(i){o=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){r=i.cclegacy,l=i._decorator,s=i.ccenum,c=i.Collider,a=i.Component}],execute:function(){var h,g,u,p,f;r._RF.push({},"7fa3eqzDkpBUq8OUNr05VJh","GameCollision",void 0);var y=l.ccclass,C=l.property,d=i("CollisionType",function(i){return i[i.Role=0]="Role",i[i.Ballistic=1]="Ballistic",i[i.Wall=2]="Wall",i}({}));s(d);var T="onTriggerEnter",E="onTriggerStay",m="onTriggerExit",b="onCollisionEnter",v="onCollisionStay",x="onCollisionExit";i("GameCollision",(h=y("GameCollision"),g=C({type:d,tooltip:"碰撞物体类型"}),h((f=o((p=function(i){function o(){for(var o,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(o=i.call.apply(i,[this].concat(r))||this).collider=null,t(o,"type",f,e(o)),o}n(o,i);var r=o.prototype;return r.onLoad=function(){this.collider=this.getComponent(c),this.collider.isTrigger?(this.collider.on(T,this.onTrigger,this),this.collider.on(E,this.onTrigger,this),this.collider.on(m,this.onTrigger,this)):(this.collider.on(b,this.onCollision,this),this.collider.on(v,this.onCollision,this),this.collider.on(x,this.onCollision,this))},r.onTrigger=function(i){switch(i.type){case T:this.onTriggerEnter(i);break;case E:this.onTriggerStay(i);break;case m:this.onTriggerExit(i)}},r.onTriggerEnter=function(i){},r.onTriggerStay=function(i){},r.onTriggerExit=function(i){},r.onCollision=function(i){switch(i.type){case b:this.onCollisionEnter(i);break;case v:this.onCollisionStay(i);break;case x:this.onCollisionExit(i)}},r.onCollisionEnter=function(i){},r.onCollisionStay=function(i){},r.onCollisionExit=function(i){},o}(a)).prototype,"type",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.Ballistic}}),u=p))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./EventDispatcher.ts","./EventMessage.ts","./ResLoader.ts","./ViewUtil.ts"],(function(e){var t,n,s,o,i,r,a,u,h,c,f,d,l,p,v,y,E,m,g;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){i=e.cclegacy,r=e._decorator,a=e.Node,u=e.Button,h=e.EventHandler,c=e.input,f=e.Input,d=e.Component,l=e.isValid,p=e.SpriteFrame},function(e){v=e.oops},function(e){y=e.EventDispatcher},function(e){E=e.EventMessage},function(e){m=e.resLoader},function(e){g=e.ViewUtil}],execute:function(){var P;i._RF.push({},"62362nWbWZP653j6XL/zJDq","GameComponent",void 0);var G=r.ccclass,R=function(e){return e[e.Load=0]="Load",e[e.LoadDir=1]="LoadDir",e[e.Audio=2]="Audio",e}(R||{});e("GameComponent",G("GameComponent")(P=function(e){function i(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this)._event=null,t.nodes=null,t.resPaths=null,t}t(i,e);var r=i.prototype;return r.on=function(e,t,n){this.event.on(e,t,n)},r.off=function(e){this.event.off(e)},r.dispatchEvent=function(e){for(var t,n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];(t=this.event).dispatchEvent.apply(t,[e].concat(s))},r.getNode=function(e){if(this.nodes)return this.nodes.get(e)},r.nodeTreeInfoLite=function(){this.nodes=new Map,g.nodeTreeInfoLite(this.node,this.nodes)},r.createPrefabNode=function(e,t){return void 0===t&&(t=v.res.defaultBundleName),g.createPrefabNode(e,t)},r.createPrefabNodeAsync=function(e,t){return void 0===t&&(t=v.res.defaultBundleName),g.createPrefabNodeAsync(e,t)},r.getRes=function(e,t,n){return v.res.get(e,t,n)},r.addPathToRecord=function(e,t,n,s){null==this.resPaths&&(this.resPaths=new Map);var o=this.resPaths.get(e);if(null==o&&(o=new Map,this.resPaths.set(e,o)),n instanceof Array)for(var i=t,r=0;r<n.length;r++){var a=n[r],u=this.getResKey(i,a,s);o.has(u)||o.set(u,{path:a,bundle:i,resId:s})}else if("string"==typeof n){var h=t,c=n,f=this.getResKey(h,c,s);o.has(f)||o.set(f,{path:c,bundle:h,resId:s})}else{var d=v.res.defaultBundleName,l=t,p=this.getResKey(d,l,s);o.has(p)||o.set(p,{path:l,bundle:d,resId:s})}},r.getResKey=function(e,t,n){var s=e+":"+t;return null!=n&&(s+=":"+n),s},r.load=function(e,t,n,s,o){this.addPathToRecord(R.Load,e,t),v.res.load(e,t,n,s,o)},r.loadAsync=function(e,t,n){return this.addPathToRecord(R.Load,e,t),v.res.loadAsync(e,t,n)},r.loadDir=function(e,t,n,s,o){var i,r;"string"==typeof t?(i=t,r=e):(i=e,r=v.res.defaultBundleName),this.addPathToRecord(R.LoadDir,r,i),v.res.loadDir(e,t,n,s,o)},r.release=function(){if(this.resPaths){var e=this.resPaths.get(R.Load);e&&(e.forEach((function(e){v.res.release(e.path,e.bundle)})),e.clear())}},r.releaseDir=function(){if(this.resPaths){var e=this.resPaths.get(R.LoadDir);e&&e.forEach((function(e){v.res.releaseDir(e.path,e.bundle)}))}},r.releaseAudioEffect=function(){if(this.resPaths){var e=this.resPaths.get(R.Audio);e&&e.forEach((function(e){v.audio.putEffect(e.resId,e.path,e.bundle)}))}},r.setSprite=function(){var e=s(o().mark((function e(t,n,s){var i,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s=m.defaultBundleName),e.next=3,this.loadAsync(s,n,p);case 3:if((i=e.sent)&&l(t)){e.next=8;break}return(r=this.resPaths.get(R.Load))&&(a=this.getResKey(s,n),r.delete(a),v.res.release(n,s)),e.abrupt("return");case 8:t.spriteFrame=i;case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,s){return e.apply(this,arguments)}}(),r.playMusic=function(e,t,n){v.audio.playMusic(e,t,n)},r.playMusicLoop=function(e,t){v.audio.stopMusic(),v.audio.playMusicLoop(e,t)},r.playEffect=function(){var e=s(o().mark((function e(t,n){var s,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==n&&(n=v.res.defaultBundleName),e.next=3,v.audio.playEffect(t,n,(function(){var e=i.resPaths.get(R.Audio);if(e){var o=i.getResKey(n,t,s);e.delete(o)}}));case 3:s=e.sent,this.addPathToRecord(R.Audio,n,t,s);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),r.setButton=function(e){var t=this;void 0===e&&(e=!0),e&&this.node.on(a.EventType.TOUCH_END,(function(e){var n=t[e.target.name];n&&n.call(t,e)}),this);var n=/<([^>]+)>/;this.node.getComponentsInChildren(u).forEach((function(e){var s=e.node;if(t[s.name]){var o=new h;o.target=t.node,o.handler=e.node.name,o.component=t.name.match(n)[1],e.clickEvents.push(o)}}))},r.setEvent=function(){for(var e=this,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];for(var o=0,i=n;o<i.length;o++){var r=i[o],a=e[r];a?this.on(r,a,this):console.error("名为【"+r+"】的全局事方法不存在")}},r.setKeyboard=function(e){e?(c.on(f.EventType.KEY_DOWN,this.onKeyDown,this),c.on(f.EventType.KEY_UP,this.onKeyUp,this),c.on(f.EventType.KEY_PRESSING,this.onKeyPressing,this)):(c.off(f.EventType.KEY_DOWN,this.onKeyDown,this),c.off(f.EventType.KEY_UP,this.onKeyUp,this),c.off(f.EventType.KEY_PRESSING,this.onKeyPressing,this))},r.onKeyDown=function(e){},r.onKeyUp=function(e){},r.onKeyPressing=function(e){},r.setGameShow=function(){this.on(E.GAME_SHOW,this.onGameShow,this)},r.setGameHide=function(){this.on(E.GAME_HIDE,this.onGameHide,this)},r.setGameResize=function(){this.on(E.GAME_RESIZE,this.onGameResize,this)},r.setGameFullScreen=function(){this.on(E.GAME_FULL_SCREEN,this.onGameFullScreen,this)},r.setGameOrientation=function(){this.on(E.GAME_ORIENTATION,this.onGameOrientation,this)},r.onGameShow=function(){},r.onGameHide=function(){},r.onGameResize=function(){},r.onGameFullScreen=function(){},r.onGameOrientation=function(){},r.onDestroy=function(){this._event&&(this._event.destroy(),this._event=null),this.nodes&&(this.nodes.clear(),this.nodes=null),this.resPaths&&(this.releaseAudioEffect(),this.release(),this.releaseDir(),this.resPaths.clear(),this.resPaths=null)},n(i,[{key:"event",get:function(){return null==this._event&&(this._event=new y),this._event}}]),i}(d))||P);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.oops}],execute:function(){n._RF.push({},"54585zBsmtGfZEDczLG3SH5","GameConfig",void 0);t("GameConfig",function(){function t(t){this._data=null,this._data=Object.freeze(t.json),a.log.logConfig(this._data,"游戏配置")}return e(t,[{key:"version",get:function(){return this._data.config.version}},{key:"package",get:function(){return this._data.config.package}},{key:"frameRate",get:function(){return this._data.config.frameRate}},{key:"localDataKey",get:function(){return this._data.config.localDataKey}},{key:"localDataIv",get:function(){return this._data.config.localDataIv}},{key:"httpServer",get:function(){return this._data.config.httpServer}},{key:"httpTimeout",get:function(){return this._data.config.httpTimeout}},{key:"language",get:function(){return this._data.language.type||["zh"]}},{key:"languagePathJson",get:function(){return this._data.language.path.json||"language/json"}},{key:"languagePathTexture",get:function(){return this._data.language.path.texture||"language/texture"}},{key:"languageDefault",get:function(){return this._data.language.default||"zh"}},{key:"bundleEnable",get:function(){return this._data.bundle.enable}},{key:"bundleServer",get:function(){return this._data.bundle.server}},{key:"bundleDefault",get:function(){return this._data.bundle.default}},{key:"bundlePackages",get:function(){return this._data.bundle.packages}},{key:"loadingTimeoutGui",get:function(){return this._data.config.loadingTimeoutGui||1e3}},{key:"data",get:function(){return this._data}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfig2.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"b6443LWc8BFAZHj8Wpo8kwN","GameConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Configuration.ts","./GameLogic.ts","./DailyChallengeManager.ts","./DifficultyManager.ts","./HistoryManager.ts","./GameModel.ts","./NetworkService.ts"],(function(e){var t,n,i,r,a,o,u,s,l,c,f,d,h,m,p;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,o=e.Component},function(e){u=e.GameState,s=e.SudokuGameMode},function(e){l=e.Configuration},function(e){c=e.GameLogic},function(e){f=e.DailyChallengeManager},function(e){d=e.DifficultyManager},function(e){h=e.HistoryManager},function(e){m=e.GameModel},function(e){p=e.NetworkService}],execute:function(){var g;r._RF.push({},"700b9kWTFZMw5qjnwZSt5Yv","GameController",void 0);var v=a.ccclass;a.property,e("GameController",v("GameController")(g=function(e){function r(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).view=void 0,t.model=void 0,t}t(r,e);var a=r.prototype;return a.start=function(){},a.update=function(e){},a.init=function(e){this.view=e},a.createGameModel=function(){var e=n(i().mark((function e(t,n,r,a){var o,g,v,w,y,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=!0),void 0===a&&(a=!1),o=l.getInstance().getCurrentDifficulty(),g=o,(v=d.getInstance().evaluate(o)).shouldAdjust&&null!=v.adjustedDifficulty&&(g=v.adjustedDifficulty),y=null,t!==s.DAILY_CHALLENGE){e.next=19;break}if(!(k=f.getInstance().getChallengeByDate(n.date))){e.next=14;break}w={puzzleStr:k.puzzleStr,solutionStr:k.solutionStr,blanks:c.findBlanks(k.puzzleStr)},y=k,e.next=17;break;case 14:return e.next=16,p.generateDailyChallenge(g,n.date);case 16:w=e.sent;case 17:e.next=28;break;case 19:if(y=h.getInstance().getCurrentGame(),!this.model||r){e.next=24;break}w={puzzleStr:this.model.gameData.puzzleStr,solutionStr:this.model.gameData.solutionStr,blanks:c.findBlanks(this.model.gameData.puzzleStr)},e.next=27;break;case 24:return e.next=26,p.generate(g);case 26:w=e.sent;case 27:a&&(y=null);case 28:this.model=new m(w,t,n,o,g,y),this.model.gameState=u.Playing;case 30:case"end":return e.stop()}}),e,this)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),a.resetGame=function(){var e=n(i().mark((function e(t,n,r,a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createGameModel(t,n,r,a);case 2:if(this.view&&this.model){e.next=4;break}return e.abrupt("return");case 4:this.view.refreshGameModel(this.model),this.view.resetGame();case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),a.inputNumber=function(e){this.view&&this.model&&(this.model.updateInput(e.row,e.col,e.value,e.idUndo),this.view.refreshNumberBtnCount(),this.view.refreshScoreAndHP())},a.inputNoteNumber=function(e){this.model&&this.model.updateInputNote(e.row,e.col,e.value,e.idUndo)},a.getInput=function(e,t){if(this.model)return this.model.getInput(e,t)},a.getInputNote=function(e,t){if(this.model)return this.model.getInputNote(e,t)},a.updateHintLimit=function(){this.model&&this.view&&(this.model.updateHintLimit(),this.view.refreshHint())},r}(o))||g);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"decf5+9dLVILakWFtuzeTzH","GameData",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/GameHistoryImpl.ts",["cc","./Oops.ts"],(function(e){var r,t;return{setters:[function(e){r=e.cclegacy},function(e){t=e.oops}],execute:function(){r._RF.push({},"8bd9cQawtxJML+Wn4VnRSHl","GameHistoryImpl",void 0);var o=e("GameHistoryImpl",function(){function e(e){void 0===e&&(e=[]),this.records=e,this.loadFromStorage()}var r=e.prototype;return r.getRecentRecords=function(e,r){return this.records.filter((function(r){return r.difficulty===e})).slice(-r)},r.addRecord=function(r){r.timestamp||(r.timestamp=Date.now()),this.records.push(r),this.records.length>e.MAX_MEMORY_RECORDS&&this.records.shift(),this.saveToStorage()},r.getRecentGames=function(e,r){var t=[].concat(this.records).reverse();return r&&(void 0!==r.isCompleted&&(t=t.filter((function(e){return e.isCompleted===r.isCompleted}))),void 0!==r.minProgress&&(t=t.filter((function(e){return e.progress>=r.minProgress}))),void 0!==r.maxProgress&&(t=t.filter((function(e){return e.progress<=r.maxProgress})))),t.slice(0,e)},r.getRecentCompletedGames=function(e,r){var t=this.records.filter((function(e){return e.isCompleted}));return void 0!==r&&(t=t.filter((function(e){return e.difficulty===r}))),t.slice(-e).reverse()},r.getRecentUncompletedGames=function(e,r){var t=this.records.filter((function(e){return!e.isCompleted}));return void 0!==r&&(t=t.filter((function(e){return e.difficulty===r}))),t.slice(-e).reverse()},r.loadFromStorage=function(){var r=t.storage.get(e.STORAGE_KEY);if(r)try{var o=JSON.parse(r);if(null!=o&&o.records){var i=[].concat(o.records,this.records).filter((function(e,r,t){return t.findIndex((function(r){return r.timestamp===e.timestamp}))===r}));this.records=i.slice(-e.MAX_MEMORY_RECORDS)}}catch(e){console.error("加载难度历史记录失败:",e)}},r.saveToStorage=function(){var r={version:1,records:this.records,lastUpdated:Date.now()};t.storage.set(e.STORAGE_KEY,JSON.stringify(r))},r.clearAll=function(){this.records=[],t.storage.remove(e.STORAGE_KEY)},e}());o.STORAGE_KEY="difficulty_history_v2",o.MAX_MEMORY_RECORDS=5,r._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic.ts",["cc","./Config.ts","./sudoku.ts"],(function(t){var r,e,n,o,a,i;return{setters:[function(t){r=t.cclegacy},function(t){e=t.NR_SQUARES,n=t.MIN_GIVENS},function(t){o=t.generate,a=t.solve,i=t.get_candidates}],execute:function(){r._RF.push({},"4dafduOpMxHxb9ioQtCO2oC","GameLogic",void 0);var u=t("AssociationType",function(t){return t.ROW="ROW",t.COLUMN="COLUMN",t.BOX="BOX",t}({})),f=t("CellRelationType",function(t){return t.SELECTED="SELECTED",t.UNRELATED="UNRELATED",t.ASSOCIATED="ASSOCIATED",t}({}));t("GameLogic",function(){function t(){}return t.getSpaceRelations=function(t,r,e,n){var o=[];return t===e&&o.push(u.ROW),r===n&&o.push(u.COLUMN),Math.floor(t/3)===Math.floor(e/3)&&Math.floor(r/3)===Math.floor(n/3)&&o.push(u.BOX),o},t.getCellRelation=function(t,r,e){var n=this;void 0===e&&(e=[]);var o=!1;if(!r)return{type:f.UNRELATED,isSameNumber:o};if(t.row===r.row&&t.col===r.col)return{type:f.SELECTED,isSameNumber:o};var a=this.getSpaceRelations(t.row,t.col,r.row,r.col),i=[];return o=0!==r.number&&t.number===r.number,e.forEach((function(r){i=[].concat(i,n.getSpaceRelations(t.row,t.col,r.row,r.col))})),i=[].concat(new Set(i)),a.length>0||i.length>0?{type:f.ASSOCIATED,spaceRelations:a,numberRelations:i,isSameNumber:o}:{type:f.UNRELATED,isSameNumber:o}},t.getGridRelations=function(t,r){var e=this,n=t.flat(),o=new Map;if(!r)return n.forEach((function(t){o.set(t.row+"-"+t.col,{type:f.UNRELATED,isSameNumber:!1})})),{relations:o,sameNumberCells:[]};var a=n.filter((function(t){return 0!==r.number&&t.number===r.number&&!(t.row===r.row&&t.col===r.col)}));return n.forEach((function(t){var n=e.getCellRelation(t,r,a);o.set(t.row+"-"+t.col,n)})),{relations:o,sameNumberCells:a}},t.generate=function(t,r){void 0===r&&(r=!0),t=this.force_range(t,e+1,n);var i=o(t),u=a(i);return u?{puzzleStr:i,solutionStr:u,blanks:this.findBlanks(i)}:(console.error("生成错误，该题无解"),this.generate(t,r))},t.getCandidates=function(t){return i(t)},t.parseSudokuString=function(t){if(81!==t.length)throw new Error("Invalid sudoku string length");for(var r=[],e=0;e<9;e++){r[e]=[];for(var n=0;n<9;n++){var o=t.charAt(9*e+n);r[e][n]="0"===o?0:parseInt(o,10)}}return r},t.findBlanks=function(t){for(var r=[],e=0;e<t.length;e++)if("."===t[e]){var n=Math.floor(e/9),o=e%9;r.push({row:n,col:o})}return r},t.force_range=function(t,r,e){return void 0===e&&(e=0),(t=t||0)<e?e:t>r?r:t},t.formatTimeDisplay=function(t,r){if(void 0===r&&(r=!1),"number"!=typeof t||isNaN(t))return r?"00:00:00:000":"00:00:00";var e=Math.max(0,t),n=Math.floor(e/3600),o=Math.floor(e%3600/60),a=Math.floor(e%60),i=Math.floor(e%1*1e3),u=function(t,r){return void 0===r&&(r=2),t.toString().padStart(r,"0")},f="";return f=n>0?u(n)+":"+u(o)+":"+u(a):u(o)+":"+u(a),r&&(f+=":"+u(i,3)),f},t.checkConflicts=function(t,r,e,n,o){var a=[],i=3*Math.floor(t/3),u=3*Math.floor(r/3);if(!function(t,r){return"0"===n[9*t+r]}(t,r))return a;for(var f=function(t,r){var e=t+"-"+r;return o.get(e)||("0"!==n[9*t+r]?parseInt(n[9*t+r]):null)},c=0;c<9;c++){if(c!==r)f(t,c)===e&&a.push([t,c]);if(c!==t)f(c,r)===e&&a.push([c,r])}for(var l=i;l<i+3;l++)for(var s=u;s<u+3;s++){if(l!==t||s!==r)if(l!==t&&s!==r)f(l,s)===e&&a.push([l,s])}return a},t.toISOMonthDay=function(t){return console.log("date->",t),(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")},t.formatDateToYYYYMMDD=function(t){return""+t.getFullYear()+String(t.getMonth()+1).padStart(2,"0")+String(t.getDate()).padStart(2,"0")},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["cc"],(function(e){var t,a;return{setters:[function(e){t=e.cclegacy,a=e.director}],execute:function(){t._RF.push({},"73fa0CEfOhMdJUoZwoFIIZV","GameManager",void 0);e("GameManager",function(){function e(e){this.root=void 0,this.root=e}var t=e.prototype;return t.setTimeScale=function(e){a.globalGameTimeScale=e},t.getTimeScale=function(){return a.globalGameTimeScale},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./EventType.ts","./GameController.ts","./GameLogic.ts","./SettingsManager.ts","./GameView.ts","./Logger.ts","./Oops.ts"],(function(e){var t,n,i,s,o,a,r,h,c,u,l,m,d,f,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.extends},function(e){a=e.cclegacy,r=e._decorator,h=e.Component},function(e){c=e.SudokuGameMode},function(e){u=e.EventType},function(e){l=e.GameController},function(e){m=e.GameLogic},function(e){d=e.SettingsManager},function(e){f=e.GameView},function(e){g=e.Logger},function(e){p=e.oops}],execute:function(){var E,v,R,N,G,M,w;a._RF.push({},"f2cb6FP4yVHDI+jcu7ghAKv","GameManager",void 0);var b=r.ccclass,S=r.property;e("GameManager",(E=b("GameManager"),v=S({type:f,tooltip:"GameView",visible:!0}),R=S({type:l,tooltip:"GameController",visible:!0}),E((M=t((G=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"view",M,s(t)),i(t,"controller",w,s(t)),t.currentSelectKey="",t.gameMode=c.NORMAL,t.modeData={},t}n(t,e);var a=t.prototype;return a.onLoad=function(){this.initEventListeners()},a.onDestroy=function(){this.cleanup()},a.onAdded=function(e){console.log("params->",e),this.gameMode=null!=e.gameMode?e.gameMode:this.gameMode,this.modeData=null!=e.data?e.data:this.modeData},a.start=function(){this.initMVC(),p.message.dispatchEvent(u.RESET_GAME,{data:{isGenerate:!0}})},a.initMVC=function(){this.view.init(),this.controller.init(this.view)},a.initEventListeners=function(){p.message.on(u.INPUT_NUMBER,this.onInputNumber,this),p.message.on(u.INPUT_NOTE_NUMBER,this.onInputNoteNumber,this),p.message.on(u.UNDO,this.onUndo,this),p.message.on(u.RESET_GAME,this.onResetGame,this),p.message.on(u.SELECT_CELL,this.onSelectCell,this),p.message.on(u.TOUCH_NUMBERBTN,this.onTouchNumberbtn,this),p.message.on(u.GAME_END,this.onGameEnd,this),p.message.on(u.RESURRECTION_GAME,this.onResurrectionGame,this),p.message.on(u.REFRESH_SETTING,this.onRefreshSetting,this),p.message.on(u.REFRESH_HINT,this.onRefreshHint,this)},a.cleanup=function(){p.message.off(u.INPUT_NUMBER,this.onInputNumber,this),p.message.off(u.INPUT_NOTE_NUMBER,this.onInputNoteNumber,this),p.message.off(u.UNDO,this.onUndo,this),p.message.off(u.RESET_GAME,this.onResetGame,this),p.message.off(u.SELECT_CELL,this.onSelectCell,this),p.message.off(u.TOUCH_NUMBERBTN,this.onTouchNumberbtn,this),p.message.off(u.GAME_END,this.onGameEnd,this),p.message.off(u.RESURRECTION_GAME,this.onResurrectionGame,this),p.message.off(u.REFRESH_SETTING,this.onRefreshSetting,this),p.message.off(u.REFRESH_HINT,this.onRefreshHint,this)},a.pushUndoRecord=function(e,t){var n;this.view.model&&(null==(n=this.view.model)||n.pushUndoRecord(e,t,[{row:e,col:t}],[{row:e,col:t}]),this.view.refreshOperateBtnsStatus([{name:"btn_undo",interactable:this.view.model.getUndoRecordLength()>0}]))},a.onInputNumber=function(e,t){var n=t.row,i=t.col;t.isUndo||this.pushUndoRecord(n,i),this.controller.inputNumber(t)},a.onInputNoteNumber=function(e,t){var n=t.row,i=t.col;t.isUndo||this.pushUndoRecord(n,i),this.controller.inputNoteNumber(t)},a.onUndo=function(e,t){if(this.view.model){var n=this.view.model.popUndoRecord();n&&this.view.undoRecord(n),this.view.refreshOperateBtnsStatus([{name:"btn_undo",interactable:this.view.model.getUndoRecordLength()>0}])}},a.onResetGame=function(e,t){this.gameMode=null!=t.gameMode?t.gameMode:this.gameMode,this.modeData=o({},this.modeData,t.data||{});var n=null==this.modeData.isGenerate||this.modeData.isGenerate,i=null!=this.modeData.isReset&&this.modeData.isReset;this.controller.resetGame(this.gameMode,this.modeData,n,i),this.view.refreshGameMode(this.gameMode,this.modeData),this.view.refreshOperateBtnsStatus([{name:"btn_undo",interactable:!1}])},a.onSelectCell=function(e,t){var n=t.row,i=t.col,s=t.canFill,o=t.isFinish;this.currentSelectKey=n+"-"+i,this.view.refreshOperateBtnsStatus([{name:"btn_erase",interactable:s&&!o}]),this.view.refreshHint(),this.view.setNumberBtnsInteractable(s&&!o)},a.onTouchNumberbtn=function(e,t){var n,i=this,s=this.currentSelectKey.split("-").map(Number),o=s[0],a=s[1],r=null==(n=this.view.model)?void 0:n.gameData;if(r){var h=m.checkConflicts(o,a,t,r.puzzleStr,r.userInputs);console.log("conflicts->",h),this.view.sudoGrid.checkInputIsExists(o,a,t)||h.forEach((function(e){var t=e[0],n=e[1];i.view.sudoGrid.playComboWarningSafe(t,n)})),p.message.dispatchEvent(u.CHECK_TOUCH_NUMBERBTN_FINISH,{isError:h.length>0,value:t})}},a.onGameEnd=function(e,t){g.logModel(t,"游戏结束"),t?this.view.showSuccessPopup():this.view.showFailPopup()},a.onResurrectionGame=function(e,t){g.logModel(t,"复活玩家1颗心"),this.view.resurrectionGame()},a.onRefreshSetting=function(e,t){var n=d.getInstance().getSettings();this.view.refreshSetting(n)},a.onRefreshHint=function(e,t){d.getInstance().getSettings().debug.infiniteHints||this.controller.updateHintLimit()},t}(h)).prototype,"view",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(G.prototype,"controller",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=G))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Configuration.ts","./EventType.ts","./GameLogic.ts","./SolverUtils.ts","./DailyChallengeManager.ts","./HistoryManager.ts","./SettingsManager.ts","./Oops.ts"],(function(t){var e,a,n,i,s,r,o,u,d,c,h,l,p;return{setters:[function(t){e=t.extends,a=t.createClass},function(t){n=t.cclegacy},function(t){i=t.GameState,s=t.SudokuGameMode},function(t){r=t.Configuration},function(t){o=t.EventType},function(t){u=t.GameLogic},function(t){d=t.SolverUtils},function(t){c=t.DailyChallengeManager},function(t){h=t.HistoryManager},function(t){l=t.SettingsManager},function(t){p=t.oops}],execute:function(){n._RF.push({},"e358e/fR/NI7olfvcTsGTfJ","GameModel",void 0);t("GameModel",function(){function t(t,e,a,n,r,o){if(this.data=void 0,this.solution=[],this.gameMode=s.NORMAL,this.modeData={},this.undoRecords=[],this.lastSelectKey="0-0",this.candidates=[],this.state=i.Ready,this.gameMode=e,this.modeData=a,this.undoRecords=[],o)try{this.data=this.validateCache(o),console.log("成功加载缓存数据")}catch(e){console.warn("缓存数据损坏，创建新游戏:",e),this.data=this.initNewGame(t,n,r)}else this.data=this.initNewGame(t,n,r),this.gameMode===s.DAILY_CHALLENGE?c.getInstance().updateCurrentGame(this.data,this.modeData.date):this.gameMode===s.NORMAL&&h.getInstance().setCurrentGame(this.data);this.candidates=this.getValidCandidates(),console.log("初始化->",this.deepCopyCandidates(this.candidates)),console.log("数独题目",this.data)}var n=t.prototype;return n.validateCache=function(t){if(["puzzleStr","solutionStr","userInputs","userInputNotes","displayDifficulty","actualDifficulty","errorCount","timeElapsed","score"].forEach((function(e){if(!(e in t))throw new Error("Invalid cache: Missing field "+e)})),81!==t.puzzleStr.length||81!==t.solutionStr.length)throw new Error("Invalid cache: Puzzle/Solution matrix must be 9x9");return this.solution=u.parseSudokuString(t.solutionStr),t.hp<0&&(t.hp=r.getInstance().getDifficultyConfig().maxErrors),e({},t,{userInputs:new Map(t.userInputs),userInputNotes:new Map(t.userInputNotes)})},n.initNewGame=function(t,e,a){return this.solution=u.parseSudokuString(t.solutionStr),{id:this.guid(),puzzleStr:t.puzzleStr,solutionStr:t.solutionStr,userInputs:new Map(t.blanks.map((function(t){return[t.row+"-"+t.col,0]}))),userInputNotes:new Map(t.blanks.map((function(t){return[t.row+"-"+t.col,""]}))),displayDifficulty:e,actualDifficulty:a,errorCount:0,hp:r.getInstance().getDifficultyConfig().maxErrors,timeElapsed:0,score:0,hintLimit:r.getInstance().getDifficultyConfig().hintLimit,progress:0}},n.getState=function(){return Object.freeze(e({},this.data,{userInputs:new Map(this.data.userInputs)}))},n.updateInput=function(t,e,a,n){var r=t+"-"+e,u=this.data.userInputs.get(r);if(0===a)return this.data.userInputs.delete(r),void this.updateScore();u!==a&&(this.data.userInputs.set(r,a),this.data.progress=this.calculateProgress(),a===this.solution[t][e]||n||(this.data.errorCount++,l.getInstance().getSettings().debug.infiniteLives||(this.data.hp--,this.data.hp<=0&&(this.state=i.GameOver,this.gameMode===s.NORMAL&&(h.getInstance().setCurrentGame(this.data),h.getInstance().clearCurrentGame()),p.message.dispatchEvent(o.GAME_END,!1)))),this.updateScore(),this.getCurrentSudokuString()===this.data.solutionStr&&(this.state=i.GameOver,this.gameMode===s.NORMAL&&h.getInstance().completeCurrentGame(this.data),p.message.dispatchEvent(o.GAME_END,!0)),this.data.hp>0&&this.gameMode===s.NORMAL&&h.getInstance().updateCurrentGame(this.data),this.gameMode===s.DAILY_CHALLENGE&&c.getInstance().updateCurrentGame(this.data,this.modeData.date))},n.updateScore=function(){var t=this,e=0;this.data.userInputs.forEach((function(a,n){var i=n.split("-").map(Number),s=i[0],r=i[1];a===t.solution[s][r]&&e++})),this.data.score=e},n.updateHintLimit=function(){null!=this.data.hintLimit&&(this.data.hintLimit=this.data.hintLimit-1),this.gameMode===s.NORMAL?h.getInstance().updateCurrentGame(this.data):this.gameMode===s.DAILY_CHALLENGE&&c.getInstance().updateCurrentGame(this.data,this.modeData.date)},n.getInput=function(t,e){var a=t+"-"+e;return this.data.userInputs.get(a)},n.updateInputNote=function(t,e,a,n){var i=t+"-"+e;this.data.userInputNotes.set(i,a),this.gameMode===s.NORMAL?h.getInstance().updateCurrentGame(this.data):this.gameMode===s.DAILY_CHALLENGE&&c.getInstance().updateCurrentGame(this.data,this.modeData.date)},n.getInputNote=function(t,e){var a=t+"-"+e;return this.data.userInputNotes.get(a)},n.getValidSudokuString=function(){for(var t=this,e=new Array(81).fill("0"),a=0;a<81;a++)"0"!==this.data.puzzleStr[a]&&(e[a]=this.data.puzzleStr[a]);return this.data.userInputs.forEach((function(a,n){var i=n.split("-").map(Number),s=9*i[0]+i[1];"0"===t.data.puzzleStr[s]&&a.toString()===t.data.solutionStr[s]&&(e[s]=a.toString())})),e.join("")},n.getCurrentSudokuString=function(){var t=[].concat(this.data.puzzleStr);return this.data.userInputs.forEach((function(e,a){var n=a.split("-").map(Number),i=n[0],s=n[1];if(!(i<0||i>8||s<0||s>8)){var r=9*i+s;"0"===t[r]&&(t[r]=e.toString())}})),t.join("")},n.update=function(t){return this.state===i.Playing&&(this.data.timeElapsed=this.data.timeElapsed+t,!0)},n.resurrectionGame=function(){this.data.hp++,0===this.data.hp&&(this.data.hp=1),this.state=i.Playing},n.guid=function(){return Date.now().toString(36)+Math.random().toString(36).substring(2)},n.calculateProgress=function(){var t=this,e=this.data.puzzleStr.split("0").length-1,a=0;return this.data.userInputs.forEach((function(e,n){var i=n.split("-").map(Number),s=i[0],r=i[1];e===t.solution[s][r]&&a++})),e>0?Math.min(1,a/e):1},n.pushUndoRecord=function(t,e,a,n){var i=this,s={};a.forEach((function(t){var e=t.row+"-"+t.col;s[e]=i.getInput(t.row,t.col)||0}));var r={},o={};n.forEach((function(t){var e=t.row+"-"+t.col;r[e]=i.getInputNote(t.row,t.col)||"";var a=i.getCandidateSet(t.row,t.col);a.size>0?o[e]=Array.from(a).join(""):o[e]=""})),this.undoRecords.push({lastSelectKey:this.lastSelectKey,oldCellNumber:s,oldNotesStr:r,candidates:o}),this.lastSelectKey=t+"-"+e,console.log("记录操作数据->",o)},n.getUndoRecordLength=function(){return this.undoRecords.length},n.popUndoRecord=function(){var t=this.undoRecords.pop();return null!=t&&t.candidates&&this.refreshCandidates(t.candidates),t},n.getValidCandidates=function(){var t=d.gridStrToArray(this.getValidSudokuString());return 0===this.candidates.length||this.candidates.flat().every((function(t){return 0===t.size}))?d.getCandidates(t):d.getMergedCandidates(t,this.candidates)},n.convertNotesToCandidates=function(){var t=this.data.userInputNotes,e=Array(9).fill(null).map((function(){return Array(9).fill(null).map((function(){return new Set}))}));return t.forEach((function(t,a){var n=a.split("-").map(Number),i=n[0],s=n[1];if(i>=0&&i<9&&s>=0&&s<9){var r=t.split("").map(Number).filter((function(t){return!isNaN(t)&&t>=1&&t<=9}));e[i][s]=new Set(r)}})),e},n.refreshCandidates=function(t){var e=this;console.log("替换数据->",t),console.log("修改前->",this.deepCopyCandidates(this.candidates)),Object.entries(t).forEach((function(t){var a=t[0],n=t[1],i=a.split("-").map(Number),s=i[0],r=i[1];if(s>=0&&s<9&&r>=0&&r<9){var o=n.split("").map(Number).filter((function(t){return!isNaN(t)&&t>=1&&t<=9}));e.candidates[s][r]=new Set(o)}})),console.log("修改后->",this.deepCopyCandidates(this.candidates))},n.getCandidateSet=function(t,e){return!this.candidates||t<0||t>=this.candidates.length||e<0||!this.candidates[t]||e>=this.candidates[t].length?new Set:this.candidates[t][e]},n.deepCopyCandidates=function(t){return t.map((function(t){return t.map((function(t){return t?new Set(t):new Set}))}))},a(t,[{key:"gameData",get:function(){return this.data}},{key:"gameState",get:function(){return this.state},set:function(t){this.state=t}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameQueryConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./StringUtil.ts"],(function(t){var n,e,r,i,o;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,r=t.sys},function(t){i=t.oops},function(t){o=t.StringUtil}],execute:function(){e._RF.push({},"d09acUxcU5Hg4kUjKxVEWLy","GameQueryConfig",void 0);t("GameQueryConfig",function(){function t(){this._data=null,r.isBrowser?(this._data=this.parseUrl(),this._data.username||(this._data.username=o.guid()),i.log.logConfig(this._data,"查询参数")):this._data={}}return t.prototype.parseUrl=function(){if("object"!=typeof window)return{};if(!window.document)return{};var t=window.document.location.href.toString().split("?");if("string"==typeof t[1]){for(var n={},e=0,r=(t=t[1].split("&")).length;e<r;++e){var i=t[e],o=i.indexOf("=");if(!(o<0)){var a=i.substring(0,o),u=i.substring(o+1);n[decodeURIComponent(a)]=u&&decodeURIComponent(u)}}return n}return{}},n(t,[{key:"debug",get:function(){return this._data.debug}},{key:"username",get:function(){return this._data.username}},{key:"lang",get:function(){return this._data.lang||"zh"}},{key:"data",get:function(){return this._data}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GameStatistics.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"15ea1XMf/RHhJjPVobqSCiD","GameStatistics",void 0);t("DifficultyStatisticsImpl",(function(){this.gamesPlayed=0,this.gamesCompleted=0,this.perfectGames=0,this.bestTime=0,this.totalTime=0,this.currentStreak=0,this.longestStreak=0,this.winRate=0,this.averageTime=0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/GameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Configuration.ts","./EventType.ts","./UIConfig.ts","./GameLogic.ts","./SudokuSolverEngine.ts","./HistoryManager.ts","./SettingsManager.ts","./HintBtn.ts","./HintPageView.ts","./NumberBtn.ts","./SudokuGrid.ts","./Logger.ts","./Oops.ts"],(function(t){var e,i,n,o,r,s,a,l,u,h,c,d,m,f,g,p,b,v,y,S,B,C,G,w,N,D,E,R,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,l=t._decorator,u=t.Node,h=t.Button,c=t.Label,d=t.Toggle,m=t.Component},function(t){f=t.SudokuGameMode,g=t.default,p=t.GameState},function(t){b=t.Configuration},function(t){v=t.EventType},function(t){y=t.UIID},function(t){S=t.GameLogic},function(t){B=t.SudokuSolverEngine},function(t){C=t.HistoryManager},function(t){G=t.SettingsManager},function(t){w=t.HintBtn},function(t){N=t.HintPageView},function(t){D=t.NumberBtn},function(t){E=t.SudokuGrid},function(t){R=t.Logger},function(t){_=t.oops}],execute:function(){var H,L,P,k,I,M,T,A,V,z,O,U,F,x,j,Q,X,q,K,W,Y,Z,J,$,tt,et,it;a._RF.push({},"52b92ZFaKxEG5TXjXfRtuP7","GameView",void 0);var nt=l.ccclass,ot=l.property;t("GameView",(H=nt("GameView"),L=ot({type:E,tooltip:"SudokuGrid",visible:!0}),P=ot({type:[D],tooltip:"NumberBtn",visible:!0}),k=ot({type:u,tooltip:"operateBtnRoot",visible:!0}),I=ot({type:h,tooltip:"btn_reset",visible:!0}),M=ot({type:h,tooltip:"btn_resume",visible:!0}),T=ot({type:u,tooltip:"btn_suspend",visible:!0}),A=ot({type:u,tooltip:"cellRoot",visible:!0}),V=ot({type:c,tooltip:"关卡难度描述",visible:!0}),z=ot({type:c,tooltip:"分数",visible:!0}),O=ot({type:c,tooltip:"生命值",visible:!0}),U=ot({type:c,tooltip:"计时器",visible:!0}),F=ot({type:N,tooltip:"提示导航",visible:!0}),H((Q=e((j=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"sudoGrid",Q,o(e)),n(e,"numberBtns",X,o(e)),n(e,"operateBtnRoot",q,o(e)),n(e,"btn_reset",K,o(e)),n(e,"btn_resume",W,o(e)),n(e,"toggle_suspend",Y,o(e)),n(e,"cellRoot",Z,o(e)),n(e,"difficulty",J,o(e)),n(e,"score",$,o(e)),n(e,"hp",tt,o(e)),n(e,"timer",et,o(e)),n(e,"hintPageView",it,o(e)),e.model=void 0,e.gameMode=f.NORMAL,e.modeData=void 0,e.operateBtnRootStatus=new Map,e}i(e,t);var a=e.prototype;return a.init=function(){this.sudoGrid.init(),this.refreshSetting(G.getInstance().getSettings())},a.refreshGameModel=function(t){this.model=t},a.refreshGameMode=function(t,e){this.gameMode=t,this.modeData=e},a.refreshDifficulty=function(){if(this.model)if(this.difficulty.node.active=!0,this.gameMode===f.DAILY_CHALLENGE)this.difficulty.string=S.toISOMonthDay(this.modeData.date),this.btn_reset.node.active=!1;else{this.btn_reset.node.active=!0;var t=g.difficulty[this.model.gameData.displayDifficulty];this.difficulty.string=_.language.getLangByID(t.label)}},a.refreshNumberBtnCount=function(){if(this.model){for(var t=new Array(9).fill(0),e=this.model.getCurrentSudokuString(),i=0;i<e.length;i++){var n=parseInt(e[i],10);n>=1&&n<=9&&t[n-1]++}this.numberBtns.forEach((function(e,i){var n=i+1;e.refresh(n,9-t[i])}))}},a.refreshScoreAndHP=function(){this.model&&(this.score.string=this.model.gameData.score.toString(),G.getInstance().getSettings().debug.infiniteLives?this.hp.string="∞":this.hp.string=this.model.gameData.hp.toString())},a.undoRecord=function(t){this.sudoGrid.undoRecord(t)},a.resetGame=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.model){t.next=2;break}return t.abrupt("return");case 2:this.btn_resume.node.active=!1,this.cellRoot.active=!0,this.hintPageView.node.active=!1,this.sudoGrid.refreshSudokuData(this.model.gameData),this.refreshDifficulty(),this.refreshNumberBtnCount(),this.refreshScoreAndHP(),this.refreshHint(),B.getInstance().reset();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onStartGame=function(){_.message.dispatchEvent(v.RESET_GAME,{data:{isGenerate:!0}})},a.update=function(t){this.model&&(this.model.update(t)&&(this.timer.string=S.formatTimeDisplay(this.model.gameData.timeElapsed)))},a.pauseGame=function(){this.model&&(this.model.gameState=p.Paused),this.setNumberBtnsInteractable(!1),this.operateBtnRoot.children.forEach((function(t,e){var i=t.getComponent(h);i&&(i.interactable=!1)})),this.btn_resume.node.active=!0,this.cellRoot.active=!1},a.resumeGame=function(){var t=this;this.model&&(this.model.gameState=p.Playing),this.refreshNumberBtnCount(),this.operateBtnRootStatus.forEach((function(e,i){var n=t.operateBtnRoot.getChildByName(i),o=null==n?void 0:n.getComponent(h);o&&(o.interactable=e)})),this.btn_resume.node.active=!1,this.cellRoot.active=!0},a.setNumberBtnsInteractable=function(t){t?this.refreshNumberBtnCount():this.numberBtns.forEach((function(t,e){t.setDisable()}))},a.refreshSuspend=function(t,e){var i=t.getComponent(d),n=null==i?void 0:i.isChecked,o=t.getChildByName("img_pauseTimer");o&&(o.active=!1);var r=t.getChildByName("img_resumeTimer");r&&(r.active=!1),!0===e?o&&(o.active=!0,this.resumeGame()):n?r&&(r.active=!0,this.pauseGame()):o&&(o.active=!0,this.resumeGame())},a.resurrectionGame=function(){this.model&&(this.model.resurrectionGame(),this.refreshScoreAndHP())},a.refreshSetting=function(t){var e=this.operateBtnRoot.getChildByName("btn_quickNotes");if(e){var i=b.getInstance().getDifficultyConfig();e.active=!(!t.notes.autoNotes&&!i.isShowAutoNote)}this.numberBtns.forEach((function(e,i){e.setCountLabelVisible(t.other.unsolvedDigitsCount)})),this.refreshHint(),this.refreshScoreAndHP()},a.refreshHint=function(){if(this.model){var t=this.operateBtnRoot.getChildByName("btn_hint"),e=null==t?void 0:t.getComponent(w);e&&e.setCount(this.model.gameData.hintLimit),this.refreshOperateBtnsStatus([{name:"btn_hint",interactable:null==this.model.gameData.hintLimit||this.model.gameData.hintLimit>0||G.getInstance().getSettings().debug.infiniteHints}])}},a.refreshOperateBtnsStatus=function(t){var e=this;t.forEach((function(t){var i=e.operateBtnRoot.getChildByName(t.name),n=null==i?void 0:i.getComponent(h);n&&(n.interactable=t.interactable,e.operateBtnRootStatus.set(t.name,t.interactable))}))},a.refreshHintStep=function(t){var e,i,n=this;this.sudoGrid.resetHint(),null==(e=t.highlights)||e.forEach((function(t){n.sudoGrid.refreshHintHighlightCell(t)})),null==(i=t.highlightNotes)||i.forEach((function(t){n.sudoGrid.refreshHintHighlightNoteCell(t)})),this.sudoGrid.setHintNumber(t.position.row,t.position.col,t.value)},a.showSuccessPopup=function(){var t;_.gui.openAsync(y.SuccessPopup,{gameData:null==(t=this.model)?void 0:t.gameData,difficulty:this.difficulty.string})},a.showFailPopup=function(){var t;_.gui.openAsync(y.FailPopup,{gameData:null==(t=this.model)?void 0:t.gameData})},a.onResumeGame=function(){this.refreshSuspend(this.toggle_suspend,!0);var t=this.toggle_suspend.getComponent(d);t&&(t.isChecked=!0)},a.onBack=function(){_.gui.replaceAsync(y.Game,y.Lobby)},a.onReset=function(){C.getInstance().setCurrentGame(),this.onResumeGame(),this.onStartGame()},a.onSuspend=function(t,e){var i=t.currentTarget;this.refreshSuspend(i)},a.onUndo=function(){_.message.dispatchEvent(v.UNDO),this.refreshNumberBtnCount()},a.onErase=function(){_.message.dispatchEvent(v.ERASE_NUMBER),this.refreshNumberBtnCount()},a.onNote=function(t,e){var i=t.currentTarget,n=i.getComponent(d),o=null==n?void 0:n.isChecked,r=i.getChildByName("label_on");r&&(r.active=!1);var s=i.getChildByName("label_off");s&&(s.active=!1),o?r&&(r.active=!0):s&&(s.active=!0),_.message.dispatchEvent(v.SWITCH_NOTE,o)},a.onQuickNote=function(){if(this.model){var t=S.getCandidates(this.model.getValidSudokuString());R.logModel(t,"k快速笔记数据->"),t&&this.sudoGrid.refreshQuickNote(t)}},a.onHint=function(){var t,e,i=this;if(this.model&&(G.getInstance().getSettings().debug.infiniteHints||null==(null==(t=this.model)?void 0:t.gameData.hintLimit)||null!=(e=this.model)&&e.gameData.hintLimit&&this.model.gameData.hintLimit>0)){var n,o=null==(n=this.model)?void 0:n.getValidSudokuString();if(o){var r=B.getInstance().getNextStep(o,this.model.convertNotesToCandidates(),this.model.gameData.solutionStr);console.log("提示步骤",r),r?(this.hintPageView.node.active=!0,this.hintPageView.initData(r,(function(t){return i.refreshHintStep(t)}),(function(t){return i.onHintComplete(t)}))):_.message.dispatchEvent(v.HINT_NUMBER)}}},a.onHintComplete=function(t){var e,i,n,o=this;if(this.model){this.hintPageView.node.active=!1;var r=[],s={};null==(e=t.highlights)||e.forEach((function(t){if(r.push({row:t.position.row,col:t.position.col}),t.candidates){var e=t.position.row+"-"+t.position.col;s[e]=t.candidates.join("")}})),null==(i=this.model)||i.pushUndoRecord(t.position.row,t.position.col,[{row:t.position.row,col:t.position.col}],r),this.refreshOperateBtnsStatus([{name:"btn_undo",interactable:this.model.getUndoRecordLength()>0}]),null==(n=t.highlights)||n.forEach((function(t){o.sudoGrid.hintNoteComplete(t)})),this.sudoGrid.hintComplete(t.position.row,t.position.col,t.value),this.model.refreshCandidates(s),_.message.dispatchEvent(v.REFRESH_HINT)}},a.onShowSetting=function(){_.gui.openAsync(y.SettingPopup)},e}(m)).prototype,"sudoGrid",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(j.prototype,"numberBtns",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(j.prototype,"operateBtnRoot",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(j.prototype,"btn_reset",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(j.prototype,"btn_resume",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(j.prototype,"toggle_suspend",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(j.prototype,"cellRoot",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(j.prototype,"difficulty",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(j.prototype,"score",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(j.prototype,"hp",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(j.prototype,"timer",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(j.prototype,"hintPageView",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=j))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/HiddenSinglesStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./Oops.ts"],(function(e){var t,n,r,a,o,i,l,s,u,g;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,r=e.createClass,a=e.extends},function(e){o=e.cclegacy},function(e){i=e.HighlightConfig},function(e){l=e.BLANK_CHAR,s=e.HighlightAreaType},function(e){u=e.BaseStrategy},function(e){g=e.oops}],execute:function(){o._RF.push({},"312f0Gj6oZEi412tJ9oHgdx","HiddenSinglesStrategy",void 0);e("HiddenSinglesStrategy",function(e){function o(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).difficulty=2,t}t(o,e);var u=o.prototype;return u.execute=function(e,t){var n=this.findSingleInBoxes(e,t);if(n)return n;var r=this.findSingleInRows(e,t);if(r)return r;var a=this.findSingleInColumns(e,t);return a||null},u.findSingleInRows=function(e,t){for(var n=0;n<9;n++){var r=this.getRowCandidates(n,t),a=this.findHiddenSingle(r);if(a){var o=a.value,i=a.pos;if(e[n][i]===l)return this.buildDetailedSteps(e,n,i,o,s.ROW,t)}}return null},u.findSingleInColumns=function(e,t){for(var n=0;n<9;n++){var r=this.getColCandidates(n,t),a=this.findHiddenSingle(r);if(a){var o=a.value,i=a.pos;if(e[i][n]===l)return this.buildDetailedSteps(e,i,n,o,s.COLUMN,t)}}return null},u.findSingleInBoxes=function(e,t){for(var n=0;n<9;n++){var r=this.getBoxCandidates(n,t),a=this.findHiddenSingle(r);if(a){var o=a.value,i=a.pos,u=3*Math.floor(n/3)+Math.floor(i/3),g=n%3*3+i%3;if(e[u][g]===l)return this.buildDetailedSteps(e,u,g,o,s.BOX,t)}}return null},u.findHiddenSingle=function(e){for(var t,r=n(e.entries());!(t=r()).done;){var a=t.value,o=a[0],i=a[1];if(1===i.length)return{value:o,pos:i[0]}}return null},u.buildDetailedSteps=function(e,t,n,r,a,o){var i=[];return i.push(this.createHighlightAreaStep(e,t,n,r,a)),i.push(this.createShowCandidatesStep(e,t,n,r,a,o)),i.push(this.createFinalDecisionStep(e,t,n,r,a,o)),i},u.createHighlightAreaStep=function(e,t,n,r,a){var o=this,l=this.getAreaCells(t,n,a);return{technique:this.name,stepId:1,position:{row:t,col:n},value:0,get description(){return o.buildAreaHighlightExplanation(t,n,r,a)},highlights:l.map((function(e){return{position:e,backgroundColor:i.defaultCell.background,textColor:i.defaultCell.textColor}}))}},u.createShowCandidatesStep=function(e,t,n,r,a,o){var i=this,l=this.getAreaCells(t,n,a),s=this.findAllSameNumbersOnBoard(e,r),u=this.getCandidatesInArea(e,t,n,a,o),g=this.buildHighlightsMap(a,l,s,{row:t,col:n},e,u,r),c=g.highlights,d=g.highlightNotes;return{technique:this.name,stepId:2,position:{row:t,col:n},value:0,get description(){return i.buildCandidatesExplanation(t,n,r,a)},highlights:c,highlightNotes:d}},u.createFinalDecisionStep=function(e,t,n,r,a,o){var i=this,l=this.getAreaCells(t,n,a),s=this.getCandidatesInArea(e,t,n,a,o),u=this.findAllSameNumbersOnBoard(e,r),g=(this.getAffectedCells(t,n,r,e),this.buildHighlightsMap(a,l,u,{row:t,col:n},e,s,r)),c=g.highlights,d=g.highlightNotes;return{technique:this.name,stepId:3,position:{row:t,col:n},value:r,get description(){return i.buildFinalDecisionExplanation(t,n,r,a)},highlights:c,highlightNotes:d}},u.buildHighlightsMap=function(e,t,n,r,o,u,g){var c=this,d=new Set,h=new Map,f=[],p=new Set,C=function(e){var t=e.position.row+","+e.position.col;if(h.has(t)){var n=h.get(t);h.set(t,a({},n,e))}else h.set(t,e)};return t.forEach((function(e){C({position:e,backgroundColor:i.defaultCell.background,textColor:i.defaultCell.textColor})})),u.forEach((function(e,n){var r=t[n];if(o[r.row][r.col]===l){var a=Array.from(e);C({position:r,backgroundColor:i.defaultCell.background,textColor:i.defaultCell.textColor,candidates:a}),e.has(g)&&f.push({position:r,backgroundColor:i.sameNumber.background,textColor:i.sameNumber.textColor,value:g})}})),n.forEach((function(n){var r=[];switch(e){case s.ROW:r.push(s.BOX,s.COLUMN);break;case s.COLUMN:r.push(s.BOX,s.ROW);break;case s.BOX:r.push(s.ROW,s.COLUMN)}r.forEach((function(e){var r=c.getAreaCells(n.row,n.col,e),a=t.filter((function(e){var t=e.row+","+e.col;return!(!r.some((function(t){return t.row===e.row&&t.col===e.col}))||d.has(t))&&(d.add(t),!0)}));a.forEach((function(e){var t=e.row+","+e.col;o[e.row][e.col]===l&&p.add(t)})),t.forEach((function(e){var t=e.row+","+e.col;o[e.row][e.col]!=l&&p.add(t)})),a.length>0&&r.forEach((function(e){C({position:e,backgroundColor:i.relatedArea.background,textColor:i.relatedArea.textColor})}))})),C({position:n,backgroundColor:i.sameNumber.background,textColor:i.sameNumber.textColor})})),C({position:r,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor}),8===p.size&&(f=[],h.forEach((function(e){e.candidates=void 0}))),{highlights:Array.from(h.values()),highlightNotes:f,checkedCells:d}},u.getAffectedCells=function(e,t,n,r){var a=this.getAreaCells(e,t,s.ROW),o=this.getAreaCells(e,t,s.COLUMN),i=this.getAreaCells(e,t,s.BOX);return[].concat(new Set([].concat(a,o,i).map((function(e){return e.row+","+e.col})))).map((function(e){var t=e.split(",").map(Number);return{row:t[0],col:t[1]}})).filter((function(n){return!(n.row===e&&n.col===t)&&r[n.row][n.col]===l}))},u.findAllSameNumbersOnBoard=function(e,t){for(var n=[],r=0;r<9;r++)for(var a=0;a<9;a++)Number(e[r][a])===t&&n.push({row:r,col:a});return n},u.getAreaCells=function(e,t,n){switch(n){case s.ROW:return Array.from({length:9},(function(t,n){return{row:e,col:n}}));case s.COLUMN:return Array.from({length:9},(function(e,n){return{row:n,col:t}}));case s.BOX:for(var r=3*Math.floor(e/3),a=3*Math.floor(t/3),o=[],i=0;i<3;i++)for(var l=0;l<3;l++)o.push({row:r+i,col:a+l});return o;default:return[]}},u.getCandidatesInArea=function(e,t,n,r,a){var o=this.getAreaCells(t,n,r),i=[];return o.forEach((function(t){e[t.row][t.col]===l?i.push(new Set(a[t.row][t.col])):i.push(new Set)})),i},u.buildAreaHighlightExplanation=function(e,t,n,r){var a;e+=1,t+=1;var o=((a={})[s.ROW]=g.language.getLangByID("HiddenSinglesStrategy.areaRow",{row:e}),a[s.COLUMN]=g.language.getLangByID("HiddenSinglesStrategy.areaColumn",{col:t}),a[s.BOX]=g.language.getLangByID("HiddenSinglesStrategy.areaBox"),a);return g.language.getLangByID("HiddenSinglesStrategy.areaHighlightExplanation",{name:this.name,row:e,col:t,description:this.description,areaName:o[r]})},u.buildCandidatesExplanation=function(e,t,n,r){var a,o=((a={})[s.ROW]=g.language.getLangByID("HiddenSinglesStrategy.areaRow",{row:e+1}),a[s.COLUMN]=g.language.getLangByID("HiddenSinglesStrategy.areaColumn",{col:t+1}),a[s.BOX]=g.language.getLangByID("HiddenSinglesStrategy.areaBox"),a);return g.language.getLangByID("HiddenSinglesStrategy.candidatesExplanation",{name:this.name,areaName:o[r],value:n})},u.buildFinalDecisionExplanation=function(e,t,n,r){var a,o=((a={})[s.ROW]=g.language.getLangByID("HiddenSinglesStrategy.areaRow",{row:e+1}),a[s.COLUMN]=g.language.getLangByID("HiddenSinglesStrategy.areaColumn",{col:t+1}),a[s.BOX]=g.language.getLangByID("HiddenSinglesStrategy.areaBox"),a);return g.language.getLangByID("HiddenSinglesStrategy.finalDecisionExplanation",{name:this.name,areaName:o[r],value:n,row:e+1,col:t+1})},u.getRowCandidates=function(e,t){for(var r=new Map,a=0;a<9;a++)for(var o,i=n(t[e][a]);!(o=i()).done;){var l=o.value;r.has(l)||r.set(l,[]),r.get(l).push(a)}return r},u.getColCandidates=function(e,t){for(var r=new Map,a=0;a<9;a++)for(var o,i=n(t[a][e]);!(o=i()).done;){var l=o.value;r.has(l)||r.set(l,[]),r.get(l).push(a)}return r},u.getBoxCandidates=function(e,t){for(var r=new Map,a=3*Math.floor(e/3),o=e%3*3,i=0;i<3;i++)for(var l=0;l<3;l++)for(var s,u=o+l,g=n(t[a+i][u]);!(s=g()).done;){var c=s.value;r.has(c)||r.set(c,[]),r.get(c).push(3*i+l)}return r},u.getSharedAreaCells=function(e,t){if(e.row===t.row)return Array.from({length:9},(function(t,n){return{row:e.row,col:n}}));if(e.col===t.col)return Array.from({length:9},(function(t,n){return{row:n,col:e.col}}));var n=Math.floor(e.row/3),r=Math.floor(e.col/3),a=Math.floor(t.row/3),o=Math.floor(t.col/3);if(n===a&&r===o){for(var i=3*n,l=3*r,s=[],u=0;u<3;u++)for(var g=0;g<3;g++)s.push({row:i+u,col:l+g});return s}return[]},r(o,[{key:"name",get:function(){return g.language.getLangByID("HiddenSinglesStrategy.name")}},{key:"description",get:function(){return g.language.getLangByID("HiddenSinglesStrategy.description")}}]),o}(u));o._RF.pop()}}}));

System.register("chunks:///_virtual/HiddenSubsetStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(t){var e,r,o,n,a,i,c,l,u,s;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose,o=t.createClass},function(t){n=t.cclegacy},function(t){a=t.HighlightConfig},function(t){i=t.HighlightAreaType,c=t.BLANK_CHAR},function(t){l=t.BaseStrategy},function(t){u=t.SolverUtils},function(t){s=t.oops}],execute:function(){n._RF.push({},"cdb540DNe9P37rQ6SBwhBV5","HiddenSubsetStrategy",void 0);t("HiddenSubsetStrategy",function(t){function n(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).difficulty=4,e}e(n,t);var l=n.prototype;return l.execute=function(t,e){for(var r=2;r<=4;r++){var o=this.checkHiddenSubsets(t,e,r);if(o)return o}return null},l.checkHiddenSubsets=function(t,e,o){for(var n,a=r([i.ROW,i.COLUMN,i.BOX]);!(n=a()).done;)for(var c=n.value,l=0;l<9;l++){var u=this.findHiddenSubsetInArea(t,e,c,l,o);if(u)return this.createHiddenSubsetSteps(t,e,u,c)}return null},l.findHiddenSubsetInArea=function(t,e,o,n,a){var i=this.getAreaCells(o,n).filter((function(e){return t[e.row][e.col]===c})),l=new Set;i.forEach((function(t){e[t.row][t.col].forEach((function(t){return l.add(t)}))}));for(var s,g,d=function(){var t=g.value,r=new Set(t),c=i.filter((function(t){var o=e[t.row][t.col];return[].concat(r).some((function(t){return o.has(t)}))}));if(c.length===a&&c.some((function(t){var o=e[t.row][t.col];return[].concat(o).some((function(t){return!r.has(t)}))})))return{v:{cells:c,values:r,affectedCells:c,areaType:o,areaIndex:n}}},h=r(u.getCombinations([].concat(l),a));!(g=h()).done;)if(s=d())return s.v;return null},l.createHiddenSubsetSteps=function(t,e,r,o){var n=[],a=r.cells,i=r.values;this.getSubsetName(i.size);return n.push(this.createDiscoveryStep(t,e,a,i,o)),n.push(this.createRuleExplanationStep(t,e,a,i,o)),n.push(this.createImpactDemonstrationStep(t,e,a,i,o)),n.push(this.createRemovalExecutionStep(t,e,a,i,o)),n},l.createDiscoveryStep=function(t,e,r,o,n){var i=this,l=(this.getAreaName(n),this.getHighlightAreaCells(r[0],n));return{technique:this.name,stepId:1,position:r[0],value:0,get description(){return s.language.getLangByID("HiddenSubsetStrategy.discoveryDes",{name:i.name,description:i.description})},highlights:[].concat(r.map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(e[t.row][t.col])}})),this.getOtherCellsInArea(t,l,r).map((function(r){return{position:r,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[r.row][r.col]===c?[].concat(e[r.row][r.col]):void 0,value:t[r.row][r.col]!==c?t[r.row][r.col]:void 0}})))}},l.createRuleExplanationStep=function(t,e,r,o,n){var i=this,l=[].concat(o).sort(),u=this.getAreaName(n),g=this.getHighlightAreaCells(r[0],n);return{technique:this.name,stepId:2,position:r[0],value:0,get description(){return s.language.getLangByID("HiddenSubsetStrategy.ruleExplanationDes",{name:i.name,valueListStr:l.join(","),areaName:u,subsetCellsLength:r.length})},highlights:[].concat(r.map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(e[t.row][t.col])}})),this.getOtherCellsInArea(t,g,r).map((function(r){return{position:r,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[r.row][r.col]===c?[].concat(e[r.row][r.col]):void 0,value:t[r.row][r.col]!==c?t[r.row][r.col]:void 0}}))),highlightNotes:[].concat(r.flatMap((function(t){return[].concat(e[t.row][t.col]).filter((function(t){return o.has(t)})).map((function(e){return{position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:e}}))})))}},l.createImpactDemonstrationStep=function(t,e,r,o,n){var i=this,l=[].concat(o).sort(),u=this.getAreaName(n),g=this.getHighlightAreaCells(r[0],n);return{technique:this.name,stepId:3,position:r[0],value:0,get description(){return s.language.getLangByID("HiddenSubsetStrategy.ImpactDemonstrationDes",{name:i.name,valueListStr:l.join(","),areaName:u})},highlights:[].concat(r.map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(e[t.row][t.col])}})),this.getOtherCellsInArea(t,g,r).map((function(r){return{position:r,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[r.row][r.col]===c?[].concat(e[r.row][r.col]):void 0,value:t[r.row][r.col]!==c?t[r.row][r.col]:void 0}}))),highlightNotes:[].concat(r.flatMap((function(t){return[].concat(e[t.row][t.col]).filter((function(t){return!o.has(t)})).map((function(e){return{position:t,backgroundColor:a.hintRemoveCell.background,textColor:a.hintRemoveCell.textColor,value:e}}))})),r.flatMap((function(t){return[].concat(e[t.row][t.col]).filter((function(t){return o.has(t)})).map((function(e){return{position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:e}}))})))}},l.createRemovalExecutionStep=function(t,e,r,o,n){var i=this,l=[].concat(o).sort(),u=(this.getAreaName(n),this.getHighlightAreaCells(r[0],n));r.forEach((function(t){var r=e[t.row][t.col];[].concat(r).filter((function(t){return!o.has(t)})).forEach((function(t){return r.delete(t)}))}));return{technique:this.name,stepId:4,position:r[0],value:0,get description(){return s.language.getLangByID("HiddenSubsetStrategy.removalExecutionDes",{name:i.name,valueListStr:l.join(",")})},highlights:[].concat(r.map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(e[t.row][t.col])}})),this.getOtherCellsInArea(t,u,r).map((function(r){return{position:r,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[r.row][r.col]===c?[].concat(e[r.row][r.col]):void 0,value:t[r.row][r.col]!==c?t[r.row][r.col]:void 0}}))),highlightNotes:[].concat(r.flatMap((function(t){return[].concat(e[t.row][t.col]).map((function(e){return{position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:e}}))})))}},l.getSubsetName=function(t){return{2:s.language.getLangByID("HiddenSubsetStrategy.subsetName2"),3:s.language.getLangByID("HiddenSubsetStrategy.subsetName3"),4:s.language.getLangByID("HiddenSubsetStrategy.subsetName4")}[t]||s.language.getLangByID("HiddenSubsetStrategy.subsetName1")},l.getAreaName=function(t){var e;return(e={},e[i.ROW]=s.language.getLangByID("strategy.row"),e[i.COLUMN]=s.language.getLangByID("strategy.col"),e[i.BOX]=s.language.getLangByID("strategy.box"),e)[t]},l.getAreaCells=function(t,e){if(t===i.ROW)return Array.from({length:9},(function(t,r){return{row:e,col:r}}));if(t===i.COLUMN)return Array.from({length:9},(function(t,r){return{row:r,col:e}}));for(var r=3*Math.floor(e/3),o=e%3*3,n=[],a=0;a<3;a++)for(var c=0;c<3;c++)n.push({row:r+a,col:o+c});return n},l.getHighlightAreaCells=function(t,e){if(e===i.ROW)return Array.from({length:9},(function(e,r){return{row:t.row,col:r}}));if(e===i.COLUMN)return Array.from({length:9},(function(e,r){return{row:r,col:t.col}}));for(var r=3*Math.floor(t.row/3),o=3*Math.floor(t.col/3),n=[],a=0;a<3;a++)for(var c=0;c<3;c++)n.push({row:r+a,col:o+c});return n},l.getOtherCellsInArea=function(t,e,r){return e.filter((function(t){return!r.some((function(e){return e.row===t.row&&e.col===t.col}))}))},o(n,[{key:"name",get:function(){return s.language.getLangByID("HiddenSubsetStrategy.name")}},{key:"description",get:function(){return s.language.getLangByID("HiddenSubsetStrategy.description")}}]),n}(l));n._RF.pop()}}}));

System.register("chunks:///_virtual/HintBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SettingsManager.ts"],(function(t){var n,e,i,r,o,l,a,u,c,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.CCInteger,u=t.Label,c=t.Component},function(t){s=t.SettingsManager}],execute:function(){var p,g,b,f,y,h,v;o._RF.push({},"e9d0eNgrqRBN7luZUxlDv14","HintBtn",void 0);var L=l.ccclass,d=l.property;t("HintBtn",(p=L("HintBtn"),g=d({type:a,tooltip:"剩余提示次数",visible:!0}),b=d({type:u,tooltip:"剩余提示次数Label",visible:!0}),p((h=n((y=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return n=t.call.apply(t,[this].concat(o))||this,i(n,"count",h,r(n)),i(n,"countLabel",v,r(n)),n}e(n,t);var o=n.prototype;return o.setCount=function(t){s.getInstance().getSettings().debug.infiniteHints?this.countLabel.string="∞":null!=t?(this.count=t,this.countLabel.string=t.toString()):this.countLabel.string="∞"},o.start=function(){},o.update=function(t){},n}(c)).prototype,"count",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(y.prototype,"countLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/HintConfig.ts",["cc","./Configuration.ts"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.Configuration}],execute:function(){t._RF.push({},"add6aCq3itPN5BNZogxA5uy","HintConfig",void 0);e("HighlightConfig",{get defaultCell(){var e=r.getInstance().getThemeConfig();return{background:e.cellBackground,textColor:e.cellTextColor}},get relatedArea(){var e=r.getInstance().getThemeConfig();return{background:e.relatedAreaBackground,textColor:e.relatedAreaTextColor}},get sameNumber(){var e=r.getInstance().getThemeConfig();return{background:e.sameNumberBackground,textColor:e.sameNumberTextColor}},get targetCell(){var e=r.getInstance().getThemeConfig();return{background:e.selectedCellBackground,textColor:e.selectedCellTextColor}},get hintCell(){var e=r.getInstance().getThemeConfig();return{background:e.hintBackground,textColor:e.hintTextColor}},get hintRemoveCell(){var e=r.getInstance().getThemeConfig();return{background:e.hintRemoveBackground,textColor:e.hintRemoveTextColor}},get y_wingABCell(){return{background:"#FF0000",textColor:"#FFFFFF"}},get y_wingBCCell(){return{background:"#00FF00",textColor:"#000000"}},get y_wingACCell(){return{background:"#0000FF",textColor:"#FFFFFF"}},get y_wingAB_X_BCCell(){return{background:"#FFFF00",textColor:"#000000"}},get y_wingAB_X_ACCell(){return{background:"#FF00FF",textColor:"#000000"}},get y_wingBC_X_ACCell(){return{background:"#00FFFF",textColor:"#000000"}},get sameRelatedAreaCell(){return{background:"#f7c5c5",textColor:"#000000"}},get xyChainStartCell(){return{background:"#26C6DA",textColor:"#000000"}},get xyChainEndCell(){return{background:"#26C6DA",textColor:"#000000"}},get wingCell(){return{background:"#26C6DA",textColor:"#000000"}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/HintPageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InfinitePageViewItem.ts","./EventType.ts","./Oops.ts"],(function(e){var t,i,n,o,a,s,r,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Label},function(e){c=e.InfinitePageViewItem},function(e){l=e.EventType},function(e){u=e.oops}],execute:function(){var p,f,g,h,d;a._RF.push({},"63cfcUXCQdLDJKtxjOiCZ5h","HintPageItem",void 0);var y=s.ccclass,v=s.property;e("HintPageItem",(p=y("HintPageItem"),f=v({type:r,tooltip:"描述",visible:!0}),p((d=t((h=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"label",d,o(t)),t.data=void 0,t}i(t,e);var a=t.prototype;return a.onLoad=function(){u.message.on(l.REFRESH_LANGUAGE,this.onRefreshLanguage,this)},a.onDestroy=function(){u.message.off(l.REFRESH_LANGUAGE,this.onRefreshLanguage,this)},a.update=function(e){},a.updateView=function(e){console.log("刷新界面",e),this.data=e,this.label.string=e.description},a.onRefreshLanguage=function(){this.data&&(this.label.string=this.data.description)},t}(c)).prototype,"label",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=h))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/HintPageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InfinitePageView.ts","./Oops.ts"],(function(e){var t,i,n,a,o,s,r,l,c,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Button,l=e.Component},function(e){c=e.InfinitePageView,p=e.InfinitePageViewEvent},function(e){g=e.oops}],execute:function(){var h,d,u,_,f,P,b,v,w,y,D;o._RF.push({},"9c0f3N35lhHfpdin2jkpTDJ","HintPageView",void 0);var V=s.ccclass,m=s.property;e("HintPageView",(h=V("HintPageView"),d=m({type:c,tooltip:"InfinitePageView",visible:!0}),u=m({type:r,tooltip:"btn_nextPage",visible:!0}),_=m({type:r,tooltip:"btn_prevPage",visible:!0}),f=m({type:r,tooltip:"btn_finish",visible:!0}),h((v=t((b=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"infinitePageView",v,a(t)),n(t,"btn_nextPage",w,a(t)),n(t,"btn_prevPage",y,a(t)),n(t,"btn_finish",D,a(t)),t._stepRenderer=void 0,t._completionHandler=void 0,t._data=[],t._selectedDate=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){g.message.on(p.PAGE_CHANGED,this.onPageChanged,this)},o.onDestroy=function(){g.message.off(p.PAGE_CHANGED,this.onPageChanged,this)},o.onPageChanged=function(e,t){console.log("onPageChanged->",t);var i=this.infinitePageView.getPageState();this.btn_nextPage.node.active=i.canNext,this.btn_prevPage.node.active=i.canPrev,this.btn_finish.node.active=!i.canNext,null!=t.currentIndex&&(this._selectedDate=this._data[t.currentIndex],this._stepRenderer&&this._selectedDate&&this._stepRenderer(this._selectedDate))},o.initData=function(e,t,i){this._data=e,this._stepRenderer=t,this._completionHandler=i,this.infinitePageView.setData(e,0),this._selectedDate=this._data[0],this._stepRenderer&&this._selectedDate&&this._stepRenderer(this._selectedDate)},o.onPrevPage=function(){this.infinitePageView.prevPage()},o.onNextPage=function(){this.infinitePageView.nextPage()},o.onFinish=function(){console.log("完成提示"),this._completionHandler&&this._completionHandler(this._data[this._data.length-1])},t}(l)).prototype,"infinitePageView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(b.prototype,"btn_nextPage",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(b.prototype,"btn_prevPage",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(b.prototype,"btn_finish",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=b))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryDayItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AItemRenderer.ts","./HistoryItem.ts"],(function(t){var e,i,o,r,n,a,s,l,y,h,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Node,l=t.Label,y=t.UITransform,h=t.size},function(t){u=t.AItemRenderer},function(t){p=t.HistoryItem}],execute:function(){var c,d,m,v,I,f,g,b,D;n._RF.push({},"0d96bOUNA1DMIxSnkPOvAWY","HistoryDayItem",void 0);var k=a.ccclass,z=a.property;t("HistoryDayItem",(c=k("HistoryDayItem"),d=z({type:s,tooltip:"historyItem",visible:!0}),m=z({type:s,tooltip:"头部",visible:!0}),v=z({type:l,tooltip:"日期",visible:!0}),c((g=e((f=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"historyItem",g,r(e)),o(e,"headNode",b,r(e)),o(e,"key",D,r(e)),e}i(e,t);var n=e.prototype;return n.dataChanged=function(){this.updateDisplay(this.data)},n.getItemSize=function(){var t=this.node.getComponent(y),e=this.headNode.getComponent(y),i=this.historyItem.getComponent(y);return"key"in this.data?h(null==t?void 0:t.width,null==e?void 0:e.height):h(null==t?void 0:t.width,null==i?void 0:i.height)},n.updateDisplay=function(t){if("key"in t)this.headNode.active=!0,this.historyItem.active=!1,this.key.string=t.key;else{this.headNode.active=!1,this.historyItem.active=!0;var e=t.data,i=this.historyItem.getComponent(p);null==i||i.init(e)}},e}(u)).prototype,"historyItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(f.prototype,"headNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(f.prototype,"key",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=f))||I));n._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./UIConfig.ts","./GameLogic.ts","./HistoryManager.ts","./SudokuGrid.ts","./Oops.ts"],(function(t){var e,i,r,n,o,l,a,s,u,c,p,f,b,d,g,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,u=t.Label,c=t.Component},function(t){p=t.default},function(t){f=t.UIID},function(t){b=t.GameLogic},function(t){d=t.HistoryManager},function(t){g=t.SudokuGrid},function(t){y=t.oops}],execute:function(){var m,h,_,v,G,I,S,w,k,z,D,H,L;a._RF.push({},"d4722+TG59KNbXcPPdrTM2d","HistoryItem",void 0);var P=s.ccclass,C=s.property;t("HistoryItem",(m=P("HistoryItem"),h=C({type:g,tooltip:"SudokuGrid",visible:!0}),_=C({type:u,tooltip:"label_difficulty",visible:!0}),v=C({type:u,tooltip:"label_time",visible:!0}),G=C({type:u,tooltip:"label_error",visible:!0}),I=C({type:u,tooltip:"label_process",visible:!0}),m((k=e((w=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,r(e,"sudoGrid",k,n(e)),r(e,"label_difficulty",z,n(e)),r(e,"label_time",D,n(e)),r(e,"label_error",H,n(e)),r(e,"label_process",L,n(e)),e.data=null,e.isInit=!1,e}i(e,t);var a=e.prototype;return a.onLoad=function(){},a.update=function(t){},a.init=function(t){this.isInit||(this.sudoGrid.init(!0),this.isInit=!0),this.data=t,this.sudoGrid.refreshSudokuData(t,!0),this.label_difficulty.string=y.language.getLangByID(p.difficulty[t.displayDifficulty].label),this.label_time.string=b.formatTimeDisplay(t.timeElapsed),this.label_error.string=t.errorCount.toString(),this.label_process.string=this.getSudokuProgress(t)+"%"},a.onStartGame=function(){var t=o(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.data){t.next=7;break}return d.getInstance().setCurrentGame(this.data),y.gui.waitOpen(),t.next=5,y.gui.replaceAsync(f.Lobby,f.Game);case 5:y.gui.waitClose(),y.gui.remove(f.HistoryPopup);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.getSudokuProgress=function(t){if(null==t||!t.solutionStr||81!==t.solutionStr.length)return 0;var e=0;t.userInputs.forEach((function(i,r){var n=r.split("-").map(Number),o=9*n[0]+n[1];t.solutionStr[o]===i.toString()&&e++}));var i=81-(t.puzzleStr.match(/0/g)||[]).length,r=i>0?Math.round(e/i*100):100;return Math.min(r,100)},e}(c)).prototype,"sudoGrid",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(w.prototype,"label_difficulty",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(w.prototype,"label_time",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(w.prototype,"label_error",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(w.prototype,"label_process",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=w))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./DifficultyManager.ts","./Oops.ts"],(function(e){var t,n,i,r,s;return{setters:[function(e){t=e.extends},function(e){n=e.cclegacy},function(e){i=e.SudokuDifficulty},function(e){r=e.DifficultyManager},function(e){s=e.oops}],execute:function(){n._RF.push({},"40aa7sDmvdE4bDlW/owMFZ8","HistoryManager",void 0);var a=e("HistoryManager",function(){function e(){}e.getInstance=function(){return e.instance||(e.instance=new e),e.instance};var n=e.prototype;return n.getHistory=function(){var t=s.storage.get(e.HISTORY_STORAGE_KEY);return t?JSON.parse(t):this.getDefaultHistory()},n.getCurrentGame=function(){var t=s.storage.get(e.CURRENT_GAME_STORAGE_KEY);return t?this.convertToGameData(JSON.parse(t)):null},n.setCurrentGame=function(e){var t=this.getCurrentGame();t&&this.saveUnfinishedGame(t),e?(e.createTime=Date.now(),this.saveCurrentGame(e)):this.clearCurrentGame()},n.updateCurrentGame=function(e){this.saveCurrentGame(e)},n.completeCurrentGame=function(e){var t=this.getHistory(),n=this.getTodayString();e.createTime=e.createTime||Date.now();var i=this.convertToStoredData(e);t.completed[n]||(t.completed[n]=[]);var r=t.completed[n].findIndex((function(t){return t.id===e.id}));r>=0?t.completed[n][r]=i:t.completed[n].unshift(i),this.removeGameFromUnfinished(e.id),this.updateBestTime(t,e),this.limitRecords(t),this.saveHistory(t),this.clearCurrentGame(),this.recordForDifficultyAnalysis(e,!0)},n.getUnfinishedGames=function(){var e=this.getHistory();return this.getGamesGroupedByDate(e.unfinished)},n.getCompletedGames=function(){var e=this.getHistory();return this.getGamesGroupedByDate(e.completed)},n.getGamesByDate=function(e){var t=this,n=this.getHistory();return{completed:(n.completed[e]||[]).map((function(e){return t.convertToGameData(e)})),unfinished:(n.unfinished[e]||[]).map((function(e){return t.convertToGameData(e)}))}},n.deleteGame=function(e){var t=this.getHistory();for(var n in t.completed)t.completed[n]=t.completed[n].filter((function(t){return t.puzzleStr!==e})),0===t.completed[n].length&&delete t.completed[n];for(var i in t.unfinished)t.unfinished[i]=t.unfinished[i].filter((function(t){return t.puzzleStr!==e})),0===t.unfinished[i].length&&delete t.unfinished[i];this.saveHistory(t)},n.clearHistory=function(){s.storage.set(e.HISTORY_STORAGE_KEY,JSON.stringify(this.getDefaultHistory()))},n.clearCurrentGame=function(){s.storage.remove(e.CURRENT_GAME_STORAGE_KEY)},n.recordForDifficultyAnalysis=function(e,t){var n={difficulty:e.actualDifficulty,progress:e.progress,isCompleted:t,timestamp:e.createTime||Date.now()};r.getInstance().recordGameResult(n)},n.getDefaultHistory=function(){var e;return{completed:{},unfinished:{},bestTimes:(e={},e[i.Novice]=0,e[i.Beginner]=0,e[i.Elementary]=0,e[i.Intermediate]=0,e[i.Advanced]=0,e[i.Expert]=0,e[i.Master]=0,e[i.Extreme]=0,e),lastPlayedDate:this.getTodayString()}},n.saveCurrentGame=function(t){var n=this.convertToStoredData(t),i=JSON.stringify(n);s.storage.set(e.CURRENT_GAME_STORAGE_KEY,i)},n.saveUnfinishedGame=function(e){var t=this.getHistory(),n=this.getTodayString();e.createTime=e.createTime||Date.now();var i=this.convertToStoredData(e);t.unfinished[n]||(t.unfinished[n]=[]);var r=t.unfinished[n].findIndex((function(t){return t.id===e.id}));r>=0?t.unfinished[n][r]=i:t.unfinished[n].unshift(i),this.limitRecords(t),t.lastPlayedDate=n,this.saveHistory(t),this.recordForDifficultyAnalysis(e,!1)},n.saveHistory=function(t){s.storage.set(e.HISTORY_STORAGE_KEY,JSON.stringify(t))},n.convertToStoredData=function(e){return t({},e,{userInputs:this.mapToObject(e.userInputs),userInputNotes:this.mapToObject(e.userInputNotes)})},n.convertToGameData=function(e){return t({},e,{userInputs:this.objectToMap(e.userInputs),userInputNotes:this.objectToMap(e.userInputNotes)})},n.mapToObject=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t},n.objectToMap=function(e){var t=new Map;return Object.entries(e).forEach((function(e){var n=e[0],i=e[1];t.set(n,i)})),t},n.updateBestTime=function(e,t){var n=e.bestTimes[t.displayDifficulty];(!n||t.timeElapsed<n)&&(e.bestTimes[t.displayDifficulty]=t.timeElapsed)},n.getTodayString=function(){return(new Date).toISOString().split("T")[0]},n.flattenAndSortRecords=function(e){var t=[];for(var n in e)t.push.apply(t,e[n]);return t.sort((function(e,t){return(t.createTime||0)-(e.createTime||0)}))},n.limitRecords=function(t){var n=this.flattenAndSortRecords(t.completed);n.length>e.MAX_RECORDS_PER_CATEGORY&&(n=n.slice(0,e.MAX_RECORDS_PER_CATEGORY),t.completed=this.reorganizeByDate(n));var i=this.flattenAndSortRecords(t.unfinished);i.length>e.MAX_RECORDS_PER_CATEGORY&&(i=i.slice(0,e.MAX_RECORDS_PER_CATEGORY),t.unfinished=this.reorganizeByDate(i))},n.reorganizeByDate=function(e){var t={};return e.forEach((function(e){var n=new Date(e.createTime||Date.now()).toISOString().split("T")[0];t[n]||(t[n]=[]),t[n].push(e)})),t},n.getGamesGroupedByDate=function(e){var t=this;return Object.keys(e).sort((function(e,t){return new Date(t).getTime()-new Date(e).getTime()})).map((function(n){return{key:n,data:e[n].map((function(e){return t.convertToGameData(e)})).sort((function(e,t){return(t.createTime||0)-(e.createTime||0)}))}}))},n.removeGameFromUnfinished=function(e){var t=this.getHistory();for(var n in t.unfinished)t.unfinished[n]=t.unfinished[n].filter((function(t){return t.id!==e})),0===t.unfinished[n].length&&delete t.unfinished[n];this.saveHistory(t)},e}());a.instance=void 0,a.HISTORY_STORAGE_KEY="sudoku_history_v8",a.CURRENT_GAME_STORAGE_KEY="sudoku_current_game",a.MAX_RECORDS_PER_CATEGORY=50,n._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIConfig.ts","./HistoryManager.ts","./Oops.ts","./HistoryDayItem.ts","./AVirtualScrollView.ts"],(function(t){var i,e,n,s,o,a,r,c,l,u,p,h,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.Toggle,c=t.Component},function(t){l=t.UIID},function(t){u=t.HistoryManager},function(t){p=t.oops},function(t){h=t.HistoryDayItem},function(t){d=t.default}],execute:function(){var f,y,m,D,g,L,H;o._RF.push({},"a0aa5zeJ3xBO5XkB5NbZgA4","HistoryPopup",void 0);var v=a.ccclass,C=a.property;t("HistoryPopup",(f=v("HistoryPopup"),y=C(d),m=C(d),f((L=i((g=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"unfinishedList",L,s(i)),n(i,"completedList",H,s(i)),i.unfinishedData=[],i.completedData=[],i.unfinishedListData=[],i.completedListData=[],i}e(i,t);var o=i.prototype;return o.start=function(){this.initializeHistoryViews(),this.showUnfinishedHistory()},o.initializeHistoryViews=function(){this.unfinishedData=u.getInstance().getUnfinishedGames(),this.completedData=u.getInstance().getCompletedGames(),this.unfinishedListData=this.splitKeyDataArray(this.unfinishedData),this.completedListData=this.splitKeyDataArray(this.completedData),this.unfinishedList.refreshData(this.unfinishedListData),this.completedList.refreshData(this.completedListData)},o.onUnfinishedListVRender=function(t,i){var e=t.getComponent(h);e&&e.updateDisplay(this.unfinishedListData[i])},o.onCompletedListVRender=function(t,i){var e=t.getComponentInChildren(h);e&&e.updateDisplay(this.completedListData[i])},o.splitKeyDataArray=function(t){return t.flatMap((function(t){return[{key:t.key}].concat(t.data.map((function(t){return{data:t}})))}))},o.onBack=function(){p.gui.remove(l.HistoryPopup)},o.onSelectUnfinished=function(t){var i=t.target.getComponent(r);null!=i&&i.isChecked||(console.log("onSelectUnfinished"),this.showUnfinishedHistory())},o.onSelectCompleted=function(t){var i=t.target.getComponent(r);null!=i&&i.isChecked||(console.log("onSelectCompleted"),this.showCompletedHistory())},o.showUnfinishedHistory=function(){this.unfinishedList.node.active=!0,this.completedList.node.active=!1},o.showCompletedHistory=function(){this.unfinishedList.node.active=!1,this.completedList.node.active=!0},i}(c)).prototype,"unfinishedList",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(g.prototype,"completedList",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=g))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/HomePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configuration.ts","./EventType.ts","./UIConfig.ts","./HistoryManager.ts","./Oops.ts"],(function(n){var e,t,o,i,r,a,s,u,c,g,p,f,l,y,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){s=n.cclegacy,u=n._decorator,c=n.Label,g=n.Component},function(n){p=n.Configuration},function(n){f=n.EventType},function(n){l=n.UIID},function(n){y=n.HistoryManager},function(n){h=n.oops}],execute:function(){var v,L,m,b,R;s._RF.push({},"244b0g1QIRLUI5ZxhnNZHqR","HomePage",void 0);var H=u.ccclass,E=u.property;n("HomePage",(v=H("HomePage"),L=E({type:c,tooltip:"关卡难度描述",visible:!0}),v((R=e((b=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,o(e,"label",R,i(e)),e}t(e,n);var s=e.prototype;return s.start=function(){this.onRefreshLanguage()},s.onLoad=function(){this.initEventListeners()},s.onDestroy=function(){this.cleanup()},s.initEventListeners=function(){h.message.on(f.REFRESH_LANGUAGE,this.onRefreshLanguage,this)},s.cleanup=function(){h.message.off(f.REFRESH_LANGUAGE,this.onRefreshLanguage,this)},s.onRefreshLanguage=function(){var n=p.getInstance().getDifficultyConfig();this.label.string=h.language.getLangByID(n.label)},s.onStartGame=function(){h.gui.replaceAsync(l.Lobby,l.Game)},s.onStartNewGame=function(){y.getInstance().setCurrentGame(),h.gui.open(l.LevelPopup)},s.onHistory=function(){var n=r(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.gui.openAsync(l.HistoryPopup);case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s.onShowSetting=function(){h.gui.openAsync(l.SettingPopup)},e}(g)).prototype,"label",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/Hot.ts",["cc","./Oops.ts"],(function(t){var e,s,o,a,n,i;return{setters:[function(t){e=t.cclegacy,s=t.log,o=t.sys,a=t.error,n=t.native},function(t){i=t.oops}],execute:function(){e._RF.push({},"f6377Ckbb9Cg5R2ygFWMOCv","Hot",void 0);t("HotOptions",function(){function t(){this.onVersionInfo=null,this.onNeedToUpdate=null,this.onNoNeedToUpdate=null,this.onUpdateFailed=null,this.onUpdateSucceed=null,this.onUpdateProgress=null}return t.prototype.check=function(){for(var t in this)if("check"!==t&&!this[t])return s("参数HotOptions."+t+"未设置！"),!1;return!0},t}());t("Hot",function(){function t(){this.assetsMgr=null,this.options=null,this.state=t.State.None,this.storagePath="",this.manifest=""}var e=t.prototype;return e.init=function(t){var e=this;o.isNative&&t.check()&&(this.options=t,this.assetsMgr||i.res.load("project",(function(t,s){if(t)a("【热更新界面】缺少热更新配置文件");else{e.showSearchPath(),e.manifest=s.nativeUrl,e.storagePath=n.fileUtils.getWritablePath()+"oops_framework_remote",e.assetsMgr=new n.AssetsManager(e.manifest,e.storagePath,(function(t,s){var o;console.log("【热更新】客户端版本: "+t+", 当前最新版本: "+s),(null==(o=e.options)?void 0:o.onVersionInfo)&&e.options.onVersionInfo({local:t,server:s});for(var a=t.split("."),n=s.split("."),i=0;i<a.length;++i){var l=parseInt(a[i]),r=parseInt(n[i]||"0");if(l!==r)return l-r}return n.length>a.length?-1:0})),e.assetsMgr.setVerifyCallback((function(t,e){e.compressed,e.md5,e.path,e.size;return!0}));var o=e.assetsMgr.getLocalManifest();console.log("【热更新】热更资源存放路径: "+e.storagePath),console.log("【热更新】本地资源配置路径: "+e.manifest),console.log("【热更新】本地包地址: "+o.getPackageUrl()),console.log("【热更新】远程 project.manifest 地址: "+o.getManifestFileUrl()),console.log("【热更新】远程 version.manifest 地址: "+o.getVersionFileUrl()),e.checkUpdate()}})))},e.clearHotUpdateStorage=function(){n.fileUtils.removeDirectory(this.storagePath)},e.checkUpdate=function(){this.assetsMgr?this.assetsMgr.getState()!==jsb.AssetsManager.State.UNINITED?this.assetsMgr.getLocalManifest().isLoaded()?(this.assetsMgr.setEventCallback(this.onHotUpdateCallBack.bind(this)),this.state=t.State.Check,this.assetsMgr.checkUpdate()):console.log("【热更新】加载本地 manifest 失败 ..."):a("【热更新】未初始化"):console.log("【热更新】请先初始化")},e.hotUpdate=function(){this.assetsMgr?(this.assetsMgr.setEventCallback(this.onHotUpdateCallBack.bind(this)),this.state=t.State.Update,this.assetsMgr.update()):console.log("【热更新】请先初始化")},e.onHotUpdateCallBack=function(e){var s,o,a=e.getEventCode();switch(a){case n.EventAssetsManager.ALREADY_UP_TO_DATE:console.log("【热更新】当前版本与远程版本一致且无须更新"),(null==(s=this.options)?void 0:s.onNoNeedToUpdate)&&this.options.onNoNeedToUpdate(a);break;case n.EventAssetsManager.NEW_VERSION_FOUND:console.log("【热更新】发现新版本,请更新"),(null==(o=this.options)?void 0:o.onNeedToUpdate)&&this.options.onNeedToUpdate(a,this.assetsMgr.getTotalBytes());break;case n.EventAssetsManager.ASSET_UPDATED:console.log("【热更新】资产更新");break;case n.EventAssetsManager.UPDATE_PROGRESSION:var i;if(this.state===t.State.Update)console.log("【热更新】更新中...",e.getDownloadedFiles(),e.getTotalFiles(),e.getPercent()),(null==(i=this.options)?void 0:i.onUpdateProgress)&&this.options.onUpdateProgress(e);break;case n.EventAssetsManager.UPDATE_FINISHED:this.onUpdateFinished();break;default:this.onUpdateFailed(a)}},e.onUpdateFailed=function(t){var e;this.assetsMgr.setEventCallback(null),(null==(e=this.options)?void 0:e.onUpdateFailed)&&this.options.onUpdateFailed(t)},e.onUpdateFinished=function(){var t;this.assetsMgr.setEventCallback(null);var e=n.fileUtils.getSearchPaths(),s=this.assetsMgr.getLocalManifest().getSearchPaths();Array.prototype.unshift.apply(e,s),localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(e)),n.fileUtils.setSearchPaths(e),console.log("【热更新】更新成功"),(null==(t=this.options)?void 0:t.onUpdateSucceed)&&this.options.onUpdateSucceed()},e.showSearchPath=function(){console.log("========================搜索路径========================");for(var t=n.fileUtils.getSearchPaths(),e=0;e<t.length;e++)console.log("["+e+"]: "+t[e]);console.log("======================================================")},t}()).State={None:0,Check:1,Update:2},e._RF.pop()}}}));

System.register("chunks:///_virtual/HotUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TipsManager.ts","./UIConfig.ts","./Hot.ts","./Oops.ts"],(function(t){var e,o,n,a,i,c,p,r,s,d,u;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,a=t.game,i=t.sys,c=t.Component},function(t){p=t.tips},function(t){r=t.UIID},function(t){s=t.Hot,d=t.HotOptions},function(t){u=t.oops}],execute:function(){var l;o._RF.push({},"f64deiQLAhLh5HGqUqaI9oA","HotUpdate",void 0);var g=n.ccclass;n.property,t("HotUpdate",g("HotUpdate")(l=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).hot=new s,e.lv=null,e}e(o,t);var n=o.prototype;return n.onLoad=function(){},n.startHotUpdate=function(){var t=this,e=new d;e.onVersionInfo=function(t){},e.onUpdateProgress=function(e){var o,n,a=e.getPercent(),i=e.getTotalBytes(),c=e.getDownloadedBytes();i<1048576?o=(i=Math.ceil(i/1024))+"K":(o=(i/1048576).toFixed(1),o+="M"),c<1048576?n=(c=Math.ceil(c/1024))+"K":(n=(c/1048576).toFixed(1),n+="M"),t.lv.data.prompt="0K"==o?u.language.getLangByID("update_tips_check_update"):u.language.getLangByID("update_tips_update")+n+"/"+o+" ("+parseInt(100*a+"")+"%)",isNaN(e.getPercent())||(t.lv.data.finished=e.getDownloadedFiles(),t.lv.data.total=e.getTotalFiles(),t.lv.data.progress=(100*e.getPercent()).toFixed(2))},e.onNeedToUpdate=function(e,o){t.lv.data.prompt=u.language.getLangByID("update_tips_new_version");var n="";o<1048576?n=Math.ceil(o/1024)+"KB":(n=(o/1048576).toFixed(1),n+="MB"),t.checkForceUpdate((function(){t.showUpdateDialog(n,(function(){t.hot.hotUpdate()}))}))},e.onNoNeedToUpdate=function(){t.lv.enter()},e.onUpdateFailed=function(){t.lv.data.prompt=u.language.getLangByID("update_tips_update_fail"),t.hot.checkUpdate()},e.onUpdateSucceed=function(){t.lv.data.progress=100,t.lv.data.prompt=u.language.getLangByID("update_tips_update_success"),setTimeout((function(){a.restart()}),1e3)},this.hot.init(e)},n.checkForceUpdate=function(t){var e=this,o={title:"common_prompt_title_sys",content:"update_tips_force",okWord:"common_prompt_ok",cancelWord:"common_prompt_cancal",okFunc:function(){e.hot.clearHotUpdateStorage(),t()},cancelFunc:function(){a.end()},needCancel:!0};u.gui.open(r.Confirm,o)},n.showUpdateDialog=function(t,e){i.getNetworkType()!=i.NetworkType.LAN?p.alert(u.language.getLangByID("update_nowifi_tip")+t,e):e()},o}(c))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/HttpRequest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,s;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,n=e.error,s=e.warn}],execute:function(){r._RF.push({},"806e5t8UetFy4spn89dnuan","HttpRequest",void 0);var u={},o={},i=e("HttpEvent",function(e){return e.NO_NETWORK="http_request_no_network",e.UNKNOWN_ERROR="http_request_unknown_error",e.TIMEOUT="http_request_timout",e}({})),a=e("HttpReturn",(function(){this.isSucc=!1,this.res=void 0,this.err=void 0}));e("HttpRequest",function(){function e(){this.server="http://127.0.0.1/",this.timeout=1e4,this.header=new Map}var r=e.prototype;return r.addHeader=function(e,t){this.header.set(e,t)},r.get=function(e,t,r){void 0===r&&(r=null),this.sendRequest(e,r,!1,t)},r.getAsync=function(e,t){var r=this;return void 0===t&&(t=null),new Promise((function(n,s){r.sendRequest(e,t,!1,(function(e){n(e)}))}))},r.getByArraybuffer=function(e,t,r){void 0===r&&(r=null),this.sendRequest(e,r,!1,t,"arraybuffer",!1)},r.getAsyncByArraybuffer=function(e,t){var r=this;return void 0===t&&(t=null),new Promise((function(n,s){r.sendRequest(e,t,!1,(function(e){n(e)}),"arraybuffer",!1)}))},r.post=function(e,t,r){void 0===r&&(r=null),this.sendRequest(e,r,!0,t)},r.postAsync=function(e,t){var r=this;return void 0===t&&(t=null),new Promise((function(n,s){r.sendRequest(e,t,!0,(function(e){n(e)}))}))},r.abort=function(e){var t=u[this.server+e];t&&t.abort()},r.getParamString=function(e){var t="";for(var r in e){var n=e[r];if(n instanceof Object)for(var s in n)t+=s+"="+n[s]+"&";else t+=r+"="+n+"&"}return t.substring(0,t.length-1)},r.sendRequest=function(e,r,c,d,f,l){var h=this;if(void 0===l&&(l=!0),null!=e&&""!=e){var v,R,p="";if(v=0==e.toLocaleLowerCase().indexOf("http")?e:this.server+e,r?(p=this.getParamString(r),R=v.indexOf("?")>-1?v+"&"+p:v+"?"+p):R=v,null==u[R]||o[R]!=p){var q=new XMLHttpRequest;u[R]=q,o[R]=p,c?q.open("POST",v):q.open("GET",R);for(var g,m=t(this.header);!(g=m()).done;){var y=g.value,O=y[0],_=y[1];q.setRequestHeader(O,_)}var S=localStorage.getItem("X-Requested-From");S&&q.setRequestHeader("X-Requested-From",S),q.setRequestHeader("X-Requested-With","XMLHttpRequest");var H={};H.url=v,H.params=r,l&&(q.timeout=this.timeout,q.ontimeout=function(){h.deleteCache(R),N.isSucc=!1,N.err=i.TIMEOUT,d(H)});var N=new a;q.onloadend=function(){500==q.status&&(h.deleteCache(R),N.isSucc=!1,N.err=i.NO_NETWORK,d(N))},q.onerror=function(){h.deleteCache(R),N.isSucc=!1,0==q.readyState||1==q.readyState||0==q.status?N.err=i.NO_NETWORK:N.err=i.UNKNOWN_ERROR,d(N)},q.onreadystatechange=function(){if(4==q.readyState&&(h.deleteCache(R),200==q.status&&d)){var e=q.getResponseHeader("X-Requested-From");e&&(console.log("保存X-Requested-From响应头数据",e),localStorage.setItem("X-Requested-From",e)),N.isSucc=!0,"arraybuffer"==f?(q.responseType=f,N.res=q.response):N.res=JSON.parse(q.response),d(N)}},null==r||""==r?q.send():q.send(p)}else s("地址【"+v+"】已正在请求中，不能重复请求")}else n("请求地址不能为空")},r.deleteCache=function(e){delete u[e],delete o[e]},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/IControl.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"58450TyE3JB069KO8P5+hl4","IControl",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ImageUtil.ts",["cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.Color,r=e.Texture2D}],execute:function(){t._RF.push({},"ebdf3rRnEdIYpKgGdW8gSmZ","ImageUtil",void 0);e("ImageUtil",function(){function e(){}return e.getPixelColor=function(e,t,r){var a,i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.width,i.height=e.height;var g=null==(a=e.image)?void 0:a.data;o.drawImage(g,0,0,e.width,e.height);var c=o.getImageData(0,0,e.width,e.height),u=(r-1)*e.width*4+4*(t-1),l=c.data.slice(u,u+4),m=new n(l[0],l[1],l[2],l[3]);return g.remove(),i.remove(),m},e.imageToBase64=function(e,t){return new Promise((function(n){var r,a=null==(r=/\.png|\.jpg|\.jpeg/.exec(e))?void 0:r[0];if([".png",".jpg",".jpeg"].includes(a)){var i=document.createElement("canvas"),o=i.getContext("2d"),g=new Image;g.src=e,g.onload=function(){i.height=g.height,i.width=g.width,o.drawImage(g,0,0),a=".jpg"===a?"jpeg":a.replace(".","");var e=i.toDataURL("image/"+a);t&&t(e),n(e),g.remove(),i.remove()}}else console.warn("Not a jpg/jpeg or png resource!"),t&&t(""),n("")}))},e.base64ToTexture=function(e){var t=document.createElement("img");t.src=e;var n=new r;return n.initWithElement(t),t.remove(),n},e.base64ToBlob=function(e){for(var t=e.split(","),n=/image\/\w+|;/.exec(t[0])[0],r=window.atob(t[1]),a=new ArrayBuffer(r.length),i=new Uint8Array(a),o=0;o<r.length;o++)i[o]=255&r.charCodeAt(o);return new Blob([i],{type:n})},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./BehaviorTree.ts","./BranchNode.ts","./Decorator.ts","./BTreeNode.ts","./Priority.ts","./Sequence.ts","./Task.ts","./Selector.ts"],(function(e){var t;return{setters:[function(e){t=e.cclegacy},function(t){e("BehaviorTree",t.BehaviorTree)},function(t){e("BranchNode",t.BranchNode)},function(t){e("Decorator",t.Decorator)},function(t){e("BTreeNode",t.BTreeNode)},function(t){e("Priority",t.Priority)},function(t){e("Sequence",t.Sequence)},function(t){e("Task",t.Task)},function(t){e("Selector",t.Selector)}],execute:function(){t._RF.push({},"96257XYurdITbWhyEf7Qlbn","index",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/InfinitePageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InfinitePageViewItem.ts","./Oops.ts"],(function(e){var t,n,i,r,a,s,h,o,g,d,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,h=e.PageView,o=e.log,g=e.Component},function(e){d=e.InfinitePageViewItem},function(e){c=e.oops}],execute:function(){var u,l,_,I,x,p,P;a._RF.push({},"4a8bbBi4OZLsrBYf8Ffk02g","InfinitePageView",void 0);var f=s.ccclass,w=s.property,v=e("InfinitePageViewEvent",function(e){return e.PAGE_CHANGED="page-changed",e}({}));e("InfinitePageView",(u=f("InfinitePageView"),l=w(h),_=w({tooltip:"是否启用循环列表模式",displayName:"循环模式"}),u((p=t((x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"pageView",p,r(t)),i(t,"loopMode",P,r(t)),t._data=[],t._currentIndex=0,t._lastPageIndex=0,t._centerPageIndex=0,t._currentPageIndex=0,t._pagesLength=0,t}n(t,e);var a=t.prototype;return a.onLoad=function(){},a.start=function(){this.init()},a.setData=function(e,t){var n=this;void 0===t&&(t=0),this._data=e,this._currentIndex=t,this._currentIndex=Math.max(0,Math.min(t,e.length-1)),this.scheduleOnce((function(){n.resetPageIndex(),n.refreshAllPages(),n.emitPageChanged()}))},a.init=function(){var e=this.pageView.getPages();this._pagesLength=e.length,this._centerPageIndex=Math.floor(this._pagesLength/2),this.pageView.node.on(h.EventType.SCROLL_ENDED,this.onScrollEnded,this)},a.resetToCenter=function(){this._currentPageIndex=this._centerPageIndex,this.pageView.scrollToPage(this._centerPageIndex,0),this._lastPageIndex=this._centerPageIndex},a.resetPageIndex=function(){if(this.loopMode)this.resetToCenter();else{var e=0;this._currentIndex<=0?e=0:this._currentIndex>=this._data.length-1&&(e=this._pagesLength-1),this._currentPageIndex=e,this.pageView.scrollToPage(e,0),this._lastPageIndex=e}},a.prevPage=function(){var e=this._lastPageIndex-1;e<0||e>this._pagesLength-1?console.warn("已经到达pageview边界",e):this.pageView.scrollToPage(e,.3)},a.nextPage=function(){var e=this._lastPageIndex+1;e<0||e>this._pagesLength-1?console.warn("已经到达pageview边界",e):this.pageView.scrollToPage(e,.3)},a.getPageState=function(){return{currentIndex:this._currentIndex,currentData:this._data[this._currentIndex],totalPages:this._data.length,canPrev:this.loopMode||this._currentIndex>0,canNext:this.loopMode||this._currentIndex<this._data.length-1,isAtStart:!this.loopMode&&this._currentIndex<=0,isAtEnd:!this.loopMode&&this._currentIndex>=this._data.length-1}},a.emitPageChanged=function(){c.message.dispatchEvent(v.PAGE_CHANGED,{currentIndex:this._currentIndex})},a.onScrollEnded=function(){if(this.pageView&&this.pageView.content&&0!==this._data.length){var e=this.pageView.getCurrentPageIndex(),t=!0;e>this._lastPageIndex?(this._currentIndex++,this.loopMode?this._currentIndex>=this._data.length&&(this._currentIndex=0):this._currentIndex>=this._data.length-1&&(this._currentIndex=Math.min(this._data.length-1,this._currentIndex+1))):e<this._lastPageIndex&&(this._currentIndex--,this.loopMode?this._currentIndex<0&&(this._currentIndex=this._data.length-1):0==this._currentIndex&&(this._currentIndex=Math.max(0,this._currentIndex-1))),this._currentIndex!==this._data.length-1&&0!=this._currentIndex||this.loopMode||(t=!1),this._lastPageIndex=e,o("测试滑动currentPageIndex->",e,"currentIndex->",this._currentIndex),(e<=this._centerPageIndex-1||e>=this._centerPageIndex+1)&&t&&(this.resetToCenter(),this.refreshAllPages()),this.emitPageChanged()}},a.refreshAllPages=function(){for(var e=this.pageView.getPages(),t=e.length,n=this._data.length,i=this._currentPageIndex,r=0;r<t;r++){var a=this._currentIndex-i+r;if(this.loopMode?a<0?a+=n:a>=n&&(a-=n):a=Math.max(0,Math.min(n-1,a)),a>=0&&a<n){var s=e[r].getComponent(d);s&&s.updateView(this._data[a])}}},a.getCurrentIndex=function(){return this._currentIndex},a.getCurrentData=function(){return this._data[this._currentIndex]},t}(g)).prototype,"pageView",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(x.prototype,"loopMode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=x))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/InfinitePageViewItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.Component}],execute:function(){var c;n._RF.push({},"c5bc7E72qVAYITjfTpez14D","InfinitePageViewItem",void 0);var r=i.ccclass;i.property,e("InfinitePageViewItem",r("InfinitePageViewItem")(c=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.updateView=function(e){console.log("刷新界面",e)},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Init.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./UIConfig.ts","./Oops.ts","./AsyncQueue.ts"],(function(n){var e,t,u,i,o,a,s,c;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){u=n.cclegacy},function(n){i=n.default,o=n.DEFAULT_LANGUAGE},function(n){a=n.UIID},function(n){s=n.oops},function(n){c=n.AsyncQueue}],execute:function(){u._RF.push({},"2ee0c8+7R9EFKQb+OPn9mlk","Init",void 0),n("Init",function(){function n(){}return n.startGameInitialization=function(){this.initializeLanguage(),this.loadCommonResources(),this.setupLoadingUI(),this.queue.play()},n.initializeLanguage=function(){s.language.languages=i.languages,s.language.default=o,this.queue.push((function(n,e,t){var u=s.storage.get("language");null!=u&&""!=u||(u=o,s.storage.set("language",u)),s.language.setLanguage(u,n)}))},n.loadCommonResources=function(){this.queue.push((function(n,e,t){s.res.loadDir("prefabs/common",n)}))},n.setupLoadingUI=function(){this.queue.complete=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.gui.open(a.Loading);case 1:case"end":return n.stop()}}),n)})))},n}()).queue=new c,u._RF.pop()}}}));

System.register("chunks:///_virtual/JellyFishStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(t){var e,i,n,o,r,a,l,s,h,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){o=t.cclegacy},function(t){r=t.HighlightConfig},function(t){a=t.HighlightAreaType,l=t.BLANK_CHAR},function(t){s=t.BaseStrategy},function(t){h=t.SolverUtils},function(t){c=t.oops}],execute:function(){o._RF.push({},"adadaiqPRFE47B2uIXjJRPi","JellyFishStrategy",void 0);t("JellyFishStrategy",function(t){function o(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).difficulty=20,e.JELLYFISH_SIZE=4,e}e(o,t);var s=o.prototype;return s.execute=function(t,e){var i=this.findJellyFish(e);return i?this.createSteps(t,e,i):null},s.findJellyFish=function(t){return this.findJellyFishInDirection(t,a.ROW)||this.findJellyFishInDirection(t,a.COLUMN)},s.findJellyFishInDirection=function(t,e){for(var n=1;n<=9;n++){var o=this.collectPotentialBaseUnits(t,n,e);if(!(o.length<this.JELLYFISH_SIZE))for(var r,a=h.getCombinations(o,this.JELLYFISH_SIZE),l=i(a);!(r=l()).done;){var s=r.value,c=this.getBasePositions(t,n,s,e),g=this.calculateCoverUnits(c,e);if(g.length===this.JELLYFISH_SIZE){var u=this.findEliminations(t,n,s,g,e);if(u.length>0)return{value:n,baseUnits:s,coverUnits:g,eliminations:u,direction:e}}}}return null},s.collectPotentialBaseUnits=function(t,e,i){for(var n=[],o=i===a.ROW,r=0;r<9;r++){for(var l=0,s=0;s<9;s++){var h=o?s:r;if(t[o?r:s][h].has(e)&&++l>this.JELLYFISH_SIZE)break}l>=2&&l<=this.JELLYFISH_SIZE&&n.push(r)}return n},s.getBasePositions=function(t,e,n,o){for(var r,l=[],s=o===a.ROW,h=i(n);!(r=h()).done;)for(var c=r.value,g=0;g<9;g++){var u=s?c:g,v=s?g:c;t[u][v].has(e)&&l.push({row:u,col:v})}return l},s.calculateCoverUnits=function(t,e){var i=new Set,n=e===a.ROW;return t.forEach((function(t){i.add(n?t.col:t.row)})),i.size===this.JELLYFISH_SIZE?Array.from(i).sort():[]},s.findEliminations=function(t,e,i,n,o){var r=[],l=o===a.ROW;return n.forEach((function(n){for(var o=0;o<9;o++){var a=l?o:n,s=l?n:o;(l?i.includes(a):i.includes(s))||t[a][s].has(e)&&r.push({row:a,col:s})}})),r},s.createSteps=function(t,e,i){return[this.createDiscoveryStep(t,e,i),this.createCoverSetStep(t,e,i),this.createEliminationStep(t,e,i),this.createRemovalStep(t,e,i)]},s.createDiscoveryStep=function(t,e,i){var n=this,o=(i.value,i.baseUnits),r=(i.direction,a.ROW,[].concat(this.highlightJellyFishCells(t,e,i),this.highlightBaseUnits(t,e,i)));return{technique:this.name,stepId:1,position:{row:o[0],col:0},value:0,get description(){return c.language.getLangByID("JellyFishStrategy.discoveryDes",{name:n.name,description:n.description})},highlights:h.deduplicateHighlights(r),highlightNotes:[].concat(this.highlightBaseNotes(e,i))}},s.createCoverSetStep=function(t,e,i){var n=this,o=i.value,r=i.baseUnits,l=i.coverUnits,s=(i.eliminations,i.direction),g=(a.ROW,[].concat(this.highlightJellyFishCells(t,e,i),this.highlightBaseUnits(t,e,i),this.highlightCoverUnits(t,e,i))),u=[].concat(this.highlightBaseNotes(e,i),this.highlightCoverNotes(e,i));return{technique:this.name,stepId:2,position:{row:l[0],col:l[0]},value:0,get description(){return t=s===a.ROW?c.language.getLangByID("strategy.row"):c.language.getLangByID("strategy.col"),e=s===a.ROW?c.language.getLangByID("strategy.col"):c.language.getLangByID("strategy.row"),c.language.getLangByID("JellyFishStrategy.coverSetDes",{name:n.name,direction:n.description,baseDirection:t,value:o,baseUnits:r.map((function(t){return t+1})).join(", "),coverDirection:e,coverUnits:l.map((function(t){return t+1})).join(", ")});var t,e},highlights:h.deduplicateHighlights(g),highlightNotes:h.deduplicateHighlightNotes(u)}},s.createEliminationStep=function(t,e,i){var n=this,o=i.value,r=i.baseUnits,l=i.coverUnits,s=i.eliminations,g=i.direction,u=[].concat(this.highlightJellyFishCells(t,e,i),this.highlightEliminations(t,e,i),this.highlightBaseUnits(t,e,i),this.highlightCoverUnits(t,e,i)),v=[].concat(this.highlightEliminationNotes(e,i),this.highlightBaseNotes(e,i),this.highlightCoverNotes(e,i));return{technique:this.name,stepId:3,position:s[0],value:0,get description(){return t=g===a.ROW?c.language.getLangByID("strategy.row"):c.language.getLangByID("strategy.col"),e=g===a.ROW?c.language.getLangByID("strategy.col"):c.language.getLangByID("strategy.row"),c.language.getLangByID("JellyFishStrategy.eliminationDes",{name:n.name,direction:n.description,baseDirection:t,value:o,baseUnits:r.map((function(t){return t+1})).join(", "),coverDirection:e,coverUnits:l.map((function(t){return t+1})).join(", "),count:s.length});var t,e},highlights:h.deduplicateHighlights(u),highlightNotes:h.deduplicateHighlightNotes(v)}},s.createRemovalStep=function(t,e,i){var n=this,o=i.value,r=i.baseUnits,l=i.coverUnits,s=i.eliminations,g=i.direction;i.eliminations.forEach((function(t){e[t.row][t.col].delete(i.value)}));var u=[].concat(this.highlightJellyFishCells(t,e,i),this.highlightRemovedCells(t,e,i),this.highlightBaseUnits(t,e,i),this.highlightCoverUnits(t,e,i)),v=[].concat(this.highlightBaseNotes(e,i),this.highlightCoverNotes(e,i));return{technique:this.name,stepId:4,position:i.eliminations[0],value:0,get description(){return t=g===a.ROW?c.language.getLangByID("strategy.row"):c.language.getLangByID("strategy.col"),e=g===a.ROW?c.language.getLangByID("strategy.col"):c.language.getLangByID("strategy.row"),c.language.getLangByID("JellyFishStrategy.removalDes",{name:n.name,direction:n.description,baseDirection:t,value:o,baseUnits:r.map((function(t){return t+1})).join(", "),coverDirection:e,coverUnits:l.map((function(t){return t+1})).join(", "),count:s.length});var t,e},highlights:h.deduplicateHighlights(u),highlightNotes:h.deduplicateHighlightNotes(v)}},s.highlightBaseUnits=function(t,e,i){var n=i.baseUnits,o=i.direction===a.ROW;return n.flatMap((function(i){return(o?h.getRowCells(i):h.getColumnCells(i)).map((function(i){return{position:i,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:t[i.row][i.col]===l?[].concat(e[i.row][i.col]):void 0}}))}))},s.highlightJellyFishCells=function(t,e,i){var n=i.baseUnits,o=i.coverUnits,s=i.direction===a.ROW,h=[];return n.forEach((function(i){o.forEach((function(n){var o=s?{row:i,col:n}:{row:n,col:i};h.push({position:o,backgroundColor:r.targetCell.background,textColor:r.targetCell.textColor,candidates:t[o.row][o.col]===l?[].concat(e[o.row][o.col]):void 0})}))})),h},s.highlightCoverUnits=function(t,e,i){var n=i.coverUnits,o=i.direction===a.ROW;return n.flatMap((function(i){return(o?h.getColumnCells(i):h.getRowCells(i)).map((function(i){return{position:i,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:t[i.row][i.col]===l?[].concat(e[i.row][i.col]):void 0}}))}))},s.highlightEliminations=function(t,e,i){return i.eliminations.map((function(i){return{position:i,backgroundColor:r.sameRelatedAreaCell.background,textColor:r.sameRelatedAreaCell.textColor,candidates:t[i.row][i.col]===l?[].concat(e[i.row][i.col]):void 0}}))},s.highlightRemovedCells=function(t,e,i){return i.eliminations.map((function(i){return{position:i,backgroundColor:r.sameRelatedAreaCell.background,textColor:r.sameRelatedAreaCell.textColor,candidates:t[i.row][i.col]===l?[].concat(e[i.row][i.col]):void 0}}))},s.highlightBaseNotes=function(t,e){var i=e.value,n=e.baseUnits,o=e.direction===a.ROW,l=[];return n.forEach((function(e){for(var n=0;n<9;n++){var a=o?e:n,s=o?n:e;t[a][s].has(i)&&l.push({position:{row:a,col:s},backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:i})}})),l},s.highlightCoverNotes=function(t,e){var i=e.value,n=e.coverUnits,o=e.direction===a.ROW,l=[];return n.forEach((function(e){for(var n=0;n<9;n++){var a=o?n:e,s=o?e:n;t[a][s].has(i)&&l.push({position:{row:a,col:s},backgroundColor:r.sameNumber.background,textColor:r.sameNumber.textColor,value:i})}})),l},s.highlightEliminationNotes=function(t,e){return e.eliminations.filter((function(i){return t[i.row][i.col].has(e.value)})).map((function(t){return{position:t,backgroundColor:r.hintRemoveCell.background,textColor:r.hintRemoveCell.textColor,value:e.value}}))},n(o,[{key:"name",get:function(){return c.language.getLangByID("JellyFishStrategy.name")}},{key:"description",get:function(){return c.language.getLangByID("JellyFishStrategy.description")}}]),o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/JsonOb.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"000b00Lx19Ke4hAFc9/Qlnh","JsonOb",void 0);var e=Object.prototype,o="[object Object]",c="[object Array]",i=["push","pop","shift","unshift","sort","reverse","splice"];t("JsonOb",function(){function t(t,r){this._callback=void 0,e.toString.call(t)!==o&&e.toString.call(t)!==c&&console.error("请传入一个对象或数组"),this._callback=r,this.observe(t)}var r=t.prototype;return r.observe=function(t,r){var i=this;e.toString.call(t)===c&&this.overrideArrayProto(t,r),Object.keys(t).forEach((function(n){var s=i,a=t[n],l=r&&r.slice();l?l.push(n):l=[n],Object.defineProperty(t,n,{get:function(){return a},set:function(t){if(a!==t){"[object Object]"===e.toString.call(t)&&s.observe(t,l);var r=a;a=t,s._callback(t,r,l)}}}),e.toString.call(t[n])!==o&&e.toString.call(t[n])!==c||i.observe(t[n],l)}),this)},r.overrideArrayProto=function(t,r){var e,o=Array.prototype,c=Object.create(Array.prototype),n=this;i.forEach((function(t){Object.defineProperty(c,t,{value:function(){var c=this.slice();return e=o[t].apply(this,arguments),n.observe(this,r),n._callback(this,c,r),e}})})),t.__proto__=c},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/JsonUtil.ts",["cc","./ResLoader.ts"],(function(n){var e,o,s;return{setters:[function(n){e=n.cclegacy,o=n.JsonAsset},function(n){s=n.resLoader}],execute:function(){e._RF.push({},"1a24ank4nRC46jfzaIfOmtQ","JsonUtil",void 0);var t="config/",r=new Map;n("JsonUtil",function(){function n(){}return n.get=function(n){if(r.has(n))return r.get(n)},n.load=function(n,e,c){if(void 0===c&&(c="resources"),r.has(n))e(r.get(n));else{var a=t+n;s.load(c,a,o,(function(o,t){o?(console.warn(o.message),e(null)):(r.set(n,t.json),s.release(a),e(t.json))}))}},n.loadAsync=function(n,e){return void 0===e&&(e="resources"),new Promise((function(c,a){if(r.has(n))c(r.get(n));else{var i=t+n;s.load(e,i,o,(function(e,o){e?(console.warn(e.message),c(null)):(r.set(n,o.json),s.release(i),c(o.json))}))}}))},n.loadDirAsync=function(){return new Promise((function(n,e){s.loadDir(t,(function(e,o){e?(console.warn(e.message),n(!1)):(o.forEach((function(n){r.set(n.name,n.json)})),s.releaseDir(t),n(!0))}))}))},n.release=function(n){r.delete(n)},n.clear=function(){r.clear()},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LabelChange.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LabelNumber.ts"],(function(i){var t,e,n,s,a,r,h;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator},function(i){h=i.default}],execute:function(){var c,l,o;a._RF.push({},"fff0fLwVNhNe59VirWTCPFJ","LabelChange",void 0);var u=r.ccclass,p=r.property,d=r.menu;i("LabelChange",u("LabelChange")(c=d("OopsFramework/Label/LabelChange （数值变化动画标签）")((o=t((l=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,n(t,"isInteger",o,s(t)),t.duration=0,t.callback=void 0,t.isBegin=!1,t.speed=0,t.end=0,t}e(t,i);var a=t.prototype;return a.changeTo=function(i,t,e){0!=i?this.playAnim(i,this.num,t,e):e&&e()},a.changeBy=function(i,t,e){0!=i?this.playAnim(i,this.num,this.num+t,e):e&&e()},a.stop=function(i){void 0===i&&(i=!0),this.num=this.end,this.isBegin=!1,i&&this.callback&&this.callback()},a.playAnim=function(i,t,e,n){this.duration=i,this.end=e,this.callback=n,this.speed=(e-t)/i,this.num=t,this.isBegin=!0},a.isEnd=function(i){return this.speed>0?i>=this.end:i<=this.end},a.update=function(i){if(this.isBegin){if(this.num==this.end)return this.isBegin=!1,void(this.callback&&this.callback());var t=this.num+i*this.speed;this.isInteger&&(t=this.end<this.num?Math.floor(t):Math.ceil(t)),this.isEnd(t)&&(t=this.end,this.isBegin=!1,this.callback&&this.callback()),this.num=t}},t}(h)).prototype,"isInteger",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=l))||c)||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/LabelNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,n,i,o,u,a,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){u=t.cclegacy,a=t._decorator,l=t.Label}],execute:function(){var s,p,c,b,m,f,y,h,L;u._RF.push({},"f7b43F70BhPlrz4IPhZGmsL","LabelNumber",void 0);var g=a.ccclass,d=a.property,_=a.menu;t("default",(s=g("LabelNumber"),p=_("OopsFramework/Label/LabelNumber （只显示数字的标签）"),c=d({tooltip:"数字"}),b=d({tooltip:"数字"}),m=d({tooltip:"货币符号"}),s(f=p((h=e((y=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o))||this,n(e,"_num",h,i(e)),n(e,"symbol",L,i(e)),e}r(e,t);var u=e.prototype;return u.start=function(){this.updateLabel()},u.updateLabel=function(){this.string=this.num.toString()+this.symbol},o(e,[{key:"num",get:function(){return this._num},set:function(t){this._num=t,this.updateLabel()}}]),e}(l)).prototype,"_num",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(y.prototype,"num",[b],Object.getOwnPropertyDescriptor(y.prototype,"num"),y.prototype),L=e(y.prototype,"symbol",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=y))||f)||f));u._RF.pop()}}}));

System.register("chunks:///_virtual/LabelTime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./EventMessage.ts","./TimeUtils.ts"],(function(t){var e,i,n,o,r,s,a,l,c,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label},function(t){l=t.oops},function(t){c=t.EventMessage},function(t){h=t.TimeUtil}],execute:function(){var u,m,f,d,p,g,b,S,v,y,D,w;r._RF.push({},"57786GMN6RPbaAT9b9RmX18","LabelTime",void 0);var T=s.ccclass,_=s.property,z=s.menu;t("default",(u=T("LabelTime"),m=z("OopsFramework/Label/LabelTime （倒计时标签）"),f=_({tooltip:"到计时间总时间（单位秒）"}),d=_({tooltip:"天数数据格式化"}),p=_({tooltip:"时间格式化"}),g=_({tooltip:"是否有00"}),u(b=m((v=e((S=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"countDown",v,o(e)),n(e,"dayFormat",y,o(e)),n(e,"timeFormat",D,o(e)),n(e,"zeroize",w,o(e)),e.backStartTime=0,e.dateDisable=void 0,e.result=void 0,e.onSecond=null,e.onComplete=null,e}i(e,t);var r=e.prototype;return r.replace=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t.replace(/\{(\d+)\}/g,(function(t,e){return i[e]}))},r.format=function(){var t=this.countDown,e=Math.floor(t/86400);t-=86400*e;var i=Math.floor(t/3600);t-=3600*i;var n=Math.floor(t/60),o=t-=60*n;if(this.dateDisable=this.dateDisable||!1,0==e&&0==i&&0==n&&0==o)this.zeroize?this.result=this.replace(this.timeFormat,"00","00","00"):this.result=this.replace(this.timeFormat,"0","0","0");else if(e>0&&!this.dateDisable){var r=this.dayFormat,s=r.indexOf("{1}");0==i&&s>-1&&(r=r.substring(0,s-1));var a=r;e>1&&r.indexOf("days")<0&&(a=a.replace("day","days")),e<2&&(a=a.replace("days","day")),this.result=this.replace(a,e,i)}else i+=24*e,this.zeroize?this.result=this.replace(this.timeFormat,this.coverString(i),this.coverString(n),this.coverString(o)):this.result=this.replace(this.timeFormat,i,n,o);this.string=this.result},r.coverString=function(t){return t<10?"0"+t:t.toString()},r.setDateDisable=function(t){this.dateDisable=t},r.setTime=function(t){this.countDown=t,this.timing_end(),this.timing_start(),this.format()},r.setTimeStamp=function(t){this.countDown=h.secsBetween(l.timer.getServerTime(),t),this.timing_end(),this.timing_start(),this.format()},r.start=function(){l.message.on(c.GAME_SHOW,this.onGameShow,this),l.message.on(c.GAME_HIDE,this.onGameHide,this),this.timing_start(),this.format()},r.onDestroy=function(){l.message.off(c.GAME_SHOW,this.onGameShow,this),l.message.off(c.GAME_HIDE,this.onGameHide,this)},r.onGameShow=function(){var t=Math.floor((l.timer.getTime()-(this.backStartTime||l.timer.getTime()))/1e3);this.countDown-=t,this.countDown<0&&(this.countDown=0,this.onScheduleComplete())},r.onGameHide=function(){this.backStartTime=l.timer.getTime()},r.onScheduleSecond=function(){this.countDown--,this.format(),this.onSecond&&this.onSecond(this.node),0==this.countDown&&this.onScheduleComplete()},r.onScheduleComplete=function(){this.timing_end(),this.format(),this.onComplete&&this.onComplete(this.node)},r.timing_start=function(){this.schedule(this.onScheduleSecond,1)},r.timing_end=function(){this.unscheduleAllCallbacks()},e}(a)).prototype,"countDown",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),y=e(S.prototype,"dayFormat",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"{0} day"}}),D=e(S.prototype,"timeFormat",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"{0}:{1}:{2}"}}),w=e(S.prototype,"zeroize",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=S))||b)||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/Language.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./Logger.ts","./LanguageData.ts","./LanguagePack.ts","./AsyncQueue.ts"],(function(e){var n,a,t,u,g,s,i,r;return{setters:[function(e){n=e.createClass},function(e){a=e.cclegacy,t=e.assetManager},function(e){u=e.resLoader},function(e){g=e.Logger},function(e){s=e.LanguageData},function(e){i=e.LanguagePack},function(e){r=e.AsyncQueue}],execute:function(){a._RF.push({},"3757cxZqLZObIdvP/gQ6Yuj","Language",void 0);e("LanguageManager",function(){function e(){this._languages=["zh","en","tr"],this._languagePack=new i,this._defaultLanguage="zh"}var a=e.prototype;return a.isExist=function(e){return this.languages.indexOf(e)>-1},a.getNextLang=function(){var e=this.languages,n=e.indexOf(s.current);return e[(n+1)%e.length]},a.setLanguage=function(e,n){var a=this;if(null!=e&&""!=e||(e=this._defaultLanguage),this.languages.indexOf(e)<0&&(console.log("当前不支持【"+e+"】语言，将自动切换到【"+this._defaultLanguage+"】语言"),e=this._defaultLanguage),e!==s.current){var u=new r;t.bundles.forEach((function(n){console.log("已加载的 Bundle 名称：",n.name),"main"!=n.name&&"internal"!=n.name&&(g.logConfig("当前语言为【"+e+"】"),u.push((function(t,u,g){a.loadLanguageAssets(e,(function(u){var g=s.current;s.current=e,a._languagePack.updateLanguage(e),a._languagePack.releaseLanguageAssets(g,n.name),t()}),n.name)})))})),u.complete=function(){n&&n(!0)},u.play()}else n&&n(!1)},a.getLangByID=function(e,n,a){var t,g;return"string"==typeof n?(t=n,g=a||{}):(t=u.defaultBundleName,g=n||{}),s.getLangByID(e,t,g)},a.loadLanguageAssets=function(e,n,a){return this._languagePack.loadLanguageAssets(e,n,a)},a.releaseLanguageAssets=function(e,n){void 0===n&&(n=u.defaultBundleName),this._languagePack.releaseLanguageAssets(e,n)},a.loadLanguageAssetsFromBundle=function(e,n,a){var t=this;g.logConfig("加载当前"+a+"国际化资源"),this.loadLanguageAssets(e,(function(e){t._languagePack.updateLanguage(e),n()}),a)},n(e,[{key:"languages",get:function(){return this._languages},set:function(e){this._languages=e}},{key:"default",set:function(e){this._defaultLanguage=e||"zh"}},{key:"current",get:function(){return s.current}},{key:"pack",get:function(){return this._languagePack}}]),e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"27fb3sjD81JlIP2KFTSWUp4","LanguageData",void 0);var e=n("LanguageData",function(){function n(){}return n.getLangByID=function(n,t,e){void 0===e&&(e={});var a=n;return t in this.json&&n in this.json[t]&&(a=this.json[t][n]||n),Object.keys(e).length>0&&(a=this.translate(a,e)),a},n.translate=function(n,t){return void 0===t&&(t={}),n.replace(/\{\{(\w+)\}\}/g,(function(n,e){var a=t[e];return void 0!==a?String(a):"[MISSING: "+e+"]"}))},n}());e.path_json="language/json",e.path_texture="language/texture",e.path_spine="language/spine",e.other_bundle_path="resources/",e.current="",e.json={},e.font=new Map,t._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts","./ResLoader.ts"],(function(e){var t,a,n,i,r,o,s,u,p,l,c,g,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty,n=e.inheritsLoose,i=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,s=e._decorator,u=e.CCString,p=e.Label,l=e.RichText,c=e.warn,g=e.Component},function(e){d=e.LanguageData},function(e){h=e.resLoader}],execute:function(){var f,m,b,y,L,_,v,D,z,I,w,k,N,S,C,U;o._RF.push({},"110c8vEd5NEPL/N9meGQnaX","LanguageLabel",void 0);var F=s.ccclass,P=s.property,O=s.menu,R=e("LangLabelParamsItem",F("LangLabelParamsItem")((b=t((m=function(){a(this,"key",b,this),a(this,"value",y,this)}).prototype,"key",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=t(m.prototype,"value",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=m))||f);e("LanguageLabel",(L=F("LanguageLabel"),_=O("OopsFramework/Language/LanguageLabel （文本多语言）"),v=P({type:R,displayName:"params"}),D=P({type:R,displayName:"params"}),z=P({tooltip:"语言json所在的bundle,默认是resources"}),I=P({serializable:!0}),w=P({type:u,serializable:!0}),L(k=_((S=t((N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"_params",S,i(t)),a(t,"bundleName",C,i(t)),a(t,"_dataID",U,i(t)),t.initFontSize=0,t._needUpdate=!1,t}n(t,e);var o=t.prototype;return o.language=function(){this._needUpdate=!0},o.onLoad=function(){this._needUpdate=!0},o.setVars=function(e,t){for(var a=!1,n=0;n<this._params.length;n++){var i=this._params[n];i.key===e&&(i.value=t,a=!0)}if(!a){var r=new R;r.key=e,r.value=t,this._params.push(r)}this._needUpdate=!0},o.update=function(){this._needUpdate&&(this.updateContent(),this._needUpdate=!1)},o.updateContent=function(){var e=this.getComponent(p),t=this.getComponent(l),a=d.font.get(this.bundleName);e?(a&&(e.font=a),e.string=this.string,this.initFontSize=e.fontSize):t?(a&&(t.font=a),this.initFontSize=t.fontSize,t.string=this.string,this.initFontSize=t.fontSize):c("[LanguageLabel], 该节点没有cc.Label || cc.RichText组件")},r(t,[{key:"params",get:function(){return this._params||[]},set:function(e){this._params=e,this._needUpdate=!0}},{key:"dataID",get:function(){return this._dataID||""},set:function(e){this._dataID=e,this._needUpdate=!0}},{key:"string",get:function(){var e=d.getLangByID(this._dataID,this.bundleName);return e&&this._params.length>0&&this._params.forEach((function(t){e=e.replace("%{"+t.key+"}",t.value)})),e||(c("[LanguageLabel] 未找到语言标识，使用dataID替换"),e=this._dataID),e}}]),t}(g)).prototype,"_params",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),t(N.prototype,"params",[D],Object.getOwnPropertyDescriptor(N.prototype,"params"),N.prototype),C=t(N.prototype,"bundleName",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.defaultBundleName}}),U=t(N.prototype,"_dataID",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(N.prototype,"dataID",[w],Object.getOwnPropertyDescriptor(N.prototype,"dataID"),N.prototype),k=N))||k)||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguagePack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./Logger.ts","./LanguageData.ts","./LanguageLabel.ts","./LanguageSpine.ts","./LanguageSprite.ts"],(function(e){var n,t,a,r,u,o,s,i,l,c,g,f,d;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){a=e.cclegacy,r=e.director,u=e.error,o=e.TTFFont,s=e.JsonAsset},function(e){i=e.resLoader},function(e){l=e.Logger},function(e){c=e.LanguageData},function(e){g=e.LanguageLabel},function(e){f=e.LanguageSpine},function(e){d=e.LanguageSprite}],execute:function(){a._RF.push({},"2ffebyj59xIc4v4BZty8SDm","LanguagePack",void 0);e("LanguagePack",function(){function e(){}var a=e.prototype;return a.updateLanguage=function(e){for(var n=r.getScene().children,t=0;t<n.length;++t){for(var a=n[t].getComponentsInChildren(g),u=0;u<a.length;u++)a[u].language();for(var o=n[t].getComponentsInChildren(d),s=0;s<o.length;s++)o[s].language();for(var i=n[t].getComponentsInChildren(f),l=0;l<i.length;l++)i[l].language()}},a.loadLanguageAssets=function(){var e=n(t().mark((function e(n,a,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=i.defaultBundleName),e.next=3,this.loadTexture(n,r);case 3:return e.next=5,this.loadSpine(n,r);case 5:return e.next=7,this.loadJson(n,r);case 7:a(n);case 8:case"end":return e.stop()}}),e,this)})));return function(n,t,a){return e.apply(this,arguments)}}(),a.loadTexture=function(e,n){return new Promise((function(t,a){var r="";n!=i.defaultBundleName&&(r=c.other_bundle_path),r=r+(c.path_texture+"/")+e,i.loadDir(n,r,(function(e,a){if(e)return u(e),void t(null);l.logConfig(r,"加载"+n+"下的语言包 textures 资源"),t(null)}))}))},a.loadJson=function(e,a){return new Promise(n(t().mark((function n(r,u){var g,f;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g="",a!=i.defaultBundleName&&(g=c.other_bundle_path),g=g+(c.path_json+"/")+e,n.next=5,i.loadAsync(a,g,s);case 5:if(!(f=n.sent)){n.next=11;break}c.json[a]=f.json,l.logConfig(g,"加载"+a+"下的语言包 json 资源"),n.next=13;break;case 11:return r(null),n.abrupt("return");case 13:i.load(a,g,o,(function(e,n){null==e&&l.logConfig(g,"加载"+a+"下的语言包 ttf 资源"),c.font.set(a,n),r(null)}));case 14:case"end":return n.stop()}}),n)}))))},a.loadSpine=function(e,a){return new Promise(n(t().mark((function n(r,o){var s;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s="",a!=i.defaultBundleName&&(s=c.other_bundle_path),s=s+(c.path_spine+"/")+e,i.loadDir(a,s,(function(e,n){if(e)return u(e),void r(null);l.logConfig(s,"加载"+a+"下的语言包 spine 资源"),r(null)}));case 4:case"end":return n.stop()}}),n)}))))},a.releaseLanguageAssets=function(e,n){void 0===n&&(n=i.defaultBundleName),l.logConfig("释放当前"+n+"下的"+e+"国际化资源");var t="";n!=i.defaultBundleName&&(t=c.other_bundle_path);var a=t+(c.path_texture+"/")+e;i.releaseDir(a,n);var r=t+(c.path_json+"/")+e,u=i.get(r,s,n);u&&u.decRef();var g=i.get(r,o,n);g&&g.decRef();var f=t+(c.path_spine+"/")+e;i.release(f,n)},e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/LanguagePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIConfig.ts","./LanguageToggle.ts","./Oops.ts"],(function(e){var t,n,o,r,a,i,u,g,c,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,u=e._decorator,g=e.Component},function(e){c=e.UIID},function(e){p=e.LanguageToggle},function(e){l=e.oops}],execute:function(){var s,f,v,y,h;i._RF.push({},"4ecf4t7dwpDNaRt+90YVeZx","LanguagePopup",void 0);var L=u.ccclass,d=u.property;e("LanguagePopup",(s=L("LanguagePopup"),f=d({type:[p],tooltip:"语言",visible:!0}),s((h=t((y=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,o(t,"languageToggles",h,r(t)),t}n(t,e);var i=t.prototype;return i.start=function(){this.init()},i.init=function(){for(var e,t=l.language.current,n=a(this.languageToggles);!(e=n()).done;){var o=e.value;if(o.key===t)return void(o.toggle.isChecked=!0)}},i.onBack=function(){l.gui.remove(c.LanguagePopup)},t}(g)).prototype,"languageToggles",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=y))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageSpine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./LanguageData.ts"],(function(e){var t,a,n,i,r,o,u,p,s,l,c,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,u=e._decorator,p=e.CCString,s=e.sp,l=e.Component},function(e){c=e.resLoader},function(e){d=e.LanguageData}],execute:function(){var g,f,h,m,b,y,D,S,L;o._RF.push({},"53e25hqV6VEJqayXfz6Qam2","LanguageSpine",void 0);var _=u.ccclass,v=u.property,I=u.menu;e("LanguageSpine",(g=_("LanguageSpine"),f=I("OopsFramework/Language/LanguageSpine （Spine 动画多语言）"),h=v({serializable:!0}),m=v({tooltip:"spine资源所在的bundle,默认是resources"}),b=v({type:p,serializable:!0}),g(y=f((S=t((D=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"_dataID",S,i(t)),n(t,"bundleName",L,i(t)),t._defaultAnimation="",t}a(t,e);var o=t.prototype;return o.onLoad=function(){var e=this.getComponent(s.Skeleton);this._defaultAnimation=e.animation},o.start=function(){this.updateSpine(this.bundleName)},o.language=function(){this.updateSpine(this.bundleName)},o.updateSpine=function(e){var t="";e!=c.defaultBundleName&&(t=d.other_bundle_path),t=t+d.path_spine+"/"+d.current+"/"+this.dataID;var a=c.get(t,s.SkeletonData,e);if(a){var n=this.getComponent(s.Skeleton);n.skeletonData=a,n.setAnimation(0,this._defaultAnimation,!0)}else console.error("[LanguageSpine] 资源不存在 "+t)},r(t,[{key:"dataID",get:function(){return this._dataID||""},set:function(e){this._dataID=e,this.updateSpine(this.bundleName)}}]),t}(l)).prototype,"_dataID",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=t(D.prototype,"bundleName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.defaultBundleName}}),t(D.prototype,"dataID",[b],Object.getOwnPropertyDescriptor(D.prototype,"dataID"),D.prototype),y=D))||y)||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./LanguageData.ts"],(function(e){var t,a,r,i,n,o,u,p,s,l,c,g,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,u=e._decorator,p=e.CCString,s=e.SpriteFrame,l=e.Sprite,c=e.UITransform,g=e.Component},function(e){d=e.resLoader},function(e){f=e.LanguageData}],execute:function(){var h,b,m,S,y,D,L,z,_,v,I;o._RF.push({},"11b96k/RIZF57Loehxyl6Hs","LanguageSprite",void 0);var w=u.ccclass,C=u.property,F=u.menu;e("LanguageSprite",(h=w("LanguageSprite"),b=F("OopsFramework/Language/LanguageSprite （图片多语言）"),m=C({serializable:!0}),S=C({tooltip:"图片资源所在的bundle,默认是resources"}),y=C({type:p,serializable:!0}),D=C({tooltip:"是否设置为图片原始资源大小"}),h(L=b((_=t((z=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"_dataID",_,i(t)),r(t,"bundleName",v,i(t)),r(t,"isRawSize",I,i(t)),t}a(t,e);var o=t.prototype;return o.start=function(){this.updateSprite(this.bundleName)},o.language=function(){this.updateSprite(this.bundleName)},o.updateSprite=function(e){var t="";e!=d.defaultBundleName&&(t=f.other_bundle_path),t=t+f.path_texture+"/"+f.current+"/"+this.dataID+"/spriteFrame";var a=d.get(t,s,e);if(a){var r=this.getComponent(l);if(r.spriteFrame=a,this.isRawSize){var i,n=a._originalSize;null==(i=r.getComponent(c))||i.setContentSize(n)}}else console.error(e,"下[LanguageSprite] 资源不存在 "+t)},n(t,[{key:"dataID",get:function(){return this._dataID||""},set:function(e){this._dataID=e,this.updateSprite(this.bundleName)}}]),t}(g)).prototype,"_dataID",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=t(z.prototype,"bundleName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.defaultBundleName}}),t(z.prototype,"dataID",[y],Object.getOwnPropertyDescriptor(z.prototype,"dataID"),z.prototype),I=t(z.prototype,"isRawSize",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L=z))||L)||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageToggle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./EventType.ts","./Oops.ts"],(function(e){var t,n,o,i,a,r,g,l,u,s,c,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,g=e.Enum,l=e.Toggle,u=e.Component},function(e){s=e.Language},function(e){c=e.EventType},function(e){p=e.oops}],execute:function(){var y,f,T,h,v,L,b;a._RF.push({},"0522d1wrXtMILCNTVMaVeTR","LanguageToggle",void 0);var d=r.ccclass,E=r.property;g(s);e("LanguageToggle",(y=d("LanguageToggle"),f=E({type:s,tooltip:"语言Key，如 'en', 'zh'",visible:!0}),T=E({type:l,tooltip:"对应的Toggle组件"}),y((L=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"key",L,i(t)),o(t,"toggle",b,i(t)),t}return n(t,e),t.prototype.onToggle=function(e,t){p.storage.set("language",this.key),p.language.setLanguage(this.key,(function(){p.message.dispatchEvent(c.REFRESH_LANGUAGE)}))},t}(u)).prototype,"key",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.ZH_CN}}),b=t(v.prototype,"toggle",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/LayerDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./LayerPopup.ts"],(function(s){var a,t,i,n;return{setters:[function(s){a=s.inheritsLoose},function(s){t=s.cclegacy},function(s){i=s.ViewParams},function(s){n=s.LayerPopUp}],execute:function(){t._RF.push({},"dcad5w8wHlEDJpIKJ4gUxEP","LayerDialog",void 0);s("LayerDialog",function(s){function t(){for(var a,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return(a=s.call.apply(s,[this].concat(i))||this).params=[],a}a(t,s);var n=t.prototype;return n.add=function(s,a,t){this.ui_nodes.size>0?this.params.push({config:s,params:a,callbacks:t}):(this.black.enabled=!0,this.show(s,a,t))},n.show=function(s,a,t){var n=this.ui_cache.get(s.prefab);null==n&&((n=new i).valid=!0,n.config=s),n.params=a||{},n.callbacks=null!=t?t:{},this.ui_nodes.set(n.config.prefab,n),this.load(n,s.bundle)},n.onCloseWindow=function(a){s.prototype.onCloseWindow.call(this,a),setTimeout(this.next.bind(this),0)},n.setBlackDisable=function(){0==this.params.length&&(this.black.enabled=!1,this.closeVacancyRemove(),this.closeMask())},n.next=function(){if(this.params.length>0){var s=this.params.shift();this.show(s.config,s.params,s.callbacks)}},t}(n));t._RF.pop()}}}));

System.register("chunks:///_virtual/LayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./DelegateComponent.ts","./LayerDialog.ts","./LayerNotify.ts","./LayerPopup.ts","./LayerUI.ts"],(function(e){var i,t,n,o,a,s,r,c,p,h,u,d,l,f,g,y,v;return{setters:[function(e){i=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e.view,a=e.screen,s=e.ResolutionPolicy,r=e.warn,c=e.Node,p=e.Layers,h=e.Widget,u=e.Camera},function(e){d=e.oops},function(e){l=e.DelegateComponent},function(e){f=e.LayerDialog},function(e){g=e.LayerNotify},function(e){y=e.LayerPopUp},function(e){v=e.LayerUI}],execute:function(){n._RF.push({},"7ba675xFGdHqIOykTysNzEu","LayerManager",void 0);e("ScreenAdapterType",function(e){return e[e.Auto=0]="Auto",e[e.Landscape=1]="Landscape",e[e.Portrait=2]="Portrait",e}({}));var m=e("LayerType",function(e){return e.Game="LayerGame",e.UI="LayerUI",e.PopUp="LayerPopUp",e.Dialog="LayerDialog",e.System="LayerSystem",e.Notify="LayerNotify",e.Guide="LayerGuide",e}({}));e("LayerManager",function(){var e=n.prototype;function n(e){this.root=void 0,this.camera=void 0,this.game=void 0,this.guide=void 0,this.windowAspectRatio=0,this.designAspectRatio=0,this.ui=void 0,this.popup=void 0,this.dialog=void 0,this.system=void 0,this.notify=void 0,this.configs={},this.root=e,this.initScreenAdapter(),this.camera=this.root.getComponentInChildren(u),this.game=this.create_node(m.Game),this.ui=new v(m.UI),this.popup=new y(m.PopUp),this.dialog=new f(m.Dialog),this.system=new f(m.System),this.notify=new g(m.Notify),this.guide=this.create_node(m.Guide),e.addChild(this.game),e.addChild(this.ui),e.addChild(this.popup),e.addChild(this.dialog),e.addChild(this.system),e.addChild(this.notify),e.addChild(this.guide)}return e.initScreenAdapter=function(){var e=o.getDesignResolutionSize(),i=a.windowSize;this.windowAspectRatio=i.width/i.height,this.designAspectRatio=e.width/e.height;var t=0,n=0;this.windowAspectRatio>this.designAspectRatio?(t=(n=e.height)*i.width/i.height,d.log.logView("适配屏幕高度","【横屏】")):(n=(t=e.width)*i.height/i.width,d.log.logView("适配屏幕宽度","【竖屏】")),o.setDesignResolutionSize(t,n,s.UNKNOWN)},e.init=function(e){this.configs=e},e.setOpenFailure=function(e){this.ui.onOpenFailure=this.popup.onOpenFailure=this.dialog.onOpenFailure=this.system.onOpenFailure=e},e.toast=function(e,i){void 0===i&&(i=!1),this.notify.toast(e,i)},e.waitOpen=function(){this.notify.waitOpen()},e.waitClose=function(){this.notify.waitClose()},e.setConfig=function(e,i){this.configs[e]=i},e.open=function(e,i,t){void 0===i&&(i=null);var n=this.configs[e];if(null!=n)switch(n.layer){case m.UI:this.ui.add(n,i,t);break;case m.PopUp:this.popup.add(n,i,t);break;case m.Dialog:this.dialog.add(n,i,t);break;case m.System:this.system.add(n,i,t)}else r("打开编号为【"+e+"】的界面失败，配置信息不存在")},e.openAsync=function(){var e=i(t().mark((function e(i,n){var o=this;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=null),e.abrupt("return",new Promise((function(e,t){var a={onAdded:function(i,t){e(i)},onLoadFailure:function(){e(null)}};o.open(i,n,a)})));case 2:case"end":return e.stop()}}),e)})));return function(i,t){return e.apply(this,arguments)}}(),e.replace=function(e,i,t){var n=this;void 0===t&&(t=null);var o={onAdded:function(i,t){n.remove(e)}};this.open(i,t,o)},e.replaceAsync=function(e,n,o){var a=this;return void 0===o&&(o=null),new Promise(i(t().mark((function i(s,r){var c;return t().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.openAsync(n,o);case 2:(c=i.sent)?(a.remove(e),s(c)):s(null);case 4:case"end":return i.stop()}}),i)}))))},e.has=function(e){var i=this.configs[e];if(null==i)return r("编号为【"+e+"】的界面配置不存在，配置信息不存在"),!1;var t=!1;switch(i.layer){case m.UI:t=this.ui.has(i.prefab);break;case m.PopUp:t=this.popup.has(i.prefab);break;case m.Dialog:t=this.dialog.has(i.prefab);break;case m.System:t=this.system.has(i.prefab)}return t},e.get=function(e){var i=this.configs[e];if(null==i)return r("编号为【"+e+"】的界面配置不存在，配置信息不存在"),null;var t=null;switch(i.layer){case m.UI:t=this.ui.get(i.prefab);break;case m.PopUp:t=this.popup.get(i.prefab);break;case m.Dialog:t=this.dialog.get(i.prefab);break;case m.System:t=this.system.get(i.prefab)}return t},e.remove=function(e,i){var t=this.configs[e];if(null!=t)switch(t.layer){case m.UI:this.ui.remove(t.prefab,i);break;case m.PopUp:this.popup.remove(t.prefab,i);break;case m.Dialog:this.dialog.remove(t.prefab,i);break;case m.System:this.system.remove(t.prefab,i)}else r("删除编号为【"+e+"】的界面失败，配置信息不存在")},e.removeByNode=function(e,i){if(e instanceof c){var t=e.getComponent(l);if(t&&t.vp){if(e.parent)e.parent.remove(t.vp.config.prefab,i);else if(i)switch(t.vp.config.layer){case m.UI:this.ui.removeCache(t.vp.config.prefab);break;case m.PopUp:this.popup.removeCache(t.vp.config.prefab);break;case m.Dialog:this.dialog.removeCache(t.vp.config.prefab);break;case m.System:this.system.removeCache(t.vp.config.prefab)}}else r("当前删除的node不是通过界面管理器添加到舞台上"),e.destroy()}},e.clear=function(e){void 0===e&&(e=!1),this.ui.clear(e),this.popup.clear(e),this.dialog.clear(e),this.system.clear(e)},e.create_node=function(e){var i=new c(e);i.layer=p.Enum.UI_2D;var t=i.addComponent(h);return t.isAlignLeft=t.isAlignRight=t.isAlignTop=t.isAlignBottom=!0,t.left=t.right=t.top=t.bottom=0,t.alignMode=2,t.enabled=!0,i},n}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LayerNotify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./Notify.ts"],(function(t){var i,n,e,o,a,s,l,r,h;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t.Layers,o=t.BlockInputEvents,a=t.instantiate,s=t.Widget,l=t.Node},function(t){r=t.ViewUtil},function(t){h=t.Notify}],execute:function(){n._RF.push({},"da14ax+B2xNsL2taQFOh7we","LayerNotify",void 0);var f="prefabs/common/notify";t("LayerNotify",function(t){function n(i){var n;(n=t.call(this,i)||this).black=void 0,n.wait=null,n.notify=null,n.notifyItem=null;var e=n.addComponent(s);return e.isAlignLeft=e.isAlignRight=e.isAlignTop=e.isAlignBottom=!0,e.left=e.right=e.top=e.bottom=0,e.alignMode=2,e.enabled=!0,n.init(),n}i(n,t);var l=n.prototype;return l.init=function(){this.layer=e.Enum.UI_2D,this.black=this.addComponent(o),this.black.enabled=!1},l.waitOpen=function(){null==this.wait&&(this.wait=r.createPrefabNode("prefabs/common/wait")),null==this.wait.parent&&(this.wait.parent=this,this.black.enabled=!0)},l.waitClose=function(){this.wait&&this.wait.parent&&(this.wait.parent=null,this.black.enabled=!1)},l.toast=function(t,i){var n=this;null==this.notify&&(console.log("ToastPrefabPath->",f),this.notify=r.createPrefabNode(f),this.notify?(this.notifyItem=this.notify.children[0],this.notifyItem.parent=null):console.log("toast->创建预制体失败")),this.notify.parent=this;var e=a(this.notifyItem),o=e.getChildByName("prompt").getComponent(h);e.parent=this.notify,o.onComplete=function(){0==n.notify.children.length&&(n.notify.parent=null)},o.toast(t,i),this.notify.children.length>3&&this.notify.children[0].destroy()},n}(l));n._RF.pop()}}}));

System.register("chunks:///_virtual/LayerPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewUtil.ts","./LayerUI.ts"],(function(e){var t,n,s,i,o,a,c,r,h,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,s=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e.Layers,c=e.BlockInputEvents,r=e.Node},function(e){h=e.ViewUtil},function(e){u=e.LayerUI}],execute:function(){o._RF.push({},"25d07BQBCFADaSsh/I3GrTX","LayerPopup",void 0);e("LayerPopUp",function(e){function o(t){var n;return(n=e.call(this,t)||this).black=void 0,n.mask=void 0,n.init(),n}t(o,e);var u=o.prototype;return u.init=function(){this.layer=a.Enum.UI_2D,this.black=this.addComponent(c),this.black.enabled=!1},u.showUi=function(){var t=s(i().mark((function t(n){var s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.prototype.showUi.call(this,n);case 2:return(s=t.sent)&&(this.openVacancyRemove(n.config),this.black.enabled=!0),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.onCloseWindow=function(t){e.prototype.onCloseWindow.call(this,t),this.setBlackDisable()},u.setBlackDisable=function(){0==this.ui_nodes.size&&(this.black.enabled=!1,this.closeVacancyRemove(),this.closeMask())},u.closeMask=function(){if(null!=this.mask){for(var e,t=!0,s=n(this.ui_nodes.values());!(e=s()).done;){if(e.value.config.mask){t=!1;break}}t&&(this.mask.parent=null)}},u.openVacancyRemove=function(e){this.hasEventListener(r.EventType.TOUCH_END,this.onTouchEnd,this)||this.on(r.EventType.TOUCH_END,this.onTouchEnd,this),null==this.mask&&(this.mask=h.createPrefabNode("prefabs/common/mask")),e.mask&&(this.mask.parent=this,this.mask.setSiblingIndex(0))},u.closeVacancyRemove=function(){for(var e,t=!0,s=n(this.ui_nodes.values());!(e=s()).done;){if(e.value.config.vacancy){t=!1;break}}t&&this.hasEventListener(r.EventType.TOUCH_END,this.onTouchEnd,this)&&this.off(r.EventType.TOUCH_END,this.onTouchEnd,this)},u.onTouchEnd=function(e){var t=this;e.target===this&&this.ui_nodes.forEach((function(e){e.valid&&e.config.vacancy&&t.remove(e.config.prefab,e.config.destroy)}))},u.clear=function(t){e.prototype.clear.call(this,t),this.black.enabled=!1,this.closeVacancyRemove(),this.closeMask()},o}(u));o._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts","./Defines.ts","./DelegateComponent.ts"],(function(e){var n,t,i,o,a,r,s,u,c,l,d;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e.Widget,r=e.Node,s=e.instantiate,u=e.Prefab},function(e){c=e.oops},function(e){l=e.ViewParams},function(e){d=e.DelegateComponent}],execute:function(){o._RF.push({},"bc8b86Br9dGeKxeLijkyJKE","LayerUI",void 0);e("LayerUI",function(e){function o(n){var t;(t=e.call(this,n)||this).onOpenFailure=null,t.ui_nodes=new Map,t.ui_cache=new Map;var i=t.addComponent(a);return i.isAlignLeft=i.isAlignRight=i.isAlignTop=i.isAlignBottom=!0,i.left=i.right=i.top=i.bottom=0,i.alignMode=2,i.enabled=!0,t}n(o,e);var r=o.prototype;return r.add=function(e,n,t){if(this.ui_nodes.has(e.prefab))console.warn("路径为【"+e.prefab+"】的预制重复加载");else{var i=this.ui_cache.get(e.prefab);null==i&&((i=new l).config=e),this.ui_nodes.set(e.prefab,i),i.params=null!=n?n:{},i.callbacks=null!=t?t:{},i.valid=!0,this.load(i,e.bundle)}},r.load=function(){var e=t(i().mark((function e(n,t){var o,a,r,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=setTimeout(this.onLoadingTimeoutGui,c.config.game.loadingTimeoutGui),!n||!n.node){e.next=6;break}return e.next=4,this.showUi(n);case 4:e.next=22;break;case 6:return t=t||c.res.defaultBundleName,e.next=9,c.res.loadAsync(t,n.config.prefab,u);case 9:if(!(a=e.sent)){e.next=20;break}return r=s(a),n.node=r,(l=r.addComponent(d)).vp=n,l.onCloseWindow=this.onCloseWindow.bind(this),e.next=18,this.showUi(n);case 18:e.next=22;break;case 20:console.warn("路径为【"+n.config.prefab+"】的预制加载失败"),this.failure(n);case 22:c.gui.waitClose(),clearTimeout(o);case 24:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),r.onLoadingTimeoutGui=function(){c.gui.waitOpen()},r.onCloseWindow=function(e){this.ui_nodes.delete(e.config.prefab)},r.showUi=function(){var e=t(i().mark((function e(n){var t,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.node.getComponent(d),e.next=3,t.add();case 3:return(o=e.sent)?(n.node.parent=this,n.valid=!0):(console.warn("路径为【"+n.config.prefab+"】的自定义预处理逻辑异常.检查预制上绑定的组件中 onAdded 方法,返回true才能正确完成窗口显示流程"),this.failure(n)),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),r.failure=function(e){this.onCloseWindow(e),e.callbacks&&e.callbacks.onLoadFailure&&e.callbacks.onLoadFailure(),this.onOpenFailure&&this.onOpenFailure()},r.remove=function(e,n){var t=void 0;void 0!==n&&(t=n);var i=this.ui_nodes.get(e);i&&(void 0===t&&(t=void 0===i.config.destroy||i.config.destroy),!1===t&&this.ui_cache.set(i.config.prefab,i),i.node.getComponent(d).remove(t));!0===t&&this.removeCache(e)},r.removeCache=function(e){var n=this.ui_cache.get(e);n&&(this.onCloseWindow(n),this.ui_cache.delete(e),n.node.destroy())},r.get=function(e){var n=this.ui_nodes.get(e);return n?n.node:null},r.has=function(e){return this.ui_nodes.has(e)},r.clear=function(e){var n=this;this.ui_nodes.forEach((function(t,i){n.remove(t.config.prefab,e),t.valid=!1})),this.ui_nodes.clear(),e&&this.ui_cache.forEach((function(e,t){n.removeCache(t)}))},o}(r));o._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b7a864Zpb5N4Zm7onWE1i9D","LayerUtil",void 0);var i=e("LayerItem",function(){function e(e,n){this._value=void 0,this._name=void 0,this._value=e,this._name=n}return n(e,[{key:"value",get:function(){return this._value}},{key:"name",get:function(){return this._name}},{key:"mask",get:function(){return 1<<this._value}}]),e}()),r=e("LayerUtil",function(){function e(){}return e.setNodeLayer=function(n,t){t.layer=n.mask,t.children.forEach((function(t){t.layer=n.mask,e.setNodeLayer(n,t)}))},e}());r.MAP=new i(0,"MAP"),r.AVATAR=new i(1,"AVATAR"),r.IGNORE_RAYCAST=new i(20,"IGNORE_RAYCAST"),r.GIZMOS=new i(21,"GIZMOS"),r.EDITOR=new i(22,"EDITOR"),r.UI_3D=new i(23,"UI_3D"),r.SCENE_GIZMO=new i(24,"SCENE_GIZMO"),r.UI_2D=new i(25,"UI_2D"),r.PROFILTER=new i(28,"PROFILTER"),r.DEFAULT=new i(30,"DEFAULT"),t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Configuration.ts","./EventType.ts","./UIConfig.ts","./HistoryManager.ts","./Oops.ts"],(function(e){var t,i,n,o,r,u,a,l,s,c,p,f,g,y,v,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,a=e.CCInteger,l=e.Label,s=e.Component},function(e){c=e.default,p=e.SudokuGameMode},function(e){f=e.Configuration},function(e){g=e.EventType},function(e){y=e.UIID},function(e){v=e.HistoryManager},function(e){b=e.oops}],execute:function(){var d,m,L,I,h,D,C;r._RF.push({},"42b08UQAl1GE6nwr0ZjBLLM","LevelItem",void 0);var M=u.ccclass,E=u.property;e("LevelItem",(d=M("LevelItem"),m=E({type:a,tooltip:"关卡难度",visible:!0}),L=E({type:l,tooltip:"关卡难度描述",visible:!0}),d((D=t((h=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,n(t,"sudokuDifficulty",D,o(t)),n(t,"label",C,o(t)),t}i(t,e);var r=t.prototype;return r.start=function(){this.label.string=b.language.getLangByID(c.difficulty[this.sudokuDifficulty].label)},r.update=function(e){},r.onStartNewGame=function(){v.getInstance().setCurrentGame(),f.getInstance().setDifficulty(this.sudokuDifficulty),b.gui.remove(y.LevelPopup),b.gui.remove(y.SuccessPopup),b.gui.remove(y.FailPopup),b.gui.replaceAsync(y.Lobby,y.Game),b.message.dispatchEvent(g.RESET_GAME,{gameMode:p.NORMAL,data:{isGenerate:!0}})},t}(s)).prototype,"sudokuDifficulty",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(h.prototype,"label",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=h))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIConfig.ts","./Oops.ts"],(function(e){var o,t,n,u,p,r;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,u=e.Component},function(e){p=e.UIID},function(e){r=e.oops}],execute:function(){var c;t._RF.push({},"7e0b9b2fJxK/70lTefTj7OQ","LevelPopup",void 0);var i=n.ccclass;n.property,e("LevelPopup",i("LevelPopup")(c=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.start=function(){},n.update=function(e){},n.onClose=function(){r.gui.remove(p.LevelPopup)},t}(u))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/List.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"f4d36IVkDZEFYGJyOy6wiZw","List",void 0);e("List",function(){function e(e){void 0===e&&(e=!0),this.element=void 0,this.only=!1,this.count=0,this.only=e,this.element=[]}var n=e.prototype;return n.push=function(e){if(this.only&&this.element.indexOf(e)>=0)return!1;return this.element.push(e),this.count=this.element.length,!0},n.unshift=function(e){if(this.only&&this.element.indexOf(e)>=0)return!1;return this.element.unshift(e),this.count=this.element.length,!0},n.pop=function(){if(this.element.length>0){var e=this.element.pop();return this.count=this.element.length,e}return null},n.shift=function(){if(this.element.length>0){var e=this.element.shift();return this.count=this.element.length,e}return null},n.removeAt=function(e){if(e>=this.element.length)throw new Error("删除索引超出范围！");var t=this.element[e];return this.element.splice(e,1),this.count=this.element.length,t},n.remove=function(e){var t=this.element.indexOf(e);if(t<0)throw new Error("要删除的内容不在列表中！"+e);this.element[t];this.element.splice(t,1),this.count=this.element.length},n.clear=function(){this.count=0,this.element.length=0},n.has=function(e){return this.find(e)>=0},n.find=function(e){return this.element.indexOf(e)},n.findIndex=function(e){return this.element.findIndex(e)},n.get=function(e){if(e>=this.element.length)throw new Error("超出索引范围:"+e+"/"+this.element.length);return this.element[e]},t(e,[{key:"elements",get:function(){return this.element}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingIndicator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,i,n,r,e,a,l,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){e=t.cclegacy,a=t._decorator,l=t.Node,c=t.Component}],execute:function(){var s,d,u,p,g;e._RF.push({},"95143M/82NCOLKGzw14JlmS","LoadingIndicator",void 0);var h=a.ccclass,f=a.property;t("LoadingIndicator",(s=h("LoadingIndicator"),d=f(l),s((g=o((p=function(t){function o(){for(var o,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return o=t.call.apply(t,[this].concat(e))||this,n(o,"loading",g,r(o)),o.loading_rotate=0,o}return i(o,t),o.prototype.update=function(t){this.loading_rotate+=220*t,this.loading.setRotationFromEuler(0,0,-this.loading_rotate%360),this.loading_rotate>360&&(this.loading_rotate-=360)},o}(c)).prototype,"loading",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=p))||u));e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingViewComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIConfig.ts","./Oops.ts","./ECS.ts","./VMParent.ts"],(function(t){var n,o,e,r,i,s,a;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){r=t.UIID},function(t){i=t.oops},function(t){s=t.ecs},function(t){a=t.default}],execute:function(){var c;o._RF.push({},"92429ykTnxFCrcGyW58JWjj","LoadingViewComp",void 0);var u=e.ccclass;e.property,t("LoadingViewComp",u("LoadingViewComp")(c=s.register("LoadingView",!1)(c=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).data={finished:0,total:0,progress:"0",prompt:""},n.progress=0,n.totalItems=0,n.loadedItems=0,n.bundleLoadStatus=new Map,n}n(o,t);var e=o.prototype;return e.start=function(){this.enter()},e.enter=function(){i.gui.replaceAsync(r.Loading,r.Lobby)},o}(a))||c)||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,a,l,o,s,n,r;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,n=e.Node,r=e.Component}],execute:function(){var c,h,g,u,p,y,P,b,f;o._RF.push({},"fc824P6sUVOdoyY74eQ2IdN","LobbyView",void 0);var d=s.ccclass,v=s.property;e("LobbyView",(c=d("LobbyView"),h=v({type:n,tooltip:"主页面",visible:!0}),g=v({type:n,tooltip:"每日挑战页面",visible:!0}),u=v({type:n,tooltip:"统计页面",visible:!0}),c((P=i((y=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return i=e.call.apply(e,[this].concat(o))||this,a(i,"homePage",P,l(i)),a(i,"dailyChallengePage",b,l(i)),a(i,"statisticsPage",f,l(i)),i}t(i,e);var o=i.prototype;return o.hideAllPages=function(){this.homePage.active=!1,this.dailyChallengePage.active=!1,this.statisticsPage.active=!1},o.showHomePage=function(){this.hideAllPages(),this.homePage.active=!0},o.showDailyChallengePage=function(){this.hideAllPages(),this.dailyChallengePage.active=!0},o.showStatisticsPage=function(){this.hideAllPages(),this.statisticsPage.active=!0},o.start=function(){this.showHomePage()},i}(r)).prototype,"homePage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(y.prototype,"dailyChallengePage",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=i(y.prototype,"statisticsPage",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/LocalPuzzleService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./GameLogic.ts","./ResLoader.ts","./Oops.ts"],(function(e){var t,r,n,i,a,u,s,o,c,l;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){n=e.cclegacy,i=e.JsonAsset},function(e){a=e.default,u=e.SudokuDifficulty,s=e.PuzzleLibraryPath},function(e){o=e.GameLogic},function(e){c=e.resLoader},function(e){l=e.oops}],execute:function(){n._RF.push({},"cf3e6oTKOhNG4vbXo6op45s","LocalPuzzleService",void 0),e("LocalPuzzleService",function(){function e(){var e;this.loadedLibraries=new Map,this.pathMapping=void 0,this.pathMapping=((e={})[u.Novice]=s.Novice,e[u.Beginner]=s.Beginner,e[u.Elementary]=s.Elementary,e[u.Intermediate]=s.Intermediate,e[u.Advanced]=s.Advanced,e[u.Expert]=s.Expert,e[u.Master]=s.Master,e[u.Extreme]=s.Extreme,e)}e.getInstance=function(){return e.instance||(e.instance=new e),e.instance};var n=e.prototype;return n.getRandomPuzzleFromLibraries=function(){var e=t(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.validateProbabilityConfig(t),n=this.selectDifficulty(t),e.next=5,this.getRandomPuzzleByDifficulty(n);case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(0),console.error("随机选择题库失败:",e.t0),l.gui.toast("题库选择失败，由本地生成！",!0),e.abrupt("return",this.generateFallbackPuzzle(this.getFirstDifficulty(t)));case 13:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),n.getRandomPuzzleByDifficulty=function(){var e=t(r().mark((function e(t){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadLibrary(t);case 3:if(0!==(n=e.sent).length){e.next=6;break}throw new Error("题库为空");case 6:return i=Math.floor(Math.random()*n.length),e.abrupt("return",n[i]);case 10:return e.prev=10,e.t0=e.catch(0),console.error("获取"+t+"难度题目失败:",e.t0),l.gui.toast("题目加载失败，由本地生成！",!0),e.abrupt("return",this.generateFallbackPuzzle(t));case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),n.loadLibrary=function(){var e=t(r().mark((function e(t){var n,a,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loadedLibraries.has(t)){e.next=2;break}return e.abrupt("return",this.loadedLibraries.get(t));case 2:return e.prev=2,n=this.pathMapping[t],e.next=6,c.loadAsync(n,i);case 6:return a=e.sent,u=[],Array.isArray(a.json)&&(u=a.json.map((function(e){return{puzzleStr:e.mission,solutionStr:e.solution,blanks:o.findBlanks(e.mission)}}))),this.loadedLibraries.set(t,u),e.abrupt("return",u);case 13:return e.prev=13,e.t0=e.catch(2),console.error("加载题库 "+t+" 失败:",e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),n.validateProbabilityConfig=function(e){var t=Object.values(e).reduce((function(e,t){return e+t}),0);if(Math.abs(t-1)>1e-4)throw new Error("概率总和必须等于1")},n.selectDifficulty=function(e){for(var t=Math.random(),r=0,n=0,i=Object.entries(e);n<i.length;n++){var a=i[n],u=a[0],s=a[1],o=Number(u);if(t<(r+=s))return o}return this.getFirstDifficulty(e)},n.getFirstDifficulty=function(e){return Number(Object.keys(e)[0])},n.generateFallbackPuzzle=function(e){return o.generate(a.difficulty[e].prefilledNumbers)},e}()).instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["cc"],(function(t){var n,i;return{setters:[function(t){n=t.cclegacy,i=t.log}],execute:function(){n._RF.push({},"479cdJANP5KaJgU+8z0DdSE","Logger",void 0);var e=t("LogType",function(t){return t[t.Net=1]="Net",t[t.Model=2]="Model",t[t.Business=4]="Business",t[t.View=8]="View",t[t.Config=16]="Config",t[t.Trace=32]="Trace",t}({})),o={1:"网络日志",2:"数据日志",4:"业务日志",8:"视图日志",16:"配置日志",32:"标准日志"},s=t("Logger",function(){function t(){}return t.init=function(){this.tags=e.Net|e.Model|e.Business|e.View|e.Config|e.Trace},t.setTags=function(t){void 0===t&&(t=null),t&&(this.tags=t)},t.start=function(t){void 0===t&&(t="Time"),console.time(t)},t.end=function(t){void 0===t&&(t="Time"),console.timeEnd(t)},t.table=function(t,n){this.isOpen(e.Trace)&&console.table(t)},t.trace=function(t,n){(void 0===n&&(n="color:#ffffff;"),this.isOpen(e.Trace))&&(console.log||i).call(null,"%c%s%s",n,this.getDateString(),t)},t.logNet=function(t,n){this.orange(e.Net,t,n)},t.logModel=function(t,n){this.violet(e.Model,t,n)},t.logBusiness=function(t,n){this.blue(e.Business,t,n)},t.logView=function(t,n){this.green(e.View,t,n)},t.logConfig=function(t,n){this.gray(e.Config,t,n)},t.orange=function(t,n,i){this.print(t,n,"color:#ee7700;",i)},t.violet=function(t,n,i){this.print(t,n,"color:Violet;",i)},t.blue=function(t,n,i){this.print(t,n,"color:#3a5fcd;",i)},t.green=function(t,n,i){this.print(t,n,"color:green;",i)},t.gray=function(t,n,i){this.print(t,n,"color:gray;",i)},t.isOpen=function(t){return 0!=(this.tags&t)},t.print=function(t,n,e,s){if(this.isOpen(t)){var r=console.log||i,c=o[t];s?r.call(null,"%c%s%s%s:%s%o",e,this.getDateString(),"["+c+"]",this.stack(5),s,n):r.call(null,"%c%s%s%s:%o",e,this.getDateString(),"["+c+"]",this.stack(5),n)}},t.stack=function(t){var n=(new Error).stack.split("\n"),i=[];n.forEach((function(t){var n,e=(t=t.substring(7)).split(" ");e.length<2?i.push(e[0]):i.push(((n={})[e[0]]=e[1],n))}));var e,o=[],s=[];if(t<i.length-1)for(var r in i[t])if(2==(s=r.split(".")).length)o=s.concat();else{var c=(e=i[t][r]).lastIndexOf("/"),l=e.lastIndexOf(".");if(c>-1&&l>-1){var g=e.substring(c+1,l);o.push(g)}else o.push(e)}return 1==o.length?"["+o[0]+".ts]":2==o.length?"["+o[0]+".ts->"+o[1]+"]":""},t.getDateString=function(){var t=new Date,n=t.getHours().toString(),i="";return i+=(1==n.length?"0"+n:n)+":",i+=(1==(n=t.getMinutes().toString()).length?"0"+n:n)+":",i+=(1==(n=t.getSeconds().toString()).length?"0"+n:n)+":",1==(n=t.getMilliseconds().toString()).length&&(n="00"+n),2==n.length&&(n="0"+n),i="["+(i+=n)+"]"},t}());s.tags=0,s.init(),n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Main.ts","./SafeAreaAdapter.ts","./TipsManager.ts","./Calendar.ts","./DayItem.ts","./InfinitePageView.ts","./InfinitePageViewItem.ts","./AItemRenderer.ts","./AVirtualScrollView.ts","./VirtualList.ts","./VirtualListItem.ts","./Config.ts","./Configuration.ts","./EventType.ts","./UIConfig.ts","./GameController.ts","./BaseDifficultyStrategy.ts","./BeginnerBasicStrategy.ts","./Hot.ts","./HotUpdate.ts","./AppSettings.ts","./DailyGameRecords.ts","./DifficultyConfig.ts","./DifficultyTypes.ts","./GameConfig2.ts","./GameData.ts","./GameHistoryImpl.ts","./GameStatistics.ts","./StoredGameData.ts","./StructuredDailyChallengeHistory.ts","./StructuredHistory.ts","./SudokuData.ts","./SudokuPlayerData.ts","./ThemeConfig.ts","./UndoRecord.ts","./sudoku.ts","./Init.ts","./LoadingViewComp.ts","./GameLogic.ts","./SolveTypes.ts","./SudokuSolverEngine.ts","./HintConfig.ts","./SolvingStep.ts","./BaseStrategy.ts","./BoxLineReductionStrategy.ts","./CandidateErrorStrategy.ts","./FinnedXWingStrategy.ts","./HiddenSinglesStrategy.ts","./HiddenSubsetStrategy.ts","./JellyFishStrategy.ts","./NakedSubsetStrategy.ts","./PointingPairStrategy.ts","./RectangleEliminationStrategy.ts","./SashimiXWingStrategy.ts","./SingleCandidateStrategy.ts","./SkyscraperStrategy.ts","./SwordFishStrategy.ts","./TwoStringKiteStrategy.ts","./UniqueRectangleType1Strategy.ts","./UniqueRectangleType2Strategy.ts","./WWingStrategy.ts","./WXYZWingStrategy.ts","./XWingStrategy.ts","./XYChainStrategy.ts","./XYWingStrategy.ts","./XYZWingStrategy.ts","./YWingStrategy.ts","./SolverUtils.ts","./DailyChallengeManager.ts","./DifficultyManager.ts","./GameManager2.ts","./HistoryManager.ts","./SettingsManager.ts","./StatisticsManager.ts","./GameModel.ts","./LocalPuzzleService.ts","./NetworkService.ts","./CustomToggle.ts","./DailyChallengePageItem.ts","./HintBtn.ts","./HintPageItem.ts","./HintPageView.ts","./HistoryDayItem.ts","./HistoryItem.ts","./LanguageToggle.ts","./LevelItem.ts","./NoteNumber.ts","./NumberBtn.ts","./RefreshThemeAccentColor.ts","./RefreshThemeBG.ts","./RefreshThemeNeutralColor.ts","./RefreshThemePrimaryColor.ts","./RefreshThemeSecondaryColor.ts","./SettingItem.ts","./SudokuCell.ts","./SudokuGrid.ts","./ThemeToggle.ts","./TimerComponent.ts","./BaseSudokuCell.ts","./BaseSudokuGrid.ts","./DailyChallengePage.ts","./HomePage.ts","./StatisticsPage.ts","./FailPopup.ts","./HistoryPopup.ts","./LanguagePopup.ts","./LevelPopup.ts","./SettingPopup.ts","./SuccessPopup.ts","./ThemePopup.ts","./GameView.ts","./LobbyView.ts","./ObjectPool.ts","./XXHash32.ts","./Oops.ts","./Root.ts","./AudioEffect.ts","./AudioEffectPool.ts","./AudioManager.ts","./AudioMusic.ts","./EventDispatcher.ts","./EventMessage.ts","./MessageManager.ts","./ResLoader.ts","./Logger.ts","./RandomManager.ts","./SeedRandom.ts","./StorageManager.ts","./StorageSecurityCrypto.ts","./StorageSecuritySimple.ts","./Timer.ts","./TimerManager.ts","./GameManager.ts","./Defines.ts","./DelegateComponent.ts","./LayerDialog.ts","./LayerManager.ts","./LayerNotify.ts","./LayerPopup.ts","./LayerUI.ts","./CommonPrompt.ts","./LoadingIndicator.ts","./Notify.ts","./ArrayUtil.ts","./CameraUtil.ts","./DeviceUtil.ts","./EncryptUtil.ts","./ImageUtil.ts","./JsonUtil.ts","./LayerUtil.ts","./MathUtil.ts","./ObjectUtil.ts","./PhysicsUtil.ts","./PlatformUtil.ts","./RegexUtil.ts","./RotateUtil.ts","./StringUtil.ts","./TimeUtils.ts","./Vec3Util.ts","./ViewUtil.ts","./Ambilight.ts","./FlashSpine.ts","./FlashSprite.ts","./SpineFinishedRelease.ts","./Effect2DFollow3D.ts","./EffectDelayRelease.ts","./EffectEvent.ts","./EffectFinishedRelease.ts","./EffectSingleCase.ts","./MoveRigidBody.ts","./MoveTo.ts","./MoveTranslate.ts","./AnimatorAnimation.ts","./AnimatorCustomization.ts","./AnimatorDragonBones.ts","./AnimatorSkeletal.ts","./AnimatorSpine.ts","./AnimatorSpineSecondary.ts","./AnimatorBase.ts","./AnimatorCondition.ts","./AnimatorController.ts","./AnimatorParams.ts","./AnimatorState.ts","./AnimatorStateLogic.ts","./AnimatorTransition.ts","./BTreeNode.ts","./BehaviorTree.ts","./BranchNode.ts","./Decorator.ts","./IControl.ts","./Priority.ts","./Selector.ts","./Sequence.ts","./Task.ts","./index.ts","./FreeFlightCamera.ts","./OrbitCamera.ts","./AsyncQueue.ts","./Collection.ts","./List.ts","./ECS.ts","./ECSComp.ts","./ECSEntity.ts","./ECSGroup.ts","./ECSMask.ts","./ECSMatcher.ts","./ECSModel.ts","./ECSSystem.ts","./ArrayExt.ts","./DateExt.ts","./DirectorExt.ts","./NodeDragExt.ts","./NodeExt.ts","./ButtonEffect.ts","./ButtonSimple.ts","./ButtonTouchLong.ts","./UIButton.ts","./LabelChange.ts","./LabelNumber.ts","./LabelTime.ts","./Language.ts","./LanguageData.ts","./LanguageLabel.ts","./LanguagePack.ts","./LanguageSpine.ts","./LanguageSprite.ts","./JsonOb.ts","./StringFormat.ts","./VMBase.ts","./VMCompsEdit.ts","./VMCustom.ts","./VMEnv.ts","./VMEvent.ts","./VMLabel.ts","./VMModify.ts","./VMParent.ts","./VMProgress.ts","./VMState.ts","./ViewModel.ts","./BhvButtonGroup.ts","./BhvFrameIndex.ts","./BhvRollNumber.ts","./BhvSwitchPage.ts","./HttpRequest.ts","./NetInterface.ts","./NetManager.ts","./NetNode.ts","./NetProtocolPako.ts","./WebSock.ts","./RtToModel.ts","./RtToSprite.ts","./CCComp.ts","./CCVMParentComp.ts","./GameCollision.ts","./GameComponent.ts","./ModuleUtil.ts","./BuildTimeConstants.ts","./Config2.ts","./GameConfig.ts","./GameQueryConfig.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIConfig.ts","./Init.ts","./Oops.ts","./Root.ts"],(function(n){var t,i,r,o,e,a,c,s,u,f,p;return{setters:[function(n){t=n.inheritsLoose,i=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){o=n.cclegacy,e=n._decorator,a=n.macro,c=n.DynamicAtlasManager},function(n){s=n.UIConfigData},function(n){u=n.Init},function(n){f=n.oops},function(n){p=n.Root}],execute:function(){var l;o._RF.push({},"0eec0s4qrZF7onPlYBrD+y+","Main",void 0);var y=e.ccclass;e.property;a.CLEANUP_IMAGE_CACHE=!1,c.instance.enabled=!0,c.instance.maxFrameSize=512;n("Main",y("Main")(l=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var e=o.prototype;return e.start=function(){var n=i(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),e.run=function(){u.startGameInitialization()},e.initGui=function(){f.gui.init(s)},e.onDestroy=function(){},o}(p))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8c615ZS4PRMPKPA9ZqKjiJC","MathUtil",void 0);var r=t("MathUtil",function(){function t(){}return t.sign=function(t){return t>0?1:t<0?-1:0},t.progress=function(t,n,r){return t+(n-t)*r},t.lerp=function(t,n,r){return r>1?r=1:r<0&&(r=0),t*(1-r)+n*r},t.lerpAngle=function(n,r,e){var u=(r%=360)-(n%=360);return u>180?r=n-(360-u):u<-180&&(r=n+(360+u)),(t.lerp(n,r,e)%360+360)%360},t.angleTowards=function(t,n,r){var e=(n%=360)-(t%=360);e>180?n=t-(360-e):e<-180&&(n=t+(360+e));var u=n-t;return r>Math.abs(u)?n:((t+r*Math.sign(u))%360+360)%360},t.clamp=function(t,n,r){return t<n?n:t>r?r:t},t.probability=function(t){return Math.random()<t},t}());r.deg2Rad=Math.PI/180,r.rad2Deg=180/Math.PI,n._RF.pop()}}}));

System.register("chunks:///_virtual/MessageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,s;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e.warn,s=e.log}],execute:function(){n._RF.push({},"a401fY+wj9NsqOACoZ7Zy/R","MessageManager",void 0);var o=function(){this.event=void 0,this.listener=void 0,this.object=void 0},a=(e("MessageEventData",function(){function e(){this.events=new Map}var n=e.prototype;return n.on=function(e,t,n){var r=this.events.get(e);null==r&&(r=[],this.events.set(e,r));var s=new o;s.event=e,s.listener=t,s.object=n,r.push(s),i.on(e,t,n)},n.off=function(e){var n=this.events.get(e);if(n){for(var r,s=t(n);!(r=s()).done;){var o=r.value;i.off(e,o.listener,o.object)}this.events.delete(e)}},n.dispatchEvent=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.dispatchEvent.apply(i,[e].concat(n))},n.clear=function(){for(var e=0,t=Array.from(this.events.keys());e<t.length;e++){var n=t[e];this.off(n)}},e}()),e("MessageManager",function(){function e(){this.events=new Map}var t=e.prototype;return t.on=function(e,t,n){if(e&&t){var s=this.events.get(e);null==s&&(s=[],this.events.set(e,s));for(var a=s.length,i=0;i<a;i++){var v=s[i];v.listener==t&&v.object==n&&r("名为【"+e+"】的事件重复注册侦听器")}var c=new o;c.event=e,c.listener=t,c.object=n,s.push(c)}else r("注册【"+e+"】事件的侦听器函数为空")},t.once=function(e,t,n){var r=this,s=function(o){r.off(e,s,n),s=null;for(var a=arguments.length,i=new Array(a>1?a-1:0),v=1;v<a;v++)i[v-1]=arguments[v];t.call(n,o,i)};this.on(e,s,n)},t.off=function(e,t,n){var r=this.events.get(e);if(r){for(var o=r.length,a=0;a<o;a++){var i=r[a];if(i.listener==t&&i.object==n){r.splice(a,1);break}}0==r.length&&this.events.delete(e)}else s("名为【"+e+"】的事件不存在")},t.dispatchEvent=function(e){var t=this.events.get(e);if(null!=t){for(var n=t.concat(),r=n.length,s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];for(var i=0;i<r;i++){var v,c=n[i];(v=c.listener).call.apply(v,[c.object,e].concat(o))}}},e}())),i=e("message",new a);n._RF.pop()}}}));

System.register("chunks:///_virtual/ModuleUtil.ts",["cc","./Oops.ts","./ViewUtil.ts"],(function(n){var e,o,t;return{setters:[function(n){e=n.cclegacy},function(n){o=n.oops},function(n){t=n.ViewUtil}],execute:function(){e._RF.push({},"52a6cdAO5tGxaeE1TprZ5VK","ModuleUtil",void 0);n("ModuleUtil",function(){function n(){}return n.addViewUi=function(n,e,t,i){void 0===i&&(i=null);var u={onAdded:function(o,t){var i=o.getComponent(e);n.add(i)}};o.gui.open(t,i,u)},n.addViewUiAsync=function(n,e,t,i){return void 0===i&&(i=null),new Promise((function(u,d){var c={onAdded:function(o,t){var i=o.getComponent(e);n.add(i),u(o)},onLoadFailure:function(){u(null)}};o.gui.open(t,i,c)}))},n.addView=function(n,e,o,i){var u=t.createPrefabNode(i),d=u.getComponent(e);n.add(d),u.parent=o},n.removeViewUi=function(n,e,t,i){void 0===i&&(i=!0),n.remove(e,i),o.gui.remove(t,i)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/MoveRigidBody.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,o,n,s,a,p,l,c,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){s=t.cclegacy,a=t._decorator,p=t.Vec3,l=t.RigidBody,c=t.EPSILON,y=t.Component}],execute:function(){var d,u,h,g,_,f,v,m,b,B,M;s._RF.push({},"4e8cedkWeJDEZoUMtauac/M","MoveRigidBody",void 0);var w=a.ccclass,A=a.property,S=new p,z=new p;t("MoveRigidBody",(d=w("MoveRigidBody"),u=A({tooltip:"阻尼"}),h=A({tooltip:"重力"}),g=A({tooltip:"移动速度"}),_=A({tooltip:"速度比率"}),d((m=e((v=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,r(e,"damping",m,o(e)),r(e,"gravity",b,o(e)),r(e,"_speed",B,o(e)),r(e,"_ratio",M,o(e)),e._rigidBody=null,e._grounded=!0,e._curMaxSpeed=0,e._prevAngleY=0,e._stateX=0,e._stateZ=0,e._velocity=new p,e}i(e,t);var s=e.prototype;return s.start=function(){this._rigidBody=this.getComponent(l),this._prevAngleY=this.node.eulerAngles.y},s.stop=function(){this._stateX=0,this._stateZ=0,this._rigidBody.clearVelocity()},s.update=function(t){this.applyGravity(),this.applyDamping(t),this.grounded&&this.applyLinearVelocity(S,1)},s.applyGravity=function(){var t=this.gravity,e=this._rigidBody.mass;z.set(0,e*t,0),this._rigidBody.applyForce(z)},s.applyDamping=function(t){this._rigidBody.getLinearVelocity(z),z.lengthSqr()>c&&(z.multiplyScalar(Math.pow(1-this.damping,t)),this._rigidBody.setLinearVelocity(z))},s.applyLinearVelocity=function(t,e){if(this._stateX||this._stateZ){S.set(this._stateX,0,this._stateZ),S.normalize(),this._rigidBody.getLinearVelocity(z),p.scaleAndAdd(z,z,t,e);var i=this._curMaxSpeed,r=1;z.lengthSqr()>i&&(Math.abs(this.node.eulerAngles.y-this._prevAngleY)>=10&&(r=2),this._prevAngleY=this.node.eulerAngles.y,z.normalize(),z.multiplyScalar(i/r)),this._rigidBody.setLinearVelocity(z)}},n(e,[{key:"speed",get:function(){return this._speed},set:function(t){this._speed=t,this._curMaxSpeed=t*this.ratio}},{key:"ratio",get:function(){return this._ratio},set:function(t){this._ratio=t,this._curMaxSpeed=this.speed*t}},{key:"grounded",get:function(){return this._grounded}},{key:"velocity",get:function(){return this._velocity},set:function(t){this._velocity=t;var e=t.x,i=t.z;(e>0&&this._stateX<0||e<0&&this._stateX>0||i>0&&this._stateZ<0||i<0&&this._stateZ>0)&&this._rigidBody.clearVelocity(),this._stateX=e,this._stateZ=i}}]),e}(y)).prototype,"damping",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),b=e(v.prototype,"gravity",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-10}}),B=e(v.prototype,"_speed",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),e(v.prototype,"speed",[g],Object.getOwnPropertyDescriptor(v.prototype,"speed"),v.prototype),M=e(v.prototype,"_ratio",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(v.prototype,"ratio",[_],Object.getOwnPropertyDescriptor(v.prototype,"ratio"),v.prototype),f=v))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/MoveTo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Timer.ts","./Vec3Util.ts"],(function(t){var e,i,s,o,n,l,h,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,o=t.Node,n=t.Vec3,l=t.Component},function(t){h=t.Timer},function(t){r=t.Vec3Util}],execute:function(){var a;i._RF.push({},"5e22a+qWUpI6ZHSVRRj2DYT","MoveTo",void 0);var c=s.ccclass;s.property,t("MoveTo",c("MoveTo")(a=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).target=null,e.velocity=r.zero,e.speed=0,e.hasYAxis=!0,e.ns=o.NodeSpace.LOCAL,e.offset=0,e.offsetVector=null,e.onStart=null,e.onComplete=null,e.onChange=null,e.timer=new h,e.end=null,e}e(i,t);var s=i.prototype;return s.onLoad=function(){this.enabled=!1},s.move=function(){this.enabled=!0},s.update=function(t){var e;if(console.assert(this.speed>0,"移动速度必须要大于零"),null!=(e=this.target instanceof o?this.ns==o.NodeSpace.WORLD?this.target.worldPosition:this.target.position:this.target)){if(null==this.end||!this.end.strictEquals(e)){var i,s=e.clone();this.offsetVector&&(s=s.add(this.offsetVector)),0==this.hasYAxis&&(s.y=0);var l=this.ns==o.NodeSpace.WORLD?this.node.worldPosition:this.node.position;this.velocity=r.sub(s,l).normalize();var h,a=n.distance(l,s)-this.offset;if(null==(i=this.onChange)||i.call(this),a<=0)return void this.exit();null==(h=this.onStart)||h.call(this),this.timer.step=a/this.speed,this.end=e.clone()}if(this.speed>0){var c=r.mul(this.velocity,this.speed*t);this.ns==o.NodeSpace.WORLD?this.node.worldPosition=r.add(this.node.worldPosition,c):this.node.position=r.add(this.node.position,c)}this.timer.update(t)&&(0==this.offset&&(this.ns==o.NodeSpace.WORLD?this.node.worldPosition=this.end:this.node.position=this.end),this.exit())}else this.exit()},s.exit=function(){var t;null==(t=this.onComplete)||t.call(this),this.enabled=!1,this.target=null,this.velocity=r.zero,this.speed=0,this.hasYAxis=!0,this.ns=o.NodeSpace.LOCAL,this.offset=0,this.offsetVector=null,this.onStart=null,this.onComplete=null,this.onChange=null,this.timer.reset(),this.end=null},i}(l))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/MoveTranslate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vec3Util.ts"],(function(e){var t,o,r,n,c,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,r=e._decorator,n=e.Vec3,c=e.Node,s=e.Component},function(e){a=e.Vec3Util}],execute:function(){var i;o._RF.push({},"e626612zClLO4OZDEWvT+fr","MoveTranslate",void 0);var l=r.ccclass;r.property,e("MoveTranslate",l("MoveTranslate")(i=function(e){function o(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))||this).velocity=a.zero,t.speed=0,t.vector=new n,t}return t(o,e),o.prototype.update=function(e){this.speed>0&&(n.multiplyScalar(this.vector,this.velocity,this.speed*e),this.node.translate(this.vector,c.NodeSpace.WORLD))},o}(s))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/NakedSubsetStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(e){var t,r,o,n,a,c,i,u,l,s;return{setters:[function(e){t=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,o=e.createClass},function(e){n=e.cclegacy},function(e){a=e.HighlightConfig},function(e){c=e.HighlightAreaType,i=e.BLANK_CHAR},function(e){u=e.BaseStrategy},function(e){l=e.SolverUtils},function(e){s=e.oops}],execute:function(){n._RF.push({},"7ba39FkFdFBCpfFcKlN7JFy","NakedSubsetStrategy",void 0);e("NakedSubsetStrategy",function(e){function n(){for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).difficulty=3,t}t(n,e);var u=n.prototype;return u.execute=function(e,t){for(var r=2;r<=4;r++){var o=this.checkNakedSubsets(e,t,r);if(o)return o}return null},u.checkNakedSubsets=function(e,t,o){for(var n,a=r([c.ROW,c.COLUMN,c.BOX]);!(n=a()).done;)for(var i=n.value,u=0;u<9;u++){var l=this.findNakedSubsetInArea(e,t,i,u,o);if(l)return this.createNakedSubsetSteps(e,t,l,i)}return null},u.findNakedSubsetInArea=function(e,t,o,n,a){for(var c,u,l=this.getAreaCells(o,n).filter((function(t){return e[t.row][t.col]===i})),s=this.getCandidateCombinations(l,t,a),g=function(){var e=u.value,r=e.cells,c=e.values;if(r.every((function(e){var r=t[e.row][e.col];return r.size<=a&&[].concat(c).every((function(e){return r.has(e)}))}))){var i=l.filter((function(e){return!r.some((function(t){return t.row===e.row&&t.col===e.col}))&&[].concat(c).some((function(r){return t[e.row][e.col].has(r)}))}));if(i.length>0)return{v:{cells:r,values:c,affectedCells:i,areaType:o,areaIndex:n}}}},f=r(s);!(u=f()).done;)if(c=g())return c.v;return null},u.createNakedSubsetSteps=function(e,t,r,o){var n=[],a=r.cells,c=r.values,i=r.affectedCells,u=this.getSubsetName(c.size);return n.push(this.createDiscoveryStep(e,t,a,c,i,u,o)),n.push(this.createRuleExplanationStep(e,t,a,c,i,u,o)),n.push(this.createImpactDemonstrationStep(e,t,a,c,i,u,o)),n.push(this.createRemovalExecutionStep(e,t,a,c,i,u,o)),n},u.createDiscoveryStep=function(e,t,r,o,n,c,u){var l=this,g=this.getHighlightAreaCells(r[0],u),f=g.filter((function(t){return e[t.row][t.col]!==i})),d=g.filter((function(t){return e[t.row][t.col]===i&&!r.some((function(e){return e.row===t.row&&e.col===t.col}))}));return{technique:this.name,stepId:1,position:r[0],value:0,get description(){return s.language.getLangByID("NakedSubsetStrategy.discoveryDes",{name:l.name,description:l.description})},highlights:[].concat(r.map((function(e){return{position:e,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}})),d.map((function(e){return{position:e,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}})),f.map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,value:e[t.row][t.col]}})))}},u.createRuleExplanationStep=function(e,t,r,o,n,c,u){var l=this,g=(this.getAreaName(u),[].concat(o).sort()),f=this.getHighlightAreaCells(r[0],u),d=f.filter((function(t){return e[t.row][t.col]!==i})),h=f.filter((function(t){return e[t.row][t.col]===i&&!r.some((function(e){return e.row===t.row&&e.col===t.col}))}));return{technique:this.name,stepId:2,position:r[0],value:0,get description(){return s.language.getLangByID("NakedSubsetStrategy.ruleExplanationDes",{name:l.name,valueListStr:g.join(",")})},highlights:[].concat(r.map((function(e){return{position:e,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}})),h.map((function(e){return{position:e,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}})),d.map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,value:e[t.row][t.col]}}))),highlightNotes:[].concat(r.flatMap((function(r){return l.getPencilMarks(r,e,t).map((function(e){return{position:r,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:e}}))})))}},u.createImpactDemonstrationStep=function(e,t,r,o,n,c,u){var l=this,g=this.getAreaName(u),f=[].concat(o).sort(),d=this.getHighlightAreaCells(r[0],u),h=d.filter((function(t){return e[t.row][t.col]!==i})),p=d.filter((function(t){return e[t.row][t.col]===i&&!r.some((function(e){return e.row===t.row&&e.col===t.col}))}));return{technique:this.name,stepId:3,position:r[0],value:0,get description(){return s.language.getLangByID("NakedSubsetStrategy.impactDemonstrationDes",{name:l.name,valueListStr:f.join(","),areaName:g})},highlights:[].concat(r.map((function(e){return{position:e,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}})),p.map((function(e){return{position:e,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}})),h.map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,value:e[t.row][t.col]}}))),highlightNotes:[].concat(r.flatMap((function(r){return l.getPencilMarks(r,e,t).map((function(e){return{position:r,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:e}}))})),p.flatMap((function(r){return l.getPencilMarks(r,e,t).filter((function(e){return f.includes(e)})).map((function(e){return{position:r,backgroundColor:a.hintRemoveCell.background,textColor:a.hintRemoveCell.textColor,value:e}}))})))}},u.createRemovalExecutionStep=function(e,t,r,o,n,c,u){var l=this,g=[].concat(o).sort(),f=this.getAreaName(u),d=this.getHighlightAreaCells(r[0],u),h=d.filter((function(t){return e[t.row][t.col]!==i})),p=d.filter((function(t){return e[t.row][t.col]===i&&!r.some((function(e){return e.row===t.row&&e.col===t.col}))}));n.forEach((function(e){o.forEach((function(r){t[e.row][e.col].delete(r)}))})),console.log("candidates->",t);return{technique:this.name,stepId:4,position:r[0],value:0,get description(){return s.language.getLangByID("NakedSubsetStrategy.removalExecutionDes",{name:l.name,valueListStr:g.join(","),areaName:f})},highlights:[].concat(r.map((function(e){return{position:e,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}})),p.map((function(e){return{position:e,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}})),h.map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,value:e[t.row][t.col]}})))}},u.getPencilMarks=function(e,t,r){return t[e.row][e.col]!==i?[Number(t[e.row][e.col])]:[].concat(r[e.row][e.col])},u.getSubsetName=function(e){return{2:s.language.getLangByID("NakedSubsetStrategy.subsetName2"),3:s.language.getLangByID("NakedSubsetStrategy.subsetName3"),4:s.language.getLangByID("NakedSubsetStrategy.subsetName4")}[e]||s.language.getLangByID("NakedSubsetStrategy.subsetName1")},u.getAreaName=function(e){var t;return(t={},t[c.ROW]=s.language.getLangByID("strategy.row"),t[c.COLUMN]=s.language.getLangByID("strategy.col"),t[c.BOX]=s.language.getLangByID("strategy.box"),t)[e]},u.getAreaCells=function(e,t){if(e===c.ROW)return Array.from({length:9},(function(e,r){return{row:t,col:r}}));if(e===c.COLUMN)return Array.from({length:9},(function(e,r){return{row:r,col:t}}));for(var r=3*Math.floor(t/3),o=t%3*3,n=[],a=0;a<3;a++)for(var i=0;i<3;i++)n.push({row:r+a,col:o+i});return n},u.getHighlightAreaCells=function(e,t){if(t===c.ROW)return Array.from({length:9},(function(t,r){return{row:e.row,col:r}}));if(t===c.COLUMN)return Array.from({length:9},(function(t,r){return{row:r,col:e.col}}));for(var r=3*Math.floor(e.row/3),o=3*Math.floor(e.col/3),n=[],a=0;a<3;a++)for(var i=0;i<3;i++)n.push({row:r+a,col:o+i});return n},u.getCandidateCombinations=function(e,t,o){var n=[],a=new Set;e.forEach((function(e){t[e.row][e.col].forEach((function(e){return a.add(e)}))}));for(var c,i=l.getCombinations([].concat(a),o),u=function(){var r=c.value,a=new Set(r),i=e.filter((function(e){var r=t[e.row][e.col];return[].concat(a).every((function(e){return r.has(e)}))}));i.length>=o&&l.getCombinations(i,o).forEach((function(e){n.push({cells:e,values:a})}))},s=r(i);!(c=s()).done;)u();return n},o(n,[{key:"name",get:function(){return s.language.getLangByID("NakedSubsetStrategy.name")}},{key:"description",get:function(){return s.language.getLangByID("NakedSubsetStrategy.description")}}]),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/NetInterface.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d9f8b+CV69FyKwnUdCjOtad","NetInterface",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/NetManager.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"d8cd5el6GBGTYTW+N8b8EuJ","NetManager",void 0),n("NetManager",function(){function n(){this._channels={}}n.getInstance=function(){return this._instance||(this._instance=new n),this._instance};var e=n.prototype;return e.setNetNode=function(n,e){void 0===e&&(e=0),this._channels[e]=n},e.removeNetNode=function(n){delete this._channels[n]},e.connect=function(n,e){return void 0===e&&(e=0),!!this._channels[e]&&this._channels[e].connect(n)},e.send=function(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=0);var i=this._channels[t];return i?i.send(n,e):-1},e.request=function(n,e,t,i,s){void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===s&&(s=0);var c=this._channels[s];c&&c.request(n,e,t,i)},e.requestUnique=function(n,e,t,i,s){void 0===t&&(t=!0),void 0===i&&(i=!1),void 0===s&&(s=0);var c=this._channels[s];return!!c&&c.requestUnique(n,e,t,i)},e.close=function(n,e,t){if(void 0===t&&(t=0),this._channels[t])return this._channels[t].closeSocket(n,e)},n}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/NetNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(e){var t,s,i,n,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,i=e.error,n=e.warn},function(e){o=e.Logger}],execute:function(){s._RF.push({},"57f0fB90kNBUJ98yyu+jxjx","NetNode",void 0);var r=["已关闭","连接中","验证中","可传输数据"],c=e("NetTipsType",function(e){return e[e.Connecting=0]="Connecting",e[e.ReConnecting=1]="ReConnecting",e[e.Requesting=2]="Requesting",e}({})),l=e("NetNodeState",function(e){return e[e.Closed=0]="Closed",e[e.Connecting=1]="Connecting",e[e.Checking=2]="Checking",e[e.Working=3]="Working",e}({}));e("NetNode",function(){function e(){this._connectOptions=null,this._autoReconnect=0,this._isSocketInit=!1,this._isSocketOpen=!1,this._state=l.Closed,this._socket=null,this._networkTips=null,this._protocolHelper=null,this._connectedCallback=null,this._disconnectCallback=null,this._callbackExecuter=null,this._keepAliveTimer=null,this._receiveMsgTimer=null,this._reconnectTimer=null,this._heartTime=1e4,this._receiveTime=6e6,this._reconnetTimeOut=8e6,this._requests=Array(),this._listener={}}var s=e.prototype;return s.init=function(e,t,s,i){void 0===s&&(s=null),void 0===i&&(i=null),o.logNet("网络初始化"),this._socket=e,this._protocolHelper=t,this._networkTips=s,this._callbackExecuter=i||function(e,t){e.callback.call(e.target,t)}},s.connect=function(e){return!(!this._socket||this._state!=l.Closed)&&(this._isSocketInit||this.initSocket(),this._state=l.Connecting,this._socket.connect(e)?(null==this._connectOptions&&"number"==typeof e.autoReconnect&&(this._autoReconnect=e.autoReconnect),this._connectOptions=e,this.updateNetTips(c.Connecting,!0),!0):(this.updateNetTips(c.Connecting,!1),!1))},s.initSocket=function(){var e=this;this._socket&&(this._socket.onConnected=function(t){e.onConnected(t)},this._socket.onMessage=function(t){e.onMessage(t)},this._socket.onError=function(t){e.onError(t)},this._socket.onClosed=function(t){e.onClosed(t)},this._isSocketInit=!0)},s.updateNetTips=function(e,t){this._networkTips&&(e==c.Requesting?this._networkTips.requestTips(t):e==c.Connecting?this._networkTips.connectTips(t):e==c.ReConnecting&&this._networkTips.reconnectTips(t))},s.onConnected=function(e){var t=this;o.logNet("网络已连接"),this._isSocketOpen=!0,null!==this._connectedCallback?(this._state=l.Checking,this._connectedCallback((function(){t.onChecked()}))):this.onChecked(),o.logNet("网络已连接当前状态为【"+r[this._state]+"】")},s.onChecked=function(){o.logNet("连接验证成功，进入工作状态"),this._state=l.Working,this.updateNetTips(c.Connecting,!1),this.updateNetTips(c.ReConnecting,!1);var e=this._requests.concat();if(e.length>0){o.logNet("请求【"+this._requests.length+"】个待发送的信息");for(var t=0;t<e.length;){var s=e[t];this._socket.send(s.buffer),null==s.rspObject||""!=s.rspCmd?e.splice(t,1):++t}this.updateNetTips(c.Requesting,this._requests.length>0)}},s.onMessage=function(e){var s=JSON.parse(e);if(this._protocolHelper.checkResponsePackage(s)){this._protocolHelper.handlerResponsePackage(s)||this._networkTips&&this._networkTips.responseErrorCode(s.code),this.resetReceiveMsgTimer(),this.resetHearbeatTimer();var n=this._protocolHelper.getPackageId(s);if(o.logNet("接受到命令【"+n+"】的消息"),this._requests.length>0){for(var r in this._requests){var l=this._requests[r];if(l.rspCmd==n&&l.rspObject){o.logNet("触发请求命令【"+n+"】的回调"),this._callbackExecuter(l.rspObject,s.data),this._requests.splice(parseInt(r),1);break}}0==this._requests.length?this.updateNetTips(c.Requesting,!1):o.logNet("请求队列中还有【"+this._requests.length+"】个请求在等待")}var h=this._listener[n];if(null!=h)for(var u,a=t(h);!(u=a()).done;){var _=u.value;o.logNet("触发监听命令【"+n+"】的回调"),this._callbackExecuter(_,s.data)}}else i("校验接受消息数据异常")},s.onError=function(e){i(e)},s.onClosed=function(e){var t=this;this.clearTimer(),!this._disconnectCallback||this._disconnectCallback()?this.isAutoReconnect()?(this.updateNetTips(c.ReConnecting,!0),this._reconnectTimer=setTimeout((function(){t._socket.close(),t._state=l.Closed,t.connect(t._connectOptions),t._autoReconnect>0&&(t._autoReconnect-=1)}),this._reconnetTimeOut)):this._state=l.Closed:o.logNet("断开连接")},s.close=function(e,t){this.clearTimer(),this._listener={},this._requests.length=0,this._networkTips&&(this._networkTips.connectTips(!1),this._networkTips.reconnectTips(!1),this._networkTips.requestTips(!1)),this._socket?this._socket.close(e,t):this._state=l.Closed},s.closeSocket=function(e,t){this._socket&&this._socket.close(e,t)},s.send=function(e,t){return void 0===t&&(t=!1),this._state==l.Working||t?this._socket.send(e):this._state==l.Checking||this._state==l.Connecting?(this._requests.push({buffer:e,rspCmd:"",rspObject:null}),o.logNet("当前状态为【"+r[this._state]+"】,繁忙并缓冲发送数据"),0):(i("当前状态为【"+r[this._state]+"】,请求错误"),-1)},s.request=function(e,t,s,i){void 0===s&&(s=!0),void 0===i&&(i=!1);var n=this._protocolHelper.handlerRequestPackage(e);this.base_request(e,n,t,s,i)},s.requestUnique=function(e,t,s,i){void 0===s&&(s=!0),void 0===i&&(i=!1);for(var n=this._protocolHelper.handlerRequestPackage(e),r=0;r<this._requests.length;++r)if(this._requests[r].rspCmd==n)return o.logNet("命令【"+n+"】重复请求"),!1;return this.base_request(e,n,t,s,i),!0},s.base_request=function(e,t,s,i,n){void 0===i&&(i=!0),void 0===n&&(n=!1);var r=JSON.stringify(e);(this._state==l.Working||n)&&this._socket.send(r),o.logNet("队列命令为【"+t+"】的请求，等待请求数据的回调"),this._requests.push({buffer:r,rspCmd:t,rspObject:s}),i&&this.updateNetTips(c.Requesting,!0)},s.setResponeHandler=function(e,t,s){return null==t?(i("命令为【"+e+"】设置响应处理程序错误"),!1):(this._listener[e]=[{target:s,callback:t}],!0)},s.addResponeHandler=function(e,t,s){if(null==t)return i("命令为【"+e+"】添加响应处理程序错误"),!1;var n={target:s,callback:t};null==this._listener[e]?this._listener[e]=[n]:-1==this.getNetListenersIndex(e,n)&&this._listener[e].push(n);return!0},s.removeResponeHandler=function(e,t,s){if(null!=this._listener[e]&&null!=t){var i=this.getNetListenersIndex(e,{target:s,callback:t});-1!=i&&this._listener[e].splice(i,1)}},s.cleanListeners=function(e){void 0===e&&(e=""),""==e?this._listener={}:delete this._listener[e]},s.getNetListenersIndex=function(e,t){for(var s=-1,i=0;i<this._listener[e].length;i++){var n=this._listener[e][i];if(n.callback==t.callback&&n.target==t.target){s=i;break}}return s},s.resetReceiveMsgTimer=function(){var e=this;null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),this._receiveMsgTimer=setTimeout((function(){n("接收消息定时器关闭网络连接"),e._socket.close()}),this._receiveTime)},s.resetHearbeatTimer=function(){var e=this;null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),this._keepAliveTimer=setTimeout((function(){o.logNet("网络节点保持活跃发送心跳信息"),e.send(e._protocolHelper.getHearbeat())}),this._heartTime)},s.clearTimer=function(){null!==this._receiveMsgTimer&&clearTimeout(this._receiveMsgTimer),null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),null!==this._reconnectTimer&&clearTimeout(this._reconnectTimer)},s.isAutoReconnect=function(){return 0!=this._autoReconnect},s.rejectReconnect=function(){this._autoReconnect=0,this.clearTimer()},e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/NetProtocolPako.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"88ae0lIg5BFWb1O1E8/Etwi","NetProtocolPako",void 0);t("NetProtocolPako",function(){function t(){}var e=t.prototype;return e.getHeadlen=function(){return 0},e.getHearbeat=function(){return""},e.getPackageLen=function(t){return t.toString().length},e.checkResponsePackage=function(t){return!0},e.handlerResponsePackage=function(t){return 1==t.code&&(t.isCompress&&(t.data=(e=t.data,n=e.split("").map((function(t){return t.charCodeAt(0)})),a=new Uint8Array(n),pako.inflate(a,{to:"string"}))),t.data=JSON.parse(t.data),!0);var e,n,a},e.handlerRequestPackage=function(t){var e,n=t.cmd;return t.callback=n,t.isCompress&&(t.data=(e=t.data,pako.gzip(e,{to:"string"}))),n},e.getPackageId=function(t){return t.callback},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameLogic.ts","./LocalPuzzleService.ts","./Oops.ts","./HttpRequest.ts","./sudoku.ts","./XXHash32.ts"],(function(t){var n,e,r,i,o,s,u,a,c;return{setters:[function(t){n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){i=t.GameLogic},function(t){o=t.LocalPuzzleService},function(t){s=t.oops},function(t){u=t.HttpReturn},function(t){a=t.solve},function(t){c=t.XXHash32}],execute:function(){r._RF.push({},"42f0aAutGFC77rrS5D7eL1V","NetworkService",void 0);t("NetworkService",function(){function t(){}return t.getAsync=function(){var t=n(e().mark((function t(n,r,i){var o,a,c;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!0),void 0===i&&(i=null),5e3,o=null,a=new Promise((function(t){o=setTimeout((function(){console.warn("请求超时！"),r&&s.gui.waitClose(),t(new u)}),5e3)})),t.prev=5,r&&s.gui.waitOpen(),t.next=9,Promise.race([s.http.getAsync(n,i),a]);case 9:return c=t.sent,o&&(clearTimeout(o),o=null),t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(5),console.warn("请求发生错误:",t.t0),t.abrupt("return",new u);case 18:return t.prev=18,r&&s.gui.waitClose(),o&&(clearTimeout(o),o=null),t.finish(18);case 22:case"end":return t.stop()}}),t,null,[[5,14,18,22]])})));return function(n,e,r){return t.apply(this,arguments)}}(),t.generate=function(){var t=n(e().mark((function t(n,r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.getInstance().getRandomPuzzleByDifficulty(n));case 2:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),t.generateDailyChallenge=function(){var t=n(e().mark((function t(n,r){var s;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.formatDateToYYYYMMDD(r),console.log("每日挑战时间date->",s),t.abrupt("return",o.getInstance().getRandomPuzzleByDifficulty(n));case 3:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),t.test_data=function(){var t="610020478850740090000080053180357000030260010000190030347010080001870345508439701";return{mission:t,solution:a(t)}},t.hiddenSingles_test_data=function(){var t="000000600760090200040008300000000016300056728006080030900002800600001000007004102";return{mission:t,solution:a(t)}},t.y_wing_test_data=function(){return{mission:"900240000050690231020050090090700320002935607070002900069020073510079062207086009",solution:"931247586754698231628153794195764328482935617376812945869521473513479862247386159"}},t.w_wing_test_data=function(){var t="078026300630000000050400068890000402300000510005200890006800030500049600003502000";return{mission:t,solution:a(t)}},t.skyscraper_test_data=function(){var t="002946083034008026608372104009705602005620009326091075203007061067000248001260307";return{mission:t,solution:a(t)}},t.XYChain_test_data=function(){var t="080103070090506000001408020578241639143659782926837451037905200000304097419782060";return{mission:t,solution:a(t)}},t.XY_Wing_test_data=function(){var t="004010035001700804608540271189604003400001000267305410012958046006432100840167000";return{mission:t,solution:a(t)}},t.XYZ_Wing_test_data=function(){var t="869453721000921568215800439621534987407610352000200146000102803932785614100340205";return{mission:t,solution:a(t)}},t.WXYZ_Wing_test_data=function(){var t="000024730540370260237000004700030840003481000084060003300000059070093002006205300";return{mission:t,solution:a(t)}},t.Swordfish_Wing_test_data=function(){var t="020043069003896200960025030890560013600030000030081026300010070009674302270358090";return{mission:t,solution:a(t)}},t.JellyFishStrategy_Wing_test_data=function(){var t="204103580000020341103485600732954168005010900619832400001508200300240000026300004";return{mission:t,solution:a(t)}},t.TwoStringKite_test_data=function(){var t="320547906006213050045698230500472000007901025002805700214359678673184592050726143";return{mission:t,solution:a(t)}},t.RectangleElimination_test_data=function(){var t="580179003000608975697350000900530728703810500850907130469281357008765000075493000";return{mission:t,solution:a(t)}},t.UniqueRectangleType1_test_data=function(){var t="197846532008050719352917648831769425524138976009524183086400001003600007905000064";return{mission:t,solution:a(t)}},t.UniqueRectangleType2_test_data=function(){var t="070903082000020000200407001605002109020004060708000205900205006002070000010309020";return{mission:t,solution:a(t)}},t.FinnedXWingStrategy_test_data=function(){var t="052670308030005627670032501280006105060000204714523869827314956090267483346958712";return{mission:t,solution:a(t)}},t.SashimiXWingStrategy_test_data=function(){var t="000000389904002561000090724461927853859364172002000496097010048500008907000009005";return{mission:t,solution:a(t)}},t.checkID=function(t,n){var e=c(t);console.log("hash->: "+e);var r=2147483647&e;console.log("计算得到的ID: "+r),r.toString()===n?console.log("ID匹配，题目一致"):console.log("ID不匹配，题目不一致")},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/NodeDragExt.ts",["cc"],(function(){var t,i,n,e,o;return{setters:[function(s){t=s.cclegacy,i=s.Node,n=s.js,e=s.Vec2,o=s.v3}],execute:function(){if(t._RF.push({},"1a072/udu9MtbdbyL5xB8iR","NodeDragExt",void 0),!i.prototype.__$NodeDragExt$__){i.prototype.__$NodeDragExt$__=!0;n.mixin(i,{DragEvent:{DRAG_START:"drag_start",DRAG_MOVE:"drag_move",DRAG_END:"drag_end"}}),n.mixin(i.prototype,{_draggable:!1,_dragging:!1,_dragTesting:!1,_dragStartPoint:null,initDrag:function(){this._draggable?(this.on(i.EventType.TOUCH_START,this.onTouchBegin_0,this),this.on(i.EventType.TOUCH_MOVE,this.onTouchMove_0,this),this.on(i.EventType.TOUCH_END,this.onTouchEnd_0,this),this.on(i.EventType.TOUCH_CANCEL,this.onTouchCancel_0,this)):(this.off(i.EventType.TOUCH_START,this.onTouchBegin_0,this),this.off(i.EventType.TOUCH_MOVE,this.onTouchMove_0,this),this.off(i.EventType.TOUCH_END,this.onTouchEnd_0,this),this.off(i.EventType.TOUCH_CANCEL,this.onTouchCancel_0,this))},onTouchBegin_0:function(t){null==this._dragStartPoint&&(this._dragStartPoint=new e);var i=t.getUILocation();this._dragStartPoint.set(i),this._dragTesting=!0},onTouchMove_0:function(t){if(!this._dragging&&this._draggable&&this._dragTesting){var n=t.getUILocation();if(Math.abs(this._dragStartPoint.x-n.x)<10&&Math.abs(this._dragStartPoint.y-n.y)<10)return;this._dragging=!0,this._dragTesting=!1,this.emit(i.DragEvent.DRAG_START,t)}if(this._dragging){var e=t.getUIDelta(),s=o(e.x,e.y,0).add(this.position);this.position=s,this.emit(i.DragEvent.DRAG_MOVE,t)}},onTouchEnd_0:function(t){this._dragging&&(this._dragging=!1,this.emit(i.DragEvent.DRAG_END,t))},onTouchCancel_0:function(t){this._dragging&&(this._dragging=!1,this.emit(i.DragEvent.DRAG_END,t))},startDrag:function(){this.activeInHierarchy&&this.dragBegin()},dragBegin:function(){this._dragging=!0,this._dragTesting=!0,this.on(i.EventType.TOUCH_MOVE,this.onTouchMove_0,this),this.on(i.EventType.TOUCH_END,this.onTouchEnd_0,this),this.on(i.EventType.TOUCH_CANCEL,this.onTouchCancel_0,this)},dragEnd:function(){this._dragging&&(this._dragTesting=!1,this._dragging=!1)},stopDrag:function(){this.dragEnd()},removeDragEvent:function(){this.off(i.EventType.TOUCH_START,this.onTouchBegin_0,this),this.off(i.EventType.TOUCH_MOVE,this.onTouchMove_0,this),this.off(i.EventType.TOUCH_END,this.onTouchEnd_0,this),this.off(i.EventType.TOUCH_CANCEL,this.onTouchCancel_0,this)}}),Object.defineProperty(i.prototype,"draggable",{get:function(){return this._draggable},set:function(t){this._draggable!=t&&(this._draggable=t,this.initDrag())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dragTesting",{get:function(){return this._dragTesting},set:function(t){this._dragTesting!=t&&(this._dragTesting=t)},enumerable:!0,configurable:!0})}t._RF.pop()}}}));

System.register("chunks:///_virtual/NodeExt.ts",["cc"],(function(){var t,e,n,o,r,i,p,c,s,u,f,g,y,h,l,a,d,m,C,P,b,O,j;return{setters:[function(v){t=v.cclegacy,e=v.Node,n=v.Graphics,o=v.Label,r=v.RichText,i=v.Sprite,p=v.Button,c=v.Canvas,s=v.EditBox,u=v.Layout,f=v.PageView,g=v.ProgressBar,y=v.ScrollView,h=v.Slider,l=v.Toggle,a=v.Widget,d=v.UIOpacity,m=v.UITransform,C=v.Mask,P=v.Size,b=v.UIRenderer,O=v.Color,j=v.v3}],execute:function(){t._RF.push({},"493a6vtAsNCi7/drbKHIAaL","NodeExt",void 0),Object.defineProperty(e.prototype,"uiGraphics",{get:function(){return this.getComponent(n)},set:function(t){}}),Object.defineProperty(e.prototype,"uiLabel",{get:function(){return this.getComponent(o)},set:function(t){}}),Object.defineProperty(e.prototype,"uiRichText",{get:function(){return this.getComponent(r)},set:function(t){}}),Object.defineProperty(e.prototype,"uiSprite",{get:function(){return this.getComponent(i)},set:function(t){}}),Object.defineProperty(e.prototype,"uiButton",{get:function(){return this.getComponent(p)},set:function(t){}}),Object.defineProperty(e.prototype,"uiCanvas",{get:function(){return this.getComponent(c)},set:function(t){}}),Object.defineProperty(e.prototype,"uiEditBox",{get:function(){return this.getComponent(s)},set:function(t){}}),Object.defineProperty(e.prototype,"uiLayout",{get:function(){return this.getComponent(u)},set:function(t){}}),Object.defineProperty(e.prototype,"uiPageView",{get:function(){return this.getComponent(f)},set:function(t){}}),Object.defineProperty(e.prototype,"uiProgressBar",{get:function(){return this.getComponent(g)},set:function(t){}}),Object.defineProperty(e.prototype,"uiScrollView",{get:function(){return this.getComponent(y)},set:function(t){}}),Object.defineProperty(e.prototype,"uiSlider",{get:function(){return this.getComponent(h)},set:function(t){}}),Object.defineProperty(e.prototype,"uiToggle",{get:function(){return this.getComponent(l)},set:function(t){}}),Object.defineProperty(e.prototype,"uiWidget",{get:function(){return this.getComponent(a)},set:function(t){}}),Object.defineProperty(e.prototype,"uiOpacity",{get:function(){return this.getComponent(d)},set:function(t){}}),Object.defineProperty(e.prototype,"uiTransform",{get:function(){return this.getComponent(m)},set:function(t){}}),Object.defineProperty(e.prototype,"uiMask",{get:function(){return this.getComponent(C)},set:function(t){}}),Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.setPosition(t,this.position.y)}}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.setPosition(this.position.x,t)}}),Object.defineProperty(e.prototype,"z",{get:function(){return this.position.z},set:function(t){var e=this;e.setPosition(e.position.x,e.position.y,t)}}),Object.defineProperty(e.prototype,"w",{configurable:!0,get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.width)?t:0},set:function(t){(this.getComponent(m)||this.addComponent(m)).width=t}}),Object.defineProperty(e.prototype,"h",{configurable:!0,get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.height)?t:0},set:function(t){(this.getComponent(m)||this.addComponent(m)).height=t}}),Object.defineProperty(e.prototype,"size",{get:function(){var t=this.getComponent(m);return new P(t.width,t.height)},set:function(t){var e=this.getComponent(m)||this.addComponent(m);e.width=t.width,e.height=t.height}}),Object.defineProperty(e.prototype,"opacity",{get:function(){var t=this.getComponent(d);if(null!=t)return t.opacity;var e=this.getComponent(b);return e?e.color.a:255},set:function(t){var e=this,n=e.getComponent(d);if(null==n){var o=e.getComponent(b);o?(this.$__color__?this.$__color__.a=t:this.$__color__=new O(o.color.r,o.color.g,o.color.b,t),o.color=this.$__color__):e.addComponent(d).opacity=t}else n.opacity=t}}),Object.defineProperty(e.prototype,"color",{get:function(){var t;return null==(t=this.getComponent(b))?void 0:t.color},set:function(t){var e=this.getComponent(b);e&&(e.color=t)}}),Object.defineProperty(e.prototype,"scale_x",{get:function(){return this.scale.x},set:function(t){var e=this;e.scale=j(t,e.scale.y,e.scale.z)}}),Object.defineProperty(e.prototype,"scale_y",{get:function(){return this.scale.y},set:function(t){var e=this;e.scale=j(e.scale.x,t,e.scale.z)}}),Object.defineProperty(e.prototype,"scale_z",{get:function(){return this.scale.z},set:function(t){var e=this;e.scale=j(e.scale.x,e.scale.y,t)}}),Object.defineProperty(e.prototype,"anchor_x",{get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.anchorX)?t:.5},set:function(t){(this.getComponent(m)||this.addComponent(m)).anchorX=t}}),Object.defineProperty(e.prototype,"anchor_y",{get:function(){var t,e;return null!=(t=null==(e=this.getComponent(m))?void 0:e.anchorY)?t:.5},set:function(t){(this.getComponent(m)||this.addComponent(m)).anchorY=t}}),Object.defineProperty(e.prototype,"angle_x",{get:function(){return this.eulerAngles.x},set:function(t){var e=this;e.setRotationFromEuler(t,e.eulerAngles.y,e.eulerAngles.z)}}),Object.defineProperty(e.prototype,"angle_y",{get:function(){return this.eulerAngles.y},set:function(t){var e=this;e.setRotationFromEuler(e.eulerAngles.x,t,e.eulerAngles.z)}}),Object.defineProperty(e.prototype,"angle_z",{get:function(){return this.eulerAngles.y},set:function(t){var e=this;e.setRotationFromEuler(e.eulerAngles.x,e.eulerAngles.y,t)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/NoteNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,o,l,n,a,u,c,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,a=e.Sprite,u=e.Label,c=e.CCInteger,b=e.Component}],execute:function(){var s,p,g,y,f,h,m,v,N;l._RF.push({},"6ca15KpGyVCbYpO+M4qSw0W","NoteNumber",void 0);var d=n.ccclass,C=n.property;e("NoteNumber",(s=d("NoteNumber"),p=C({type:a,tooltip:"背景",visible:!0}),g=C({type:u,tooltip:"数字",visible:!0}),y=C({type:c,tooltip:"数字",visible:!0}),s((m=t((h=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),n=0;n<i;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,r(t,"bg",m,o(t)),r(t,"label",v,o(t)),r(t,"number",N,o(t)),t}i(t,e);var l=t.prototype;return l.start=function(){this.label.string=this.number.toString()},l.setBGColor=function(e){e?(this.bg.node.active=!0,this.bg.color=e):this.bg.node.active=!1},l.setLabelColor=function(e){this.label.color=e},t}(b)).prototype,"bg",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(h.prototype,"label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(h.prototype,"number",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/Notify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageLabel.ts"],(function(n){var t,e,i,o,a,r,l,s,c,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.Label,s=n.Animation,c=n.Component},function(n){u=n.LanguageLabel}],execute:function(){var p,f,h,b,y,m,d;a._RF.push({},"01391Mp6X1Gn554rkzavN4K","Notify",void 0);var g=r.ccclass,v=r.property;n("Notify",(p=g("Notify"),f=v(l),h=v(s),p((m=t((y=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,i(t,"lab_content",m,o(t)),i(t,"animation",d,o(t)),t.onComplete=null,t}e(t,n);var a=t.prototype;return a.onLoad=function(){this.animation&&this.animation.on(s.EventType.FINISHED,this.onFinished,this)},a.onFinished=function(){this.node.destroy(),this.onComplete&&this.onComplete(),this.onComplete=null},a.toast=function(n,t){var e=this.lab_content.getComponent(u);t?(e.enabled=!0,e.dataID=n):(e.enabled=!1,this.lab_content.string=n)},t}(c)).prototype,"lab_content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(y.prototype,"animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/NumberBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventType.ts","./Logger.ts","./Oops.ts"],(function(t){var e,n,i,r,o,l,a,s,u,b,c,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Label,s=t.CCInteger,u=t.Button,b=t.Component},function(t){c=t.EventType},function(t){p=t.Logger},function(t){g=t.oops}],execute:function(){var f,h,m,v,y,L,d,B,C;o._RF.push({},"db7e8JRpqBIMKnilZPd9GCI","NumberBtn",void 0);var N=l.ccclass,w=l.property;t("NumberBtn",(f=N("NumberBtn"),h=w({type:a,tooltip:"按钮数字Label",visible:!0}),m=w({type:a,tooltip:"数字剩余个数",visible:!0}),v=w({type:s,tooltip:"按钮数字",visible:!0}),f((d=e((L=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"btnLabel",d,r(e)),i(e,"countLabel",B,r(e)),i(e,"number",C,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){this.btnLabel.string=this.number.toString()},o.refresh=function(t,e){this.number=t,this.btnLabel.string=this.number.toString(),this.countLabel.string=e.toString();var n=this.node.getComponent(u);n&&(n.interactable=0!=e)},o.setDisable=function(){var t=this.node.getComponent(u);t&&(t.interactable=!1)},o.onClickEvent=function(){p.logView(this.number.toString(),"填写数字"),g.message.dispatchEvent(c.TOUCH_NUMBERBTN,this.number)},o.setCountLabelVisible=function(t){this.countLabel.node.active=t},e}(b)).prototype,"btnLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(L.prototype,"countLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(L.prototype,"number",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=L))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,n,i,s;return{setters:[function(o){e=o.createClass},function(o){t=o.cclegacy,n=o.instantiate,i=o.Node,s=o.NodePool}],execute:function(){t._RF.push({},"36301EPjo1CjpAFb4iPZzs4","ObjectPool",void 0);o("ObjectPool",function(){function o(o,e,t){void 0===e&&(e=50),this._nodePool=void 0,this._prefab=void 0,this._maxSize=void 0,this._component=void 0,this._prefab=o,this._maxSize=e,this._component=t,this._nodePool=t?new s(t):new s}var t=o.prototype;return t.preload=function(o){for(var e=0;e<o;e++){var t=n(this._prefab);this._nodePool.put(t)}},t.get=function(o){var e=this._nodePool.get();if(!e&&this._nodePool.size()<this._maxSize){var t=n(this._prefab);this._nodePool.put(t),e=this._nodePool.get()}return e?(o&&(e.setParent(o),e.active=!0),this._component?e.getComponent(this._component):e):(console.warn("Pool is empty and reached max size"),null)},t.put=function(o){var e=o instanceof i?o:o.node;this._nodePool.put(e)},t.clear=function(){this._nodePool.clear()},e(o,[{key:"size",get:function(){return this._nodePool.size()}}]),o}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"86827QLFSRM7Zojsx0WqWuQ","ObjectUtil",void 0);t("ObjectUtil",function(){function t(){}return t.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.deepCopy=function(t){if(null==t||"object"!=typeof t)return t;var e=null;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=this.deepCopy(t[n]);return e}if(t instanceof Object){for(var c in e={},t)t.hasOwnProperty(c)&&(e[c]=this.deepCopy(t[c]));return e}console.warn("不支持的类型："+e)},t.copy=function(t){return JSON.parse(JSON.stringify(t))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Oops.ts",["cc","./EffectSingleCase.ts","./ECS.ts","./Language.ts","./ViewModel.ts","./HttpRequest.ts","./NetManager.ts","./Config2.ts","./Logger.ts","./RandomManager.ts"],(function(e){var n,t,o,i,s,a,c,g,u,f;return{setters:[function(e){n=e.cclegacy},function(e){t=e.EffectSingleCase},function(e){o=e.ecs},function(e){i=e.LanguageManager},function(e){s=e.VM},function(e){a=e.HttpRequest},function(e){c=e.NetManager},function(e){g=e.Config},function(e){u=e.Logger},function(e){f=e.RandomManager}],execute:function(){n._RF.push({},"cbae5wzfSZGzZMuyeAetSfg","Oops",void 0);e("version","2.0.0.20241118");var r=e("oops",(function(){}));r.log=u,r.config=new g,r.storage=void 0,r.res=void 0,r.message=void 0,r.random=f.instance,r.timer=void 0,r.audio=void 0,r.gui=void 0,r.game=void 0,r.language=new i,r.http=new a,r.tcp=new c,r.ecs=new o.RootSystem,r.mvvm=s,r.pool=t.instance,n._RF.pop()}}}));

System.register("chunks:///_virtual/OrbitCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,a,n,s,u,l,h,c,p,g,R,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){n=t.cclegacy,s=t._decorator,u=t.Vec3,l=t.Quat,h=t.Node,c=t.input,p=t.Input,g=t.lerp,R=t.Component,_=t.Vec2}],execute:function(){var d,f,b,y,w,m,S,T,v,x,z,O,C,E,D,M,P,Y,k,A,U,j,F,H,W,Q,L,N,V,B,I,X;n._RF.push({},"4e454G/OQ1NB7tjzAUf269U","OrbitCamera",void 0);var G=s.ccclass,q=s.property,J=s.menu,K=new u,Z=new u,$=new l;t("OrbitCamera",(d=G("OrbitCamera"),f=J("OopsFramework/Camera/OrbitCamera （轨道摄影机）"),b=q({tooltip:"是否启动触摸控制"}),y=q({tooltip:"是否开启启用缩放半径（鼠标滚轮控制摄像机与目标距离）"}),w=q({tooltip:"摄像机与目标的半径缩放速度",visible:function(){return!0===this.enableScaleRadius}}),m=q({tooltip:"摄像机与目标的半径最小值",visible:function(){return!0===this.enableScaleRadius}}),S=q({tooltip:"摄像机与目标的半径最大值",visible:function(){return!0===this.enableScaleRadius}}),T=q({tooltip:"自动旋转是否开启"}),v=q({tooltip:"自动旋转速度",visible:function(){return!0===this.autoRotate}}),x=q({tooltip:"旋转速度"}),z=q({tooltip:"跟随速度"}),O=q({tooltip:"X轴旋转范围（人物上下看的角度控制）"}),C=q({tooltip:"摄像机与目标的距离（以玩家为中心环绕球半径）"}),E=q({type:h,tooltip:"跟随目标"}),D=q({type:u,tooltip:"目标旋转偏移量（初始旋转向量）"}),M=q({tooltip:"是否跟随目标 Y 轴旋转"}),d(P=f((k=e((Y=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,o(e,"enableTouch",k,r(e)),o(e,"enableScaleRadius",A,r(e)),o(e,"radiusScaleSpeed",U,r(e)),o(e,"minRadius",j,r(e)),o(e,"maxRadius",F,r(e)),o(e,"autoRotate",H,r(e)),o(e,"autoRotateSpeed",W,r(e)),o(e,"rotateSpeed",Q,r(e)),o(e,"followSpeed",L,r(e)),o(e,"xRotationRange",N,r(e)),o(e,"_targetRadius",V,r(e)),o(e,"_target",B,r(e)),o(e,"_startRotation",I,r(e)),o(e,"followTargetRotationY",X,r(e)),e._center=new u,e._targetCenter=new u,e._touched=!1,e._targetRotation=new u,e._rotation=new l,e._radius=10,e}i(e,t);var n=e.prototype;return n.start=function(){this.enableTouch&&(c.on(p.EventType.TOUCH_START,this.onTouchStart,this),c.on(p.EventType.TOUCH_MOVE,this.onTouchMove,this),c.on(p.EventType.TOUCH_END,this.onTouchEnd,this)),this.enableScaleRadius&&c.on(p.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.target&&this.resetTargetRotation(),l.fromEuler(this._rotation,this._targetRotation.x,this._targetRotation.y,this._targetRotation.z),this.target&&(this._targetCenter.set(this.target.worldPosition),this._center.set(this._targetCenter)),this._radius=this.radius,this.limitRotation()},n.resetTargetRotation=function(){var t=this._targetRotation.set(this._startRotation);this.followTargetRotationY&&(t=Z.set(t),l.toEuler(K,this.target.worldRotation),t.add(K))},n.limitRotation=function(){var t=this._targetRotation;t.x<this.xRotationRange.x?t.x=this.xRotationRange.x:t.x>this.xRotationRange.y&&(t.x=this.xRotationRange.y),t.z=0},n.onTouchStart=function(){this._touched=!0},n.onTouchMove=function(t){if(this._touched){var e=t.touch.getDelta();l.fromEuler($,this._targetRotation.x,this._targetRotation.y,this._targetRotation.z),l.rotateX($,$,.005*-e.y),l.rotateY($,$,.005*-e.x),l.toEuler(this._targetRotation,$),this.limitRotation()}},n.onTouchEnd=function(){this._touched=!1},n.onMouseWheel=function(t){var e=t.getScrollY();this._targetRadius+=this.radiusScaleSpeed*-Math.sign(e),this._targetRadius=Math.min(this.maxRadius,Math.max(this.minRadius,this._targetRadius))},n.update=function(t){var e=this._targetRotation;this.autoRotate&&!this._touched&&(e.y+=this.autoRotateSpeed*t),this.target&&(this._targetCenter.set(this.target.worldPosition),this.followTargetRotationY&&(e=Z.set(e),l.toEuler(K,this.target.worldRotation),e.y+=K.y)),l.fromEuler($,e.x,e.y,e.z),l.slerp(this._rotation,this._rotation,$,7*t*this.rotateSpeed),u.lerp(this._center,this._center,this._targetCenter,5*t*this.followSpeed),this._radius=g(this._radius,this._targetRadius,5*t),u.transformQuat(K,u.FORWARD,this._rotation),u.multiplyScalar(K,K,this._radius),K.add(this._center),this.node.position=K,this.node.lookAt(this._center)},n.follow=function(){var t=this._targetRotation;this.target&&(this._targetCenter.set(this.target.worldPosition),this.followTargetRotationY&&(t=Z.set(t),l.toEuler(K,this.target.worldRotation),t.y+=K.y)),l.fromEuler($,t.x,t.y,t.z),this._rotation=$,this._center=this._targetCenter,this._radius=this._targetRadius,u.transformQuat(K,u.FORWARD,this._rotation),u.multiplyScalar(K,K,this._radius),K.add(this._center),this.node.position=K,this.node.lookAt(this._center)},a(e,[{key:"radius",get:function(){return this._targetRadius},set:function(t){this._targetRadius=t}},{key:"target",get:function(){return this._target},set:function(t){this._target=t,this._targetRotation.set(this._startRotation),this._targetCenter.set(t.worldPosition)}},{key:"targetRotation",get:function(){return this._startRotation.set(this._targetRotation),this._startRotation},set:function(t){this._targetRotation.set(t),this._startRotation.set(t)}}]),e}(R)).prototype,"enableTouch",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=e(Y.prototype,"enableScaleRadius",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=e(Y.prototype,"radiusScaleSpeed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),j=e(Y.prototype,"minRadius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),F=e(Y.prototype,"maxRadius",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),H=e(Y.prototype,"autoRotate",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=e(Y.prototype,"autoRotateSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),Q=e(Y.prototype,"rotateSpeed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=e(Y.prototype,"followSpeed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),N=e(Y.prototype,"xRotationRange",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new _(5,70)}}),V=e(Y.prototype,"_targetRadius",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(Y.prototype,"radius",[C],Object.getOwnPropertyDescriptor(Y.prototype,"radius"),Y.prototype),B=e(Y.prototype,"_target",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(Y.prototype,"target",[E],Object.getOwnPropertyDescriptor(Y.prototype,"target"),Y.prototype),I=e(Y.prototype,"_startRotation",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),e(Y.prototype,"targetRotation",[D],Object.getOwnPropertyDescriptor(Y.prototype,"targetRotation"),Y.prototype),X=e(Y.prototype,"followTargetRotationY",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=Y))||P)||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"c1584nuvI9HtJ5IHcmFEBzR","PhysicsUtil",void 0);var i=e("GroupItem",function(){function e(e,t){this._value=void 0,this._name=void 0,this._value=e,this._name=t}return t(e,[{key:"value",get:function(){return this._value}},{key:"name",get:function(){return this._name}},{key:"mask",get:function(){return 1<<this._value}}]),e}()),u=e("PhysicsUtil",function(){function e(){}return e.setNodeLayer=function(t,n){n.layer=t.mask,n.children.forEach((function(n){n.layer=t.mask,e.setNodeLayer(t,n)}))},e}());u.DEFAULT=new i(0,"DEFAULT"),u.GAME_OBJECT_SELECT=new i(1,"GAME_OBJECT_SELECT"),u.GAME_OWNER=new i(2,"GAME_OWNER"),n._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformUtil.ts",["cc"],(function(t){var e,i,n;return{setters:[function(t){e=t.cclegacy,i=t.sys,n=t.native}],execute:function(){e._RF.push({},"c08229jnmdPP5vR721N6GG9","PlatformUtil",void 0);t("PlatformUtil",function(){function t(){}t.isNativeAndroid=function(){return void 0!==n&&(i.isNative&&i.platform===i.Platform.ANDROID)},t.isNativeIOS=function(){return void 0!==n&&(i.isNative&&i.os===i.OS.IOS)},t.getPlateform=function(){return this.isNativeAndroid()?"android":this.isNativeIOS()?"ios":"h5"};var e=t.prototype;return e.getNetworkType=function(){return i.getNetworkType()},e.getBatteryLevel=function(){return i.getBatteryLevel()},e.openURL=function(t){i.openURL(t)},e.copyText=function(t){n.copyTextToClipboard(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/PointingPairStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(t){var o,e,r,n,a,i,l,c,u,g;return{setters:[function(t){o=t.inheritsLoose,e=t.createClass,r=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy},function(t){a=t.HighlightConfig},function(t){i=t.HighlightAreaType,l=t.BLANK_CHAR},function(t){c=t.BaseStrategy},function(t){u=t.SolverUtils},function(t){g=t.oops}],execute:function(){n._RF.push({},"5b960V7nTRJhp21i8AMtqCk","PointingPairStrategy",void 0);t("PointingPairStrategy",function(t){function n(){for(var o,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(o=t.call.apply(t,[this].concat(r))||this).difficulty=5,o}o(n,t);var c=n.prototype;return c.execute=function(t,o){var e=this.checkPointingPairs(t,o);return e?this.createPointingPairSteps(t,o,e):null},c.checkPointingPairs=function(t,o){for(var e=this,n=0;n<3;n++)for(var a,c=function(){var a=3*n+g,c=e.getAreaCells(i.BOX,a),s=c.filter((function(o){return t[o.row][o.col]===l})),h=new Map;s.forEach((function(t){o[t.row][t.col].forEach((function(o){h.has(o)||h.set(o,[]),h.get(o).push(t)}))}));for(var d,f,p=function(){var e=f.value,r=e[0],n=e[1];if(2===n.length||3===n.length){var g=n.map((function(t){return t.row}));if(g.every((function(t){return t===g[0]}))){var s=g[0],h=u.getRowCells(s).filter((function(e){return!c.some((function(t){return t.row===e.row&&t.col===e.col}))&&t[e.row][e.col]===l&&o[e.row][e.col].has(r)}));if(h.length>0)return{v:{v:{value:r,cells:n,affectedCells:h,direction:i.ROW,boxIndex:a}}}}var d=n.map((function(t){return t.col}));if(d.every((function(t){return t===d[0]}))){var p=d[0],C=u.getColumnCells(p).filter((function(t){return!c.some((function(o){return o.row===t.row&&o.col===t.col}))&&o[t.row][t.col].has(r)}));if(C.length>0)return{v:{v:{value:r,cells:n,affectedCells:C,direction:i.COLUMN,boxIndex:a}}}}}},C=r(h.entries());!(f=C()).done;)if(d=p())return d.v},g=0;g<3;g++)if(a=c())return a.v;return null},c.createPointingPairSteps=function(t,o,e){var r=[],n=e.value,a=e.cells,i=e.affectedCells,l=e.direction;return r.push(this.createDiscoveryStep(t,o,n,a,i,l)),r.push(this.createRuleExplanationStep(t,o,n,a,i,l)),r.push(this.createImpactDemonstrationStep(t,o,n,a,i,l)),r.push(this.createRemovalExecutionStep(t,o,n,a,i,l)),r},c.createDiscoveryStep=function(t,o,e,r,n,l){var c=this,u=this.getBoxCells(r[0]);return{technique:this.name,stepId:1,position:r[0],value:0,get description(){return l===i.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),g.language.getLangByID("PointingPairStrategy.discoveryDes",{name:c.name,description:c.description})},highlights:[].concat(r.map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(o[t.row][t.col])}})),u.filter((function(t){return!r.some((function(o){return o.row===t.row&&o.col===t.col}))})).map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(o[t.row][t.col])}})))}},c.createRuleExplanationStep=function(t,o,e,r,n,l){var c=this,u=this.getBoxCells(r[0]);return{technique:this.name,stepId:2,position:r[0],value:0,get description(){return t=l===i.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),g.language.getLangByID("PointingPairStrategy.ruleExplanationDes",{name:c.name,value:e,directionName:t,cellsLength:r.length});var t},highlights:[].concat(r.map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(o[t.row][t.col])}})),u.filter((function(t){return!r.some((function(o){return o.row===t.row&&o.col===t.col}))})).map((function(t){return{position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(o[t.row][t.col])}}))),highlightNotes:[].concat(r.map((function(t){return{position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:e}})))}},c.createImpactDemonstrationStep=function(t,o,e,r,n,c){var s=this,h=this.getBoxCells(r[0]),d=c===i.ROW?u.getRowCells(r[0].row):u.getColumnCells(r[0].col),f=[],p=new Set;d.forEach((function(e){var r=e.row+","+e.col;p.has(r)||(f.push({position:e,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[e.row][e.col]===l?[].concat(o[e.row][e.col]):void 0}),p.add(r))})),h.forEach((function(t){var e=t.row+","+t.col;r.some((function(o){return o.row===t.row&&o.col===t.col}))||p.has(e)||(f.push({position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(o[t.row][t.col])}),p.add(e))})),r.forEach((function(t){var e=t.row+","+t.col;p.has(e)||(f.push({position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,candidates:[].concat(o[t.row][t.col])}),p.add(e))}));return{technique:this.name,stepId:3,position:r[0],value:0,get description(){return t=c===i.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),g.language.getLangByID("PointingPairStrategy.impactDemonstrationDes",{name:s.name,value:e,directionName:t});var t},highlights:f,highlightNotes:[].concat(r.map((function(t){return{position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:e}})),n.map((function(t){return{position:t,backgroundColor:a.hintRemoveCell.background,textColor:a.hintRemoveCell.textColor,value:e}})))}},c.createRemovalExecutionStep=function(t,o,e,r,n,c){var s=this,h=this.getBoxCells(r[0]);n.forEach((function(t){o[t.row][t.col].delete(e)}));var d=c===i.ROW?u.getRowCells(r[0].row):u.getColumnCells(r[0].col),f=[],p=new Set;d.forEach((function(e){var r=e.row+","+e.col;p.has(r)||(f.push({position:e,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[e.row][e.col]===l?[].concat(o[e.row][e.col]):void 0}),p.add(r))})),h.forEach((function(t){var e=t.row+","+t.col;r.some((function(o){return o.row===t.row&&o.col===t.col}))||p.has(e)||(f.push({position:t,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:[].concat(o[t.row][t.col])}),p.add(e))})),r.forEach((function(t){var e=t.row+","+t.col;p.has(e)||(f.push({position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,candidates:[].concat(o[t.row][t.col])}),p.add(e))}));return{technique:this.name,stepId:4,position:r[0],value:0,get description(){return t=c===i.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),g.language.getLangByID("PointingPairStrategy.removalExecutionDes",{name:s.name,value:e,directionName:t});var t},highlights:f,highlightNotes:[].concat(r.map((function(t){return{position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:e}})))}},c.getBoxCells=function(t){for(var o=3*Math.floor(t.row/3),e=3*Math.floor(t.col/3),r=[],n=0;n<3;n++)for(var a=0;a<3;a++)r.push({row:o+n,col:e+a});return r},c.getAreaCells=function(t,o){if(t===i.ROW)return Array.from({length:9},(function(t,e){return{row:o,col:e}}));if(t===i.COLUMN)return Array.from({length:9},(function(t,e){return{row:e,col:o}}));for(var e=3*Math.floor(o/3),r=o%3*3,n=[],a=0;a<3;a++)for(var l=0;l<3;l++)n.push({row:e+a,col:r+l});return n},e(n,[{key:"name",get:function(){return g.language.getLangByID("PointingPairStrategy.name")}},{key:"description",get:function(){return g.language.getLangByID("PointingPairStrategy.description")}}]),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/Priority.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){var i,s,c;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy},function(t){c=t.BranchNode}],execute:function(){s._RF.push({},"f7555DSpj9LbYpRDi8/UKdN","Priority",void 0);t("Priority",function(t){function s(){return t.apply(this,arguments)||this}i(s,t);var c=s.prototype;return c.success=function(){t.prototype.success.call(this),this._control.success()},c.fail=function(){t.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},s}(c));s._RF.pop()}}}));

System.register("chunks:///_virtual/RandomManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"3e09eJBwfZBsLPqFszZLvMS","RandomManager",void 0),n("RandomManager",function(){function n(){this.random=null}var e=n.prototype;return e.setRandom=function(n){this.random=n},e.getRandom=function(){return this.random()},e.getRandomFloat=function(n,t){return void 0===n&&(n=0),void 0===t&&(t=1),this.getRandom()*(t-n)+n},e.getRandomInt=function(n,t,e){switch(void 0===e&&(e=2),n=Math.ceil(n),t=Math.floor(t),e){case 1:return Math.floor(this.getRandom()*(t-n))+n;case 2:return Math.floor(this.getRandom()*(t-n+1))+n;case 3:return Math.floor(this.getRandom()*(t-n-1))+n+1}return 0},e.getRandomByMinMaxList=function(n,t,e){for(var o=[],a=0;a<e;a++)o.push(this.getRandomInt(n,t));return o},e.getRandomByObjectList=function(n,t){for(var e=n.slice(),o=[],a=0;a<t;a++){var r=this.getRandomInt(0,e.length,1);o.push(e.splice(r,1)[0])}return o},e.getRandomBySumList=function(n,t){for(var e=t,o=0,a=[],r=0;r<n;r++)o=this.getRandomInt(0,e,3),r==n-1?o=e:e-=o,a.push(o);return a},t(n,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new n,this._instance.setRandom(Math.random)),this._instance}}]),n}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/RectangleEliminationStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(o){var e,t,n,l,r,a,i,c,u,s;return{setters:[function(o){e=o.inheritsLoose,t=o.createForOfIteratorHelperLoose,n=o.createClass},function(o){l=o.cclegacy},function(o){r=o.HighlightConfig},function(o){a=o.HighlightAreaType,i=o.BLANK_CHAR},function(o){c=o.BaseStrategy},function(o){u=o.SolverUtils},function(o){s=o.oops}],execute:function(){l._RF.push({},"bf0eavWxWhHNKX8G1CYYDxI","RectangleEliminationStrategy",void 0);o("RectangleEliminationStrategy",function(o){function l(){for(var e,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=o.call.apply(o,[this].concat(n))||this).difficulty=9,e}e(l,o);var c=l.prototype;return c.execute=function(o,e){var t=this.checkRectangleElimination(o,e);return t?this.createRectangleEliminationSteps(o,e,t):null},c.checkRectangleElimination=function(o,e){for(var n=1;n<=9;n++){for(var l,r=t(this.findStrongLinks(n,a.ROW,o,e));!(l=r()).done;){var i=l.value,c=this.checkRectanglePattern(i,n,o,e,a.COLUMN);if(c)return c}for(var u,s=t(this.findStrongLinks(n,a.COLUMN,o,e));!(u=s()).done;){var d=u.value,g=this.checkRectanglePattern(d,n,o,e,a.ROW);if(g)return g}}return null},c.checkRectanglePattern=function(o,e,t,n,l){var r=o.cells,i=r[0],c=r[1],u=this.findPerpendicularLinks(i,e,l,t,n),s=this.findPerpendicularLinks(c,e,l,t,n);return this.checkRectangleCombination(u,s,o,e,t,n,l===a.ROW?a.COLUMN:a.ROW)||this.checkRectangleCombination(s,u,o,e,t,n,l===a.ROW?a.COLUMN:a.ROW)},c.checkRectangleCombination=function(o,e,n,l,r,i,c){for(var u,s,d=this,g=function(){for(var o,u,g=s.value,C=d.findPerpendicularLinks(g,l,c,r,i),f=function(){var o=u.value,t=d.findPerpendicularLinks(o,l,a.BOX,r,i),c=t.filter((function(o){return C.some((function(e){return e.row===o.row&&e.col===o.col}))})),s=t.filter((function(o){return!c.some((function(e){return e.row===o.row&&e.col===o.col}))}));if(s.length>0&&d.isSubsetPositions(s,e))return{v:{v:{value:l,strongLink:n,connectingBlock:[o].concat(c,s),removeCells:[g]}}}},p=t(C);!(u=p()).done;)if(o=f())return o.v},C=t(o);!(s=C()).done;)if(u=g())return u.v;return null},c.findPerpendicularLinks=function(o,e,n,l,r){var c,s=[];switch(n){case a.ROW:c=u.getRowCells(o.row);break;case a.COLUMN:c=u.getColumnCells(o.col);break;case a.BOX:c=u.getAreaCells(a.BOX,u.getBlockIndex(o));break;default:return s}for(var d,g=t(c);!(d=g()).done;){var C=d.value;C.row===o.row&&C.col===o.col||l[C.row][C.col]!==i||!r[C.row][C.col].has(e)||s.push(C)}return s},c.findStrongLinks=function(o,e,t,n){for(var l=[],r=(a.ROW,9),c=0;c<r;c++){var s=(e===a.ROW?u.getRowCells(c):u.getColumnCells(c)).filter((function(e){return t[e.row][e.col]===i&&n[e.row][e.col].has(o)}));2===s.length&&l.push({areaType:e,areaIndex:c,cells:[s[0],s[1]]})}return l},c.isSubsetPositions=function(o,e){var t=this;return 0===o.length||!(e.length<o.length)&&o.every((function(o){return e.some((function(e){return t.isSamePosition(o,e)}))}))},c.isSamePosition=function(o,e){return o.row===e.row&&o.col===e.col},c.createRectangleEliminationSteps=function(o,e,t){var n=[];return n.push(this.createDiscoveryStep(o,e,t)),n.push(this.createRuleExplanationStep(o,e,t)),n.push(this.createImpactDemonstrationStep(o,e,t)),n.push(this.createRemovalExecutionStep(o,e,t)),n},c.createDiscoveryStep=function(o,e,t){var n=this,l=t.value,c=t.strongLink,d=t.connectingBlock,g=t.removeCells,C=c.areaType===a.ROW?u.getRowCells(c.areaIndex):u.getColumnCells(c.areaIndex),f=[].concat(C.map((function(t){return{position:t,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),c.cells.map((function(t){return{position:t,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),u.getAreaCells(a.BOX,u.getBlockIndex(d[0])).map((function(t){return{position:t,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),g.map((function(t){return{position:t,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}}))),p=[].concat(d.map((function(o){return{position:o,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,value:l}})),g.map((function(o){return{position:o,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,value:l}})),C.filter((function(o){return e[o.row][o.col].has(l)})).map((function(o){return{position:o,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,value:l}})));return{technique:this.name,stepId:1,position:g[0],value:0,get description(){return s.language.getLangByID("RectangleEliminationStrategy.discoveryDes",{name:n.name,description:n.description,value:l})},highlights:u.deduplicateHighlights(f,"last"),highlightNotes:u.deduplicateHighlightNotes(p,"last")}},c.createRuleExplanationStep=function(o,e,t){var n=this,l=t.value,c=t.strongLink,d=t.connectingBlock,g=t.removeCells,C=c.areaType===a.ROW?u.getRowCells(c.areaIndex):u.getColumnCells(c.areaIndex),f=[].concat(C.map((function(t){return{position:t,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),c.cells.map((function(t){return{position:t,backgroundColor:r.targetCell.background,textColor:r.targetCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),u.getAreaCells(a.BOX,u.getBlockIndex(d[0])).map((function(t){return{position:t,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),g.map((function(t){return{position:t,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}}))),p=[].concat(d.map((function(o){return{position:o,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:l}})),g.map((function(o){return{position:o,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:l}})),C.filter((function(o){return e[o.row][o.col].has(l)})).map((function(o){return{position:o,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:l}})));return{technique:this.name,stepId:2,position:d[0],value:0,get description(){return s.language.getLangByID("RectangleEliminationStrategy.ruleExplanationDes",{name:n.name,value:l,strongLinkCell1:"R"+(c.cells[0].row+1)+"C"+(c.cells[0].col+1),strongLinkCell2:"R"+(c.cells[1].row+1)+"C"+(c.cells[1].col+1),removeCells:"R"+(g[0].row+1)+"C"+(g[0].col+1),connectingBlock:""+d.map((function(o){return"R"+(o.row+1)+"C"+(o.col+1)})).join(","),block:u.getBlockIndex(d[0])+1})},highlights:u.deduplicateHighlights(f,"last"),highlightNotes:u.deduplicateHighlightNotes(p,"last")}},c.createImpactDemonstrationStep=function(o,e,t){var n=this,l=t.value,c=t.strongLink,d=t.connectingBlock,g=t.removeCells,C=(c.cells.find((function(o){return!d.some((function(e){return n.isSamePosition(e,o)}))})),c.areaType===a.ROW?u.getRowCells(c.areaIndex):u.getColumnCells(c.areaIndex)),f=[].concat(C.map((function(t){return{position:t,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),c.cells.map((function(t){return{position:t,backgroundColor:r.targetCell.background,textColor:r.targetCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),u.getAreaCells(a.BOX,u.getBlockIndex(d[0])).map((function(t){return{position:t,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),d.map((function(t){return{position:t,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),g.map((function(t){return{position:t,backgroundColor:r.sameRelatedAreaCell.background,textColor:r.sameRelatedAreaCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}}))),p=[].concat(d.map((function(o){return{position:o,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:l}})),g.map((function(o){return{position:o,backgroundColor:r.hintRemoveCell.background,textColor:r.hintRemoveCell.textColor,value:l}})),C.filter((function(o){return e[o.row][o.col].has(l)})).map((function(o){return{position:o,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:l}}))),h=c.cells.filter((function(o){return g.some((function(e){return e.row===o.row||e.col===o.col}))})),k=c.cells.filter((function(o){return!h.some((function(e){return e.row===o.row&&e.col===o.col}))})),m=d.filter((function(o){return k.some((function(e){return e.row===o.row||e.col===o.col}))})),v=d.filter((function(o){return!m.some((function(e){return e.row===o.row&&e.col===o.col}))}));return{technique:this.name,stepId:3,position:d[0],value:0,get description(){return s.language.getLangByID("RectangleEliminationStrategy.impactDemonstrationDes",{name:n.name,value:l,strongLinkCell1:"R"+(h[0].row+1)+"C"+(h[0].col+1),strongLinkCell2:"R"+(k[0].row+1)+"C"+(k[0].col+1),removeCells:"R"+(g[0].row+1)+"C"+(g[0].col+1),connectingBlock1:""+v.map((function(o){return"R"+(o.row+1)+"C"+(o.col+1)})).join(","),connectingBlock2:""+m.map((function(o){return"R"+(o.row+1)+"C"+(o.col+1)})).join(","),block:u.getBlockIndex(d[0])+1})},highlights:u.deduplicateHighlights(f,"last"),highlightNotes:u.deduplicateHighlightNotes(p,"last")}},c.createRemovalExecutionStep=function(o,e,t){var n=this,l=t.value,c=t.strongLink,d=t.connectingBlock,g=t.removeCells;g.forEach((function(o){e[o.row][o.col].delete(l)}));c.cells.find((function(o){return!d.some((function(e){return n.isSamePosition(e,o)}))}));var C=c.areaType===a.ROW?u.getRowCells(c.areaIndex):u.getColumnCells(c.areaIndex),f=[].concat(C.map((function(t){return{position:t,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),c.cells.map((function(t){return{position:t,backgroundColor:r.targetCell.background,textColor:r.targetCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),u.getAreaCells(a.BOX,u.getBlockIndex(d[0])).map((function(t){return{position:t,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),d.map((function(t){return{position:t,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}})),g.map((function(t){return{position:t,backgroundColor:r.sameRelatedAreaCell.background,textColor:r.sameRelatedAreaCell.textColor,candidates:o[t.row][t.col]===i?[].concat(e[t.row][t.col]):void 0}}))),p=[].concat(d.map((function(o){return{position:o,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:l}})),g.map((function(o){return{position:o,backgroundColor:r.hintRemoveCell.background,textColor:r.hintRemoveCell.textColor,value:l}})),C.filter((function(o){return e[o.row][o.col].has(l)})).map((function(o){return{position:o,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:l}})));return{technique:this.name,stepId:4,position:d[0],value:0,get description(){return s.language.getLangByID("RectangleEliminationStrategy.removalExecutionDes",{name:n.name,value:l,strongLinkCell1:"R"+(c.cells[0].row+1)+"C"+(c.cells[0].col+1),strongLinkCell2:"R"+(c.cells[1].row+1)+"C"+(c.cells[1].col+1),removeCells:"R"+(g[0].row+1)+"C"+(g[0].col+1),connectingBlock:""+d.map((function(o){return"R"+(o.row+1)+"C"+(o.col+1)})).join(","),block:u.getBlockIndex(d[0])+1})},highlights:u.deduplicateHighlights(f,"last"),highlightNotes:u.deduplicateHighlightNotes(p,"last")}},n(l,[{key:"name",get:function(){return s.language.getLangByID("RectangleEliminationStrategy.name")}},{key:"description",get:function(){return s.language.getLangByID("RectangleEliminationStrategy.description")}}]),l}(c));l._RF.pop()}}}));

System.register("chunks:///_virtual/RefreshThemeAccentColor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configuration.ts","./EventType.ts","./Oops.ts"],(function(e){var n,t,o,r,s,i,c,h,f,u;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.Sprite,s=e.Color,i=e.Label,c=e.Component},function(e){h=e.Configuration},function(e){f=e.EventType},function(e){u=e.oops}],execute:function(){var a;t._RF.push({},"05b3bW7SW9M1IkL2JzzM2cj","RefreshThemeAccentColor",void 0);var l=o.ccclass;o.property,e("RefreshThemeAccentColor",l("RefreshThemeAccentColor")(a=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.onLoad=function(){this.initEventListeners()},o.onDestroy=function(){this.cleanup()},o.start=function(){this.onRefreshTheme()},o.initEventListeners=function(){u.message.on(f.REFRESH_THEME,this.onRefreshTheme,this)},o.cleanup=function(){u.message.off(f.REFRESH_THEME,this.onRefreshTheme,this)},o.onRefreshTheme=function(){var e=this.node.getComponent(r);if(e){var n=h.getInstance().getThemeConfig();e.color=new s(n.gameAccentColor)}var t=this.node.getComponent(i);if(t){var o=h.getInstance().getThemeConfig();t.color=new s(o.gameAccentColor)}},t}(c))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/RefreshThemeBG.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configuration.ts","./EventType.ts","./Oops.ts"],(function(e){var n,t,o,s,i,r,c,h,f;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,s=e.Sprite,i=e.Color,r=e.Component},function(e){c=e.Configuration},function(e){h=e.EventType},function(e){f=e.oops}],execute:function(){var u;t._RF.push({},"1be1aI8qNZAg6nY6VOJ/ke8","RefreshThemeBG",void 0);var a=o.ccclass;o.property,e("RefreshThemeBG",a("RefreshThemeBG")(u=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.onLoad=function(){this.initEventListeners()},o.onDestroy=function(){this.cleanup()},o.start=function(){this.onRefreshTheme()},o.initEventListeners=function(){f.message.on(h.REFRESH_THEME,this.onRefreshTheme,this)},o.cleanup=function(){f.message.off(h.REFRESH_THEME,this.onRefreshTheme,this)},o.onRefreshTheme=function(){var e=this.node.getComponent(s);if(e){var n=c.getInstance().getThemeConfig();e.color=new i(n.gameBackgroundColor)}},t}(r))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/RefreshThemeNeutralColor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configuration.ts","./EventType.ts","./Oops.ts"],(function(e){var t,n,o,r,s,i,a,u,c,h;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Sprite,s=e.Color,i=e.Label,a=e.Component},function(e){u=e.Configuration},function(e){c=e.EventType},function(e){h=e.oops}],execute:function(){var f;n._RF.push({},"4600aS47PxF37e+kvTDnr5s","RefreshThemeNeutralColor",void 0);var l=o.ccclass;o.property,e("RefreshThemeNeutralColor",l("RefreshThemeNeutralColor")(f=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onLoad=function(){this.initEventListeners()},o.onDestroy=function(){this.cleanup()},o.start=function(){this.onRefreshTheme()},o.initEventListeners=function(){h.message.on(c.REFRESH_THEME,this.onRefreshTheme,this)},o.cleanup=function(){h.message.off(c.REFRESH_THEME,this.onRefreshTheme,this)},o.onRefreshTheme=function(){var e=this.node.getComponent(r);if(e){var t=u.getInstance().getThemeConfig();e.color=new s(t.gameNeutralColor)}var n=this.node.getComponent(i);if(n){var o=u.getInstance().getThemeConfig();n.color=new s(o.gameNeutralColor)}},n}(a))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/RefreshThemePrimaryColor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configuration.ts","./EventType.ts","./Oops.ts"],(function(e){var n,o,t,r,i,s,c,a,h,f;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,r=e.Sprite,i=e.Color,s=e.Label,c=e.Component},function(e){a=e.Configuration},function(e){h=e.EventType},function(e){f=e.oops}],execute:function(){var u;o._RF.push({},"8cd17pV3GRG0KqW6wrktOc0","RefreshThemePrimaryColor",void 0);var m=t.ccclass;t.property,e("RefreshThemePrimaryColor",m("RefreshThemePrimaryColor")(u=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var t=o.prototype;return t.onLoad=function(){this.initEventListeners()},t.onDestroy=function(){this.cleanup()},t.start=function(){this.onRefreshTheme()},t.initEventListeners=function(){f.message.on(h.REFRESH_THEME,this.onRefreshTheme,this)},t.cleanup=function(){f.message.off(h.REFRESH_THEME,this.onRefreshTheme,this)},t.onRefreshTheme=function(){var e=this.node.getComponent(r);if(e){var n=a.getInstance().getThemeConfig();e.color=new i(n.gamePrimaryColor)}var o=this.node.getComponent(s);if(o){var t=a.getInstance().getThemeConfig();o.color=new i(t.gamePrimaryColor)}},o}(c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/RefreshThemeSecondaryColor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configuration.ts","./EventType.ts","./Oops.ts"],(function(e){var n,o,t,r,s,i,c,a,f,h;return{setters:[function(e){n=e.inheritsLoose},function(e){o=e.cclegacy,t=e._decorator,r=e.Sprite,s=e.Color,i=e.Label,c=e.Component},function(e){a=e.Configuration},function(e){f=e.EventType},function(e){h=e.oops}],execute:function(){var u;o._RF.push({},"fd567g8SH9AIrS90uvOGBRw","RefreshThemeSecondaryColor",void 0);var l=t.ccclass;t.property,e("RefreshThemeSecondaryColor",l("RefreshThemeSecondaryColor")(u=function(e){function o(){return e.apply(this,arguments)||this}n(o,e);var t=o.prototype;return t.onLoad=function(){this.initEventListeners()},t.onDestroy=function(){this.cleanup()},t.start=function(){this.onRefreshTheme()},t.initEventListeners=function(){h.message.on(f.REFRESH_THEME,this.onRefreshTheme,this)},t.cleanup=function(){h.message.off(f.REFRESH_THEME,this.onRefreshTheme,this)},t.onRefreshTheme=function(){var e=this.node.getComponent(r);if(e){var n=a.getInstance().getThemeConfig();e.color=new s(n.gameSecondaryColor)}var o=this.node.getComponent(i);if(o){var t=a.getInstance().getThemeConfig();o.color=new s(t.gameSecondaryColor)}},o}(c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/RegexUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"dec9bVPigFCmKy5NVk+0y7h","RegexUtil",void 0);e("RegexUtil",function(){function e(){}return e.isDoubleWord=function(e){return/[^\x00-\xff]/.test(e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,s,o,a,l,u,d,i;return{setters:[function(e){n=e.createClass,r=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e.assetManager,a=e.error,l=e.warn,u=e.Asset,d=e.js,i=e.resources}],execute:function(){s._RF.push({},"1a2e4jFffpHrYjrpxbnC760","ResLoader",void 0);var c=e("ResLoader",function(){function e(){this.defaultBundleName="resources",this.cdn=!1,this.bundles=new Map}var s=e.prototype;return s.init=function(e){for(var n in this.cdn=e.enable,e.packages)this.bundles.set(n,e.packages[n])},s.loadRemote=function(e){var n=null,r=null;2==(arguments.length<=1?0:arguments.length-1)?(n=arguments.length<=1?void 0:arguments[1],r=arguments.length<=2?void 0:arguments[2]):r=arguments.length<=1?void 0:arguments[1],o.loadRemote(e,n,r)},s.loadBundle=function(e,n){return new Promise((function(r,t){o.loadBundle(e,{version:n},(function(e,n){if(e)return a(e);r(n)}))}))},s.removeBundle=function(e){var n=o.bundles.get(e);n&&(n.releaseAll(),o.removeBundle(n))},s.preload=function(e,n,r,t,s){var o=null;"string"==typeof n||n instanceof Array?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,o.preload=!0,this.loadByArgs(o)},s.preloadAsync=function(e,n,r){var t=this;return new Promise((function(s,o){t.preload(e,n,r,(function(e,n){e&&l(e.message),s(n)}))}))},s.preloadDir=function(e,n,r,t,s){var o=null;"string"==typeof n?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,o.dir=o.paths,o.preload=!0,this.loadByArgs(o)},s.load=function(e,n,r,t,s){var o=null;"string"==typeof n||n instanceof Array?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,this.loadByArgs(o)},s.loadAsync=function(e,n,r){var t=this;return new Promise((function(s,o){t.load(e,n,r,(function(e,n){e&&l(e.message),s(n)}))}))},s.loadDir=function(e,n,r,t,s){var o=null;"string"==typeof n?(o=this.parseLoadResArgs(n,r,t,s)).bundle=e:(o=this.parseLoadResArgs(e,n,r,t)).bundle=this.defaultBundleName,o.dir=o.paths,this.loadByArgs(o)},s.release=function(e,n){void 0===n&&(n=this.defaultBundleName);var r=o.getBundle(n);if(r){var t=r.get(e);t&&this.releasePrefabtDepsRecursively(t)}},s.releaseDir=function(e,n){var r=this;void 0===n&&(n=this.defaultBundleName);var t=o.getBundle(n);if(t){var s=t.getDirWithPath(e);s&&s.map((function(e){r.releasePrefabtDepsRecursively(e.uuid)})),""==e&&"resources"!=n&&o.removeBundle(t)}},s.releasePrefabtDepsRecursively=function(e){if(e instanceof u)e.decRef();else{var n=o.assets.get(e);n&&n.decRef()}},s.get=function(e,n,r){return void 0===r&&(r=this.defaultBundleName),o.getBundle(r).get(e,n)},s.parseLoadResArgs=function(e,n,r,t){var s=e,o=n,a=r,l=t;if(void 0===t){var i=d.isChildClassOf(n,u);r?(l=r,i&&(a=null)):void 0!==r||i||(l=n,a=null,o=null),void 0===r||i||(a=n,o=null)}return{paths:s,type:o,onProgress:a,onComplete:l}},s.loadByBundleAndArgs=function(e,n){n.dir?n.preload?e.preloadDir(n.paths,n.type,n.onProgress,n.onComplete):e.loadDir(n.paths,n.type,n.onProgress,n.onComplete):n.preload?e.preload(n.paths,n.type,n.onProgress,n.onComplete):e.load(n.paths,n.type,n.onProgress,n.onComplete)},s.loadByArgs=function(){var e=r(t().mark((function e(n){var r,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.bundle){e.next=13;break}if(!(r=o.bundles.get(n.bundle))){e.next=6;break}this.loadByBundleAndArgs(r,n),e.next=11;break;case 6:return s=this.cdn?this.bundles.get(n.bundle):"",e.next=9,this.loadBundle(n.bundle,s);case 9:(r=e.sent)&&this.loadByBundleAndArgs(r,n);case 11:e.next=14;break;case 13:this.loadByBundleAndArgs(i,n);case 14:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),s.dump=function(){o.assets.forEach((function(e,n){console.log(o.assets.get(n))})),console.log("当前资源总数:"+o.assets.count)},n(e,[{key:"maxConcurrency",get:function(){return o.downloader.maxConcurrency},set:function(e){o.downloader.maxConcurrency=e}},{key:"maxRequestsPerFrame",get:function(){return o.downloader.maxRequestsPerFrame},set:function(e){o.downloader.maxRequestsPerFrame=e}},{key:"maxRetryCount",get:function(){return o.downloader.maxRetryCount},set:function(e){o.downloader.maxRetryCount=e}},{key:"retryInterval",get:function(){return o.downloader.retryInterval},set:function(e){o.downloader.retryInterval=e}}]),e}());e("resLoader",new c);s._RF.pop()}}}));

System.register("chunks:///_virtual/Root.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./GameQueryConfig.ts","./Oops.ts","./AudioManager.ts","./EventMessage.ts","./MessageManager.ts","./ResLoader.ts","./StorageManager.ts","./StorageSecuritySimple.ts","./TimerManager.ts","./GameManager.ts","./LayerManager.ts"],(function(e){var t,n,i,o,a,s,r,u,c,g,f,p,l,m,d,h,E,y,v,M,S,w,G,b,A,C,R,_,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,u=e._decorator,c=e.Node,g=e.game,f=e.Game,p=e.sys,l=e.screen,m=e.director,d=e.Component,h=e.JsonAsset},function(e){E=e.GameConfig},function(e){y=e.GameQueryConfig},function(e){v=e.version,M=e.oops},function(e){S=e.AudioManager},function(e){w=e.EventMessage},function(e){G=e.message},function(e){b=e.resLoader},function(e){A=e.StorageManager},function(e){C=e.StorageSecuritySimple},function(e){R=e.TimerManager},function(e){_=e.GameManager},function(e){L=e.LayerManager}],execute:function(){var N,T,O,H,D;r._RF.push({},"90b9cOmlmBCnpCpEpgvdrQr","Root",void 0);var I=u.property,z=!1;e("Root",(N=I({type:c,tooltip:"游戏层"}),T=I({type:c,tooltip:"界面层"}),H=t((O=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,i(t,"game",H,o(t)),i(t,"gui",D,o(t)),t.persist=null,t}n(t,e);var r=t.prototype;return r.onLoad=function(){z||(z=!0,console.log("Oops Framework v"+v),this.enabled=!1,this.iniStart(),this.loadConfig().then())},r.loadConfig=function(){var e=a(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.persist=new c("OopsFrameworkPersistNode"),m.addPersistRootNode(this.persist),M.res=b,t="config",e.next=6,M.res.loadAsync(t,h);case 6:(n=e.sent)?(M.config.query=new y,M.config.game=new E(n),M.res.defaultBundleName=M.config.game.bundleDefault,M.res.init(M.config.game.data.bundle),M.storage=new A,M.storage.init(new C),M.message=G,M.audio=this.persist.addComponent(S),M.audio.load(),M.timer=this.persist.addComponent(R),M.game=new _(this.game),M.gui=new L(this.gui),M.http.server=M.config.game.httpServer,M.http.timeout=M.config.game.httpTimeout,g.frameRate=M.config.game.frameRate,this.enabled=!0,this.init(),this.run(),M.res.release(t)):this.loadConfig().then();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.update=function(e){M.ecs.execute(e)},r.iniStart=function(){},r.initGui=function(){},r.initEcsSystem=function(){},r.run=function(){},r.init=function(){this.initGui(),this.initEcsSystem(),M.ecs.init(),g.on(f.EVENT_SHOW,this.onShow,this),g.on(f.EVENT_HIDE,this.onHide,this),p.isMobile||(l.on("window-resize",(function(){M.message.dispatchEvent(w.GAME_RESIZE)}),this),l.on("fullscreen-change",(function(){M.message.dispatchEvent(w.GAME_FULL_SCREEN)}),this)),l.on("orientation-change",(function(){M.message.dispatchEvent(w.GAME_ORIENTATION)}),this)},r.onShow=function(){M.timer.load(),M.audio.resumeAll(),m.resume(),g.resume(),M.message.dispatchEvent(w.GAME_SHOW)},r.onHide=function(){M.timer.save(),M.audio.pauseAll(),m.pause(),g.pause(),M.message.dispatchEvent(w.GAME_HIDE)},t}(d)).prototype,"game",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(O.prototype,"gui",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O));r._RF.pop()}}}));

System.register("chunks:///_virtual/RotateUtil.ts",["cc","./Vec3Util.ts"],(function(t){var o,n,r,e,i;return{setters:[function(t){o=t.cclegacy,n=t.Quat,r=t.Vec3,e=t.toRadian},function(t){i=t.Vec3Util}],execute:function(){o._RF.push({},"103324kr75Hi5d7RZCcRt3P","RotateUtil",void 0);t("RotateUtil",function(){function t(){}return t.rotateAround=function(t,o,r){var e=new n;n.rotateAround(e,t.getRotation(),o.normalize(),r),t.setRotation(e)},t.rotateAroundTarget=function(t,o,e,i){var a=t.worldPosition,u=o.worldPosition,c=new n,s=new r;n.fromAxisAngle(c,e,i),r.subtract(s,u,a),r.transformQuat(s,s,c),r.add(s,a,s),o.setWorldPosition(s),n.rotateAround(c,o.worldRotation,e,i),n.normalize(c,c),o.setWorldRotation(c)},t.circularEdgePosition=function(t,o,a){var u=i.z.multiplyScalar(o),c=i.sub(u,t),s=new r,l=new n;return n.fromAxisAngle(l,r.UP,e(a)),r.transformQuat(s,c,l),r.add(s,t,s),s},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/RtToModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,a,l,s,c,u,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Camera,s=e.MeshRenderer,c=e.RenderTexture,u=e.view,h=e.gfx,p=e.Component}],execute:function(){var d,f,m,y,g,w,b;o._RF.push({},"dbd7dMQYutDs7I7uj+3zIiU","RtToModel",void 0);var v=a.ccclass,R=a.property;e("RtToModel",(d=v("RtToModel"),f=R(l),m=R(s),d((w=t((g=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"camara",w,n(t)),i(t,"model",b,n(t)),t.rt=new c,t}r(t,e);var o=t.prototype;return o.start=function(){var e=u.getVisibleSize(),t=new h.ColorAttachment,r=new h.DepthStencilAttachment,i=new h.RenderPassInfo([t],r);this.rt.reset({width:e.width,height:e.height,passInfo:i}),this.camara.targetTexture=this.rt,this.model.material.setProperty("mainTexture",this.rt)},o.onDestroy=function(){this.rt.destroy()},t}(p)).prototype,"camara",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(g.prototype,"model",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/RtToSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,n,s,h,a,p,u,c,l,f,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,h=t.Camera,a=t.Sprite,p=t.Node,u=t.RenderTexture,c=t.UITransform,l=t.gfx,f=t.SpriteFrame,T=t.Component}],execute:function(){var d,y,v,m,g,E,b,C,R,S,w;n._RF.push({},"f608cdDWBNEKLILVNBcQYvf","RtToSprite",void 0);var _=s.ccclass,O=s.property;t("RtToSprite",(d=_("RtToSprite"),y=O({type:h,tooltip:"渲染模型的三维摄像机"}),v=O({type:a,tooltip:"显示模型的二维精灵组件"}),m=O({tooltip:"是否触摸控制旋转"}),g=O({type:p,tooltip:"三维模型",visible:function(){return!0===this.rotation}}),d((C=e((b=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"camera",C,r(e)),o(e,"sprite",R,r(e)),o(e,"rotation",S,r(e)),o(e,"model",w,r(e)),e.rt=new u,e.touched=!1,e}i(e,t);var n=e.prototype;return n.start=function(){var t=this.sprite.getComponent(c);this.refreshRenderTexture(t.width,t.height),this.rotation&&(this.sprite.node.on(p.EventType.TOUCH_START,this.onTouchStart,this),this.sprite.node.on(p.EventType.TOUCH_MOVE,this.onTouchMove,this),this.sprite.node.on(p.EventType.TOUCH_END,this.onTouchEnd,this),this.sprite.node.on(p.EventType.TOUCH_CANCEL,this.onTouchEnd,this))},n.onTouchStart=function(t){this.touched=!0},n.onTouchMove=function(t){if(this.touched){var e=this.model.eulerAngles,i=t.touch.getDelta().x;e.y+=-i,this.model.eulerAngles=e}},n.onTouchEnd=function(t){this.touched=!1},n.refreshRenderTexture=function(t,e){var i=new l.ColorAttachment,o=new l.DepthStencilAttachment,r=new l.RenderPassInfo([i],o);this.rt.reset({width:t,height:e,passInfo:r});var n=this.sprite.spriteFrame,s=new f;s.reset({originalSize:n.originalSize,rect:n.rect,offset:n.offset,isRotate:n.rotated,borderTop:n.insetTop,borderLeft:n.insetLeft,borderBottom:n.insetBottom,borderRight:n.insetRight}),this.camera.targetTexture=this.rt,s.texture=this.rt,this.sprite.spriteFrame=s},n.onDestroy=function(){this.rotation&&(this.sprite.node.off(p.EventType.TOUCH_START,this.onTouchStart,this),this.sprite.node.off(p.EventType.TOUCH_MOVE,this.onTouchMove,this),this.sprite.node.off(p.EventType.TOUCH_END,this.onTouchEnd,this),this.sprite.node.off(p.EventType.TOUCH_CANCEL,this.onTouchEnd,this)),this.rt.destroy()},e}(T)).prototype,"camera",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(b.prototype,"sprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(b.prototype,"rotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=e(b.prototype,"model",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=b))||E));n._RF.pop()}}}));

System.register("chunks:///_virtual/SafeAreaAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DeviceUtil.ts"],(function(e){var t,i,a,r,o,n,s,p,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,s=e.view,p=e.UITransform,l=e.Component},function(e){u=e.DeviceUtil}],execute:function(){var h,c,d,f,g,m,S,b,y,A,v,z,w;o._RF.push({},"26ea7l8111KMoWxoGvtxz8j","SafeAreaAdapter",void 0);var x=n.ccclass,M=n.executionOrder,j=n.menu,D=n.property;e("SafeAreaAdapter",(h=x("SafeAreaAdapter"),c=M(-100),d=j("UI/SafeAreaAdapter"),f=D({tooltip:"是否适配顶部安全区域（避开刘海）",displayName:"适配顶部"}),g=D({tooltip:"是否适配底部安全区域（避开底部指示条）",displayName:"适配底部"}),m=D({tooltip:"是否适配左右安全区域（避开圆角）",displayName:"适配侧边"}),S=D({tooltip:"安全区域外边距（像素）",displayName:"外边距"}),h(b=c(b=d((A=t((y=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,a(t,"adaptTop",A,r(t)),a(t,"adaptBottom",v,r(t)),a(t,"adaptSides",z,r(t)),a(t,"margin",w,r(t)),t}i(t,e);var o=t.prototype;return o.start=function(){this.adjustSafeArea(),s.on("canvas-resize",this.adjustSafeArea,this)},o.onDestroy=function(){s.off("canvas-resize",this.adjustSafeArea,this)},o.adjustSafeArea=function(){var e=u.getSafeAreaRect(),t=this.node.getComponent(p);if(t){var i=0,a=0,r=0,o=0;this.adaptSides&&(i=e.x,a=s.getVisibleSize().width-(e.x+e.width)),this.adaptTop&&(r=e.y),this.adaptBottom&&(o=s.getVisibleSize().height-(e.y+e.height));var n=Math.max(0,this.margin);i=Math.max(0,i-n),a=Math.max(0,a-n),r=Math.max(0,r-n),o=Math.max(0,o-n),t.width=s.getVisibleSize().width-i-a,t.height=s.getVisibleSize().height-r-o,this.node.setPosition(i-(s.getVisibleSize().width-t.width)/2,o-(s.getVisibleSize().height-t.height)/2),this.debugLogSafeArea(e)}},o.debugLogSafeArea=function(e){},t}(l)).prototype,"adaptTop",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=t(y.prototype,"adaptBottom",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=t(y.prototype,"adaptSides",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=t(y.prototype,"margin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=y))||b)||b)||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/SashimiXWingStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(t){var o,n,e,i,r,a,l,s,c,u;return{setters:[function(t){o=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,e=t.createClass},function(t){i=t.cclegacy},function(t){r=t.HighlightConfig},function(t){a=t.HighlightAreaType,l=t.BLANK_CHAR},function(t){s=t.BaseStrategy},function(t){c=t.SolverUtils},function(t){u=t.oops}],execute:function(){i._RF.push({},"0c12crqhApKpJgPa/OitHuQ","SashimiXWingStrategy",void 0);t("SashimiXWingStrategy",function(t){function i(){for(var o,n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).difficulty=15,o.FISH_SIZE=2,o}o(i,t);var s=i.prototype;return s.execute=function(t,o){var n=this.findSashimiXWing(o);return n?this.createSteps(t,o,n):null},s.findSashimiXWing=function(t){return this.findSashimiXWingInDirection(t,a.ROW)||this.findSashimiXWingInDirection(t,a.COLUMN)},s.findSashimiXWingInDirection=function(t,o){for(var e=1;e<=9;e++){var i=this.findPerfectBaseUnits(t,e,o),r=this.findPotentialSashimiBaseUnits(t,e,o);3===e&&o===a.COLUMN&&console.log("1");for(var l,s=n(i);!(l=s()).done;)for(var c,u=l.value,g=n(r);!(c=g()).done;){var h=[u,c.value],f=this.validateSashimiXWing(t,e,h,o);if(f)return f}}return null},s.findPerfectBaseUnits=function(t,o,n){for(var e=[],i=0;i<9;i++){for(var r=0,l=0;l<9;l++){var s=n===a.ROW?i:l,c=n===a.ROW?l:i;t[s][c].has(o)&&r++}2===r&&e.push(i)}return e},s.findPotentialSashimiBaseUnits=function(t,o,n){for(var e=[],i=n===a.ROW,r=0;r<9;r++){for(var l=[],s=0;s<9;s++){var c=i?r:s,u=i?s:r;t[c][u].has(o)&&l.push({row:c,col:u})}2!==l.length&&3!==l.length||!this.isPotentialSashimiUnit(l)||e.push(r)}return e},s.isPotentialSashimiUnit=function(t){var o=new Map;return t.forEach((function(t){var n=Math.floor(t.row/3)+"-"+Math.floor(t.col/3);o.has(n)||o.set(n,[]),o.get(n).push(t)})),2===o.size},s.validateSashimiXWing=function(t,o,n,e){var i=this,r=e===a.ROW,l=n[0],s=n[1],c=this.getUnitPositions(t,o,l,e);if(2!==c.length)return null;var u=this.getUnitPositions(t,o,s,e);if(u.length<2||u.length>3)return null;var g=u.filter((function(t){return!i.isAtPerfectIntersection(t,c,e)}));if(0===g.length)return null;var h=this.calculateExpectedIntersections(c,u,e),f=h.filter((function(n){return t[n.row][n.col].has(o)})),d=h.filter((function(t){return!f.some((function(o){return o.row===t.row&&o.col===t.col}))}));if(1!=d.length)return null;var C=d[0];if(!g.every((function(t){return i.isSameBox(t,C)})))return null;var v=[r?c[0].col:c[0].row,r?c[1].col:c[1].row],m=this.findSashimiEliminations(t,o,v,e,g);return m.length>0?{value:o,baseUnits:n,coverUnits:v,eliminations:m,intersections:f,direction:e,fins:g,missingIntersection:C}:null},s.calculateExpectedIntersections=function(t,o,n){var e=n===a.ROW,i=[],r=t[0].row,l=e?o[1].row:t[1].row,s=t[0].col,c=e?t[1].col:o[0].col;return i.push({row:r,col:s}),i.push({row:r,col:c}),i.push({row:l,col:s}),i.push({row:l,col:c}),i},s.getUnitPositions=function(t,o,n,e){for(var i=[],r=e===a.ROW,l=0;l<9;l++){var s=r?n:l,c=r?l:n;t[s][c].has(o)&&i.push({row:s,col:c})}return i},s.isAtPerfectIntersection=function(t,o,n){var e=n===a.ROW;return o.some((function(o){return e&&t.col===o.col||!e&&t.row===o.row}))},s.findSashimiEliminations=function(t,o,n,e,i){var r=this,l=e===a.ROW,s=[],c=i.map((function(t){return r.getBoxRange(t)}));return n.forEach((function(a){for(var u=function(){var u=l?g:a,h=l?a:g,f={row:u,col:h};if(i.some((function(t){return t.row===u&&t.col===h}))||!t[u][h].has(o)||r.isAtCoverIntersection(f,n,e))return 1;c.some((function(t){return r.isInBox(f,t)}))&&s.push(f)},g=0;g<9;g++)u()})),s},s.isAtCoverIntersection=function(t,o,n){var e=n===a.ROW?t.row:t.col;return o.includes(e)},s.isSameBox=function(t,o){return Math.floor(t.row/3)===Math.floor(o.row/3)&&Math.floor(t.col/3)===Math.floor(o.col/3)},s.getBoxRange=function(t){return{startRow:3*Math.floor(t.row/3),startCol:3*Math.floor(t.col/3)}},s.isInBox=function(t,o){return t.row>=o.startRow&&t.row<o.startRow+3&&t.col>=o.startCol&&t.col<o.startCol+3},s.createSteps=function(t,o,n){return[this.createDiscoveryStep(t,o,n),this.createFinStep(t,o,n),this.createEliminationStep(t,o,n),this.createRemovalStep(t,o,n)]},s.createDiscoveryStep=function(t,o,n){var e=this,i=n.value,r=n.baseUnits,l=n.direction,s=l===a.ROW;return{technique:this.name,stepId:1,position:{row:r[0],col:0},value:0,get description(){return s?u.language.getLangByID("strategy.row"):u.language.getLangByID("strategy.col"),u.language.getLangByID("SashimiXWingStrategy.discoveryDes",{name:e.name,description:e.description})},highlights:this.highlightBaseUnits(t,o,r,l),highlightNotes:this.highlightNotesBaseUnits(o,i,r,l)}},s.createFinStep=function(t,o,n){var e=this,i=n.value,s=n.baseUnits,c=n.coverUnits,g=n.intersections,h=n.direction,f=n.fins,d=n.missingIntersection,C=h===a.ROW;return{technique:this.name,stepId:2,position:f[0],value:0,get description(){return t=C?u.language.getLangByID("strategy.row"):u.language.getLangByID("strategy.col"),o=C?u.language.getLangByID("strategy.col"):u.language.getLangByID("strategy.row"),u.language.getLangByID("SashimiXWingStrategy.visualizationDes",{name:e.name,value:i,baseDirection:t,baseUnits:s.map((function(t){return t+1})).join(", "),coverDirection:o,coverUnits:c.map((function(t){return t+1})).join(", "),fins:f.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(", "),missingIntersection:"R"+(d.row+1)+"C"+(d.col+1),count:f.length});var t,o},highlights:[].concat(this.highlightBaseUnits(t,o,s,h),this.highlightCoverUnits(t,o,c,h),f.map((function(n){return{position:n,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:t[n.row][n.col]===l?[].concat(o[n.row][n.col]):void 0}})),g.map((function(n){return{position:n,backgroundColor:r.targetCell.background,textColor:r.targetCell.textColor,candidates:t[n.row][n.col]===l?[].concat(o[n.row][n.col]):void 0}})),[{position:d,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:t[d.row][d.col]===l?[].concat(o[d.row][d.col]):void 0}]),highlightNotes:[].concat(g.map((function(t){return{position:t,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:i}})),f.map((function(t){return{position:t,backgroundColor:r.sameNumber.background,textColor:r.sameNumber.textColor,value:i}})))}},s.createEliminationStep=function(t,o,n){var e=this,i=n.value,s=n.baseUnits,c=n.coverUnits,g=n.intersections,h=n.direction,f=n.fins,d=n.eliminations,C=n.missingIntersection,v=h===a.ROW;return{technique:this.name,stepId:3,position:d[0],value:0,get description(){return t=v?u.language.getLangByID("strategy.row"):u.language.getLangByID("strategy.col"),o=v?u.language.getLangByID("strategy.col"):u.language.getLangByID("strategy.row"),u.language.getLangByID("SashimiXWingStrategy.eliminationDes",{name:e.name,value:i,baseDirection:t,baseUnits:s.map((function(t){return t+1})).join(", "),coverDirection:o,coverUnits:c.map((function(t){return t+1})).join(", "),fins:f.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(", "),eliminations:d.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(", "),count:d.length});var t,o},highlights:[].concat(this.highlightBaseUnits(t,o,s,h),this.highlightCoverUnits(t,o,c,h),f.map((function(n){return{position:n,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:t[n.row][n.col]===l?[].concat(o[n.row][n.col]):void 0}})),g.map((function(n){return{position:n,backgroundColor:r.targetCell.background,textColor:r.targetCell.textColor,candidates:t[n.row][n.col]===l?[].concat(o[n.row][n.col]):void 0}})),this.highlightEliminations(t,o,d),[{position:C,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:t[C.row][C.col]===l?[].concat(o[C.row][C.col]):void 0}]),highlightNotes:[].concat(g.map((function(t){return{position:t,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:i}})),f.map((function(t){return{position:t,backgroundColor:r.sameNumber.background,textColor:r.sameNumber.textColor,value:i}})),this.highlightEliminationNotes(o,i,d))}},s.createRemovalStep=function(t,o,n){var e=this,i=n.value,s=n.baseUnits,c=n.coverUnits,g=n.intersections,h=n.direction,f=n.fins,d=n.eliminations,C=n.missingIntersection;d.forEach((function(t){o[t.row][t.col].delete(i)}));var v=h===a.ROW;return{technique:this.name,stepId:4,position:d[0],value:0,get description(){return t=v?u.language.getLangByID("strategy.row"):u.language.getLangByID("strategy.col"),o=v?u.language.getLangByID("strategy.col"):u.language.getLangByID("strategy.row"),u.language.getLangByID("SashimiXWingStrategy.removalDes",{name:e.name,value:i,baseDirection:t,baseUnits:s.map((function(t){return t+1})).join(", "),coverDirection:o,coverUnits:c.map((function(t){return t+1})).join(", "),fins:f.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(", "),count:d.length});var t,o},highlights:[].concat(this.highlightBaseUnits(t,o,s,h),this.highlightCoverUnits(t,o,c,h),f.map((function(n){return{position:n,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:t[n.row][n.col]===l?[].concat(o[n.row][n.col]):void 0}})),g.map((function(n){return{position:n,backgroundColor:r.targetCell.background,textColor:r.targetCell.textColor,candidates:t[n.row][n.col]===l?[].concat(o[n.row][n.col]):void 0}})),this.highlightEliminations(t,o,d),[{position:C,backgroundColor:r.relatedArea.background,textColor:r.relatedArea.textColor,candidates:t[C.row][C.col]===l?[].concat(o[C.row][C.col]):void 0}]),highlightNotes:[].concat(g.map((function(t){return{position:t,backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:i}})),f.map((function(t){return{position:t,backgroundColor:r.sameNumber.background,textColor:r.sameNumber.textColor,value:i}})))}},s.highlightBaseUnits=function(t,o,n,e){return n.flatMap((function(n){return(e===a.ROW?c.getRowCells(n):c.getColumnCells(n)).map((function(n){return{position:n,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:t[n.row][n.col]===l?[].concat(o[n.row][n.col]):void 0}}))}))},s.highlightCoverUnits=function(t,o,n,e){var i=e===a.ROW;return n.flatMap((function(n){return(i?c.getColumnCells(n):c.getRowCells(n)).map((function(n){return{position:n,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:t[n.row][n.col]===l?[].concat(o[n.row][n.col]):void 0}}))}))},s.highlightEliminations=function(t,o,n){return n.map((function(n){return{position:n,backgroundColor:r.sameRelatedAreaCell.background,textColor:r.sameRelatedAreaCell.textColor,candidates:t[n.row][n.col]===l?[].concat(o[n.row][n.col]):void 0}}))},s.highlightNotesBaseUnits=function(t,o,e,i){for(var l,s=i===a.ROW,c=[],u=n(e);!(l=u()).done;)for(var g=l.value,h=0;h<9;h++){var f=s?g:h,d=s?h:g;t[f][d].has(o)&&c.push({position:{row:f,col:d},backgroundColor:r.sameNumber.background,textColor:r.sameNumber.textColor,value:o})}return c},s.highlightNotesCoverUnits=function(t,o,e,i){for(var l,s=i===a.ROW,c=[],u=n(e);!(l=u()).done;)for(var g=l.value,h=0;h<9;h++){var f=s?h:g,d=s?g:h;t[f][d].has(o)&&c.push({position:{row:f,col:d},backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:o})}return c},s.highlightEliminationNotes=function(t,o,n){return n.filter((function(n){return t[n.row][n.col].has(o)})).map((function(t){return{position:t,backgroundColor:r.hintRemoveCell.background,textColor:r.hintRemoveCell.textColor,value:o}}))},e(i,[{key:"name",get:function(){return u.language.getLangByID("SashimiXWingStrategy.name")}},{key:"description",get:function(){return u.language.getLangByID("SashimiXWingStrategy.description")}}]),i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/SeedRandom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RandomManager.ts"],(function(n){var t,e,r;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){r=n.RandomManager}],execute:function(){e._RF.push({},"9b02bnNwwZEWq9Ft59BRCIB","SeedRandom",void 0);n("SeedRandom",function(){function n(n){this.rm=void 0,this.sr=void 0,this.sr=new Math.seedrandom(n),this.rm=new r,this.rm.setRandom(this.sr)}return n.prototype.destroy=function(){this.rm=null,this.sr=null},t(n,[{key:"random",get:function(){return this.rm}}]),n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Selector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){var n,c,o;return{setters:[function(t){n=t.inheritsLoose},function(t){c=t.cclegacy},function(t){o=t.BranchNode}],execute:function(){c._RF.push({},"90470XqT/FGHo/PRQktLcYy","Selector",void 0);t("Selector",function(t){function c(){return t.apply(this,arguments)||this}n(c,t);var o=c.prototype;return o.success=function(){t.prototype.success.call(this),this._control.success()},o.fail=function(){t.prototype.fail.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.fail()},o._run=function(n){this._nodeRunning?this._nodeRunning.run(this._blackboard):t.prototype._run.call(this)},c}(o));c._RF.pop()}}}));

System.register("chunks:///_virtual/Sequence.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BranchNode.ts"],(function(t){var n,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){c=t.BranchNode}],execute:function(){e._RF.push({},"1ef80bgYZBPXqCDIpzHpbBJ","Sequence",void 0);t("Sequence",function(t){function e(n){return t.call(this,n)||this}n(e,t);var c=e.prototype;return c.success=function(){t.prototype.success.call(this),this._actualTask+=1,this._actualTask<this.children.length?this._run(this._blackboard):this._control.success()},c.fail=function(){t.prototype.fail.call(this),this._control.fail()},c._run=function(n){this._nodeRunning?this._nodeRunning.run(this._blackboard):t.prototype._run.call(this)},e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/SettingItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,s,c,l,r,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,c=t._decorator,l=t.Toggle,r=t.Node,h=t.Component}],execute:function(){var a,p,u,g,w,f,b,v,y;s._RF.push({},"0db3d0sZRhG4LL6SKdEV/22","SettingItem",void 0);var d=c.ccclass,_=c.property;t("SettingItem",(a=d("SettingItem"),p=_({type:l,tooltip:"开关",visible:!0}),u=_({type:r,tooltip:"关",visible:!0}),g=_({type:r,tooltip:"开",visible:!0}),a((b=e((f=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s))||this,o(e,"toggle",b,n(e)),o(e,"switch_close",v,n(e)),o(e,"switch_open",y,n(e)),e}i(e,t);var s=e.prototype;return s.start=function(){},s.switchOpen=function(){this.switch_close.active=!1,this.switch_open.active=!0},s.switchClose=function(){this.switch_close.active=!0,this.switch_open.active=!1},s.onToggle=function(t,e){this.toggle.isChecked?this.switchOpen():this.switchClose()},s.setChecked=function(t){this.toggle.isChecked=t,this.toggle.isChecked?this.switchOpen():this.switchClose()},e}(h)).prototype,"toggle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(f.prototype,"switch_close",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(f.prototype,"switch_open",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=f))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/SettingPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventType.ts","./UIConfig.ts","./SettingsManager.ts","./SettingItem.ts","./Oops.ts"],(function(e){var t,i,n,o,l,g,s,r,a,u,c,p,h,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,g=e._decorator,s=e.Label,r=e.Toggle,a=e.Component},function(e){u=e.EventType},function(e){c=e.UIID},function(e){p=e.SettingsManager},function(e){h=e.SettingItem},function(e){m=e.oops}],execute:function(){var C,b,f,T,d,v,y,k,S,w,I,D,L,z,R,G,H,A,E,B,P,N,x,U,_,F,M,j,O,q,J,K,Q;l._RF.push({},"a81c2/SITlPv4sjpBzldnNm","SettingPopup",void 0);var V=g.ccclass,W=g.property;e("Settingpopup",(C=V("Settingpopup"),b=W({type:h,tooltip:"高亮相同数字",visible:!0}),f=W({type:h,tooltip:"高亮笔记中的相同数字",visible:!0}),T=W({type:h,tooltip:"高亮行列",visible:!0}),d=W({type:h,tooltip:"高亮9宫格",visible:!0}),v=W({type:h,tooltip:"高亮所有和选中数字相同的数字的行列",visible:!0}),y=W({type:h,tooltip:"高亮所有和选中数字相同的数字的宫",visible:!0}),k=W({type:h,tooltip:"自动计算",visible:!0}),S=W({type:h,tooltip:"自动侦错",visible:!0}),w=W({type:h,tooltip:"是否显示自动笔记",visible:!0}),I=W({type:h,tooltip:"显示未解数字个数",visible:!0}),D=W({type:h,tooltip:"无限生命",visible:!0}),L=W({type:h,tooltip:"无限提示",visible:!0}),z=W({type:h,tooltip:"导入游戏按钮",visible:!0}),R=W({type:h,tooltip:"导出当局游戏按钮",visible:!0}),G=W({type:s,tooltip:"当前语言",visible:!0}),C((E=t((A=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),g=0;g<i;g++)l[g]=arguments[g];return t=e.call.apply(e,[this].concat(l))||this,n(t,"sameDigitsToggle",E,o(t)),n(t,"duplicateCandidatesToggle",B,o(t)),n(t,"rowsColumnsToggle",P,o(t)),n(t,"blocksToggle",N,o(t)),n(t,"allRowsColumnsToggle",x,o(t)),n(t,"allBlocksToggle",U,o(t)),n(t,"autoCalculateToggle",_,o(t)),n(t,"errorDetectionToggle",F,o(t)),n(t,"autoNotesToggle",M,o(t)),n(t,"unsolvedDigitsCountToggle",j,o(t)),n(t,"infiniteLivesToggle",O,o(t)),n(t,"infiniteHintsToggle",q,o(t)),n(t,"importGameToggle",J,o(t)),n(t,"exportGameToggle",K,o(t)),n(t,"currentLanguage",Q,o(t)),t.currentSettings=void 0,t}i(t,e);var l=t.prototype;return l.onLoad=function(){this.currentSettings=p.getInstance().getSettings(),this.initEventListeners()},l.onDestroy=function(){this.cleanup()},l.initEventListeners=function(){m.message.on(u.REFRESH_LANGUAGE,this.onRefreshLanguage,this)},l.cleanup=function(){m.message.off(u.REFRESH_LANGUAGE,this.onRefreshLanguage,this)},l.start=function(){this.currentSettings&&(this.sameDigitsToggle.setChecked(this.currentSettings.highlight.sameDigits),this.duplicateCandidatesToggle.setChecked(this.currentSettings.highlight.duplicateCandidates),this.rowsColumnsToggle.setChecked(this.currentSettings.highlight.rowsColumns),this.blocksToggle.setChecked(this.currentSettings.highlight.blocks),this.allRowsColumnsToggle.setChecked(this.currentSettings.highlight.allRowsColumns),this.allBlocksToggle.setChecked(this.currentSettings.highlight.allBlocks),this.autoCalculateToggle.setChecked(this.currentSettings.notes.autoCalculate),this.errorDetectionToggle.setChecked(this.currentSettings.notes.errorDetection),this.autoNotesToggle.setChecked(this.currentSettings.notes.autoNotes),this.unsolvedDigitsCountToggle.setChecked(this.currentSettings.other.unsolvedDigitsCount),this.infiniteLivesToggle.setChecked(this.currentSettings.debug.infiniteLives),this.infiniteHintsToggle.setChecked(this.currentSettings.debug.infiniteHints),this.importGameToggle.setChecked(this.currentSettings.debug.importGame),this.exportGameToggle.setChecked(this.currentSettings.debug.exportGame)),this.onRefreshLanguage()},l.onRefreshLanguage=function(){this.currentLanguage.string=m.language.getLangByID("LanguagePopup."+m.language.current)},l.onSameDigitsToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setHighlightSameDigits(n)},l.onDuplicateCandidatesToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setHighlightDuplicateCandidates(n)},l.onRowsColumnsToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setHighlightRowsColumns(n)},l.onBlocksToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setHighlightBlocks(n)},l.onAllRowsColumnsToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setHighlightAllRowsColumns(n)},l.onAllBlocksToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setHighlightAllBlocks(n)},l.onAutoCalculateToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setAutoCalculate(n)},l.onErrorDetectionToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setAutoErrorDetection(n)},l.onAutoNotesToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setAutoNotes(n)},l.onUnsolvedDigitsCountToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setDisplayUnsolvedDigitsCount(n)},l.onInfiniteLivesToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setInfiniteLives(n)},l.onInfiniteHintsToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().setInfiniteHints(n)},l.onImportGameToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().importGame(n)},l.onExportGameToggle=function(e,t){var i=e.target.getComponent(r),n=!(null==i||!i.isChecked);p.getInstance().exportCurrentGame(n)},l.onBack=function(){m.gui.remove(c.SettingPopup)},l.onShowLanguagePopup=function(){m.gui.open(c.LanguagePopup)},l.onShowThemePopup=function(){m.gui.open(c.ThemePopup)},t}(a)).prototype,"sameDigitsToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(A.prototype,"duplicateCandidatesToggle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(A.prototype,"rowsColumnsToggle",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(A.prototype,"blocksToggle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(A.prototype,"allRowsColumnsToggle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(A.prototype,"allBlocksToggle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(A.prototype,"autoCalculateToggle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(A.prototype,"errorDetectionToggle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(A.prototype,"autoNotesToggle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(A.prototype,"unsolvedDigitsCountToggle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(A.prototype,"infiniteLivesToggle",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(A.prototype,"infiniteHintsToggle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(A.prototype,"importGameToggle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(A.prototype,"exportGameToggle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(A.prototype,"currentLanguage",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=A))||H));l._RF.pop()}}}));

System.register("chunks:///_virtual/SettingsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventType.ts","./Oops.ts"],(function(t){var e,i,s,n;return{setters:[function(t){e=t.extends},function(t){i=t.cclegacy},function(t){s=t.EventType},function(t){n=t.oops}],execute:function(){i._RF.push({},"31a0eR2QR9EtpAhA5GBqBjz","SettingsManager",void 0);var g=t("SettingsManager",function(){function t(){this.defaultSettings={highlight:{sameDigits:!0,duplicateCandidates:!0,rowsColumns:!0,blocks:!0,allRowsColumns:!1,allBlocks:!1},notes:{autoCalculate:!0,errorDetection:!0,autoNotes:!1},other:{unsolvedDigitsCount:!0},debug:{infiniteLives:!1,infiniteHints:!1,importGame:!1,exportGame:!1}},this.currentSettings=void 0,this.currentSettings=this.loadSettings()}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var i=t.prototype;return i.getDefaultSettings=function(){return JSON.parse(JSON.stringify(this.defaultSettings))},i.resetToDefaults=function(){return this.currentSettings=this.getDefaultSettings(),this.saveSettings(),this.currentSettings},i.saveSettings=function(){try{n.storage.set(t.SETTINGS_STORAGE_KEY,JSON.stringify(this.currentSettings)),n.message.dispatchEvent(s.REFRESH_SETTING)}catch(t){console.error("保存设置失败:",t)}},i.loadSettings=function(){try{var i=n.storage.get(t.SETTINGS_STORAGE_KEY);if(i){var s=JSON.parse(i);return{highlight:e({},this.defaultSettings.highlight,s.highlight||{}),notes:e({},this.defaultSettings.notes,s.notes||{}),other:e({},this.defaultSettings.other,s.other||{}),debug:e({},this.defaultSettings.debug,s.debug||{})}}}catch(t){console.error("加载设置失败:",t)}return this.getDefaultSettings()},i.getSettings=function(){return this.currentSettings},i.updateSettings=function(t){this.currentSettings=t,this.saveSettings()},i.setHighlightSameDigits=function(t){this.currentSettings.highlight.sameDigits=t,this.saveSettings()},i.setHighlightDuplicateCandidates=function(t){this.currentSettings.highlight.duplicateCandidates=t,this.saveSettings()},i.setHighlightRowsColumns=function(t){this.currentSettings.highlight.rowsColumns=t,this.saveSettings()},i.setHighlightBlocks=function(t){this.currentSettings.highlight.blocks=t,this.saveSettings()},i.setHighlightAllRowsColumns=function(t){this.currentSettings.highlight.allRowsColumns=t,this.saveSettings()},i.setHighlightAllBlocks=function(t){this.currentSettings.highlight.allBlocks=t,this.saveSettings()},i.setAutoCalculate=function(t){this.currentSettings.notes.autoCalculate=t,this.saveSettings()},i.setAutoErrorDetection=function(t){this.currentSettings.notes.errorDetection=t,this.saveSettings()},i.setAutoNotes=function(t){this.currentSettings.notes.autoNotes=t,this.saveSettings()},i.setDisplayUnsolvedDigitsCount=function(t){this.currentSettings.other.unsolvedDigitsCount=t,this.saveSettings()},i.setInfiniteLives=function(t){this.currentSettings.debug.infiniteLives=t,this.saveSettings()},i.setInfiniteHints=function(t){this.currentSettings.debug.infiniteHints=t,this.saveSettings()},i.importGame=function(t){this.currentSettings.debug.importGame=t,this.saveSettings()},i.exportCurrentGame=function(t){this.currentSettings.debug.exportGame=t,this.saveSettings()},t}());g.instance=void 0,g.SETTINGS_STORAGE_KEY="APP_SETTINGS",i._RF.pop()}}}));

System.register("chunks:///_virtual/SingleCandidateStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(e){var t,n,r,a,o,l,i,u,g,c;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,r=e.createClass},function(e){a=e.cclegacy},function(e){o=e.HighlightConfig},function(e){l=e.BLANK_CHAR,i=e.HighlightAreaType},function(e){u=e.BaseStrategy},function(e){g=e.SolverUtils},function(e){c=e.oops}],execute:function(){a._RF.push({},"125a26GhrtKxpf2Oo5xTGNv","SingleCandidateStrategy",void 0);e("SingleCandidateStrategy",function(e){function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).difficulty=1,t}t(a,e);var u=a.prototype;return u.execute=function(e,t){for(var n=0;n<9;n++)for(var r=0;r<9;r++)if(e[n][r]===l&&1===t[n][r].size){var a=Array.from(t[n][r])[0];return this.createHintSteps(e,n,r,a)}return null},u.isApplicable=function(e,t){for(var n=0;n<9;n++)for(var r=0;r<9;r++)if(e[n][r]===l&&1===t[n][r].size)return!0;return!1},u.findSameNumbers=function(e,t){for(var n=[],r=0;r<9;r++)for(var a=0;a<9;a++)e[r][a]===t&&n.push({row:r,col:a});return n},u.getHighlightAreas=function(e,t,n,r){var a=this.getFilledCellsExcludingValueInRow(e,t,r);if(8===a.length)return{type:i.ROW,cells:a,value:r};var o=this.getFilledCellsExcludingValueInColumn(e,n,r);if(8===o.length)return{type:i.COLUMN,cells:o,value:r};var l=this.getFilledCellsExcludingValueInBox(e,t,n,r);return 8===l.length?{type:i.BOX,cells:l,value:r}:{type:i.COMBINED,cells:this.combineAndDeduplicate(e,a,o,l),value:r}},u.combineAndDeduplicate=function(e,t,r,a){for(var o,l=new Map,i=new Map,u=[],g=[].concat(t,r,a),c=n(g);!(o=c()).done;){var s=o.value,d=e[s.row][s.col],h=s.row+","+s.col;l.has(h)||i.has(d)||(l.set(h,s),i.set(d,s),u.push(s))}return u},u.getFilledCellsExcludingValueInRow=function(e,t,n){for(var r=[],a=0;a<9;a++){var o=e[t][a];o!==l&&o!==n&&r.push({row:t,col:a})}return r},u.getFilledCellsExcludingValueInColumn=function(e,t,n){for(var r=[],a=0;a<9;a++){var o=e[a][t];o!==l&&o!==n&&r.push({row:a,col:t})}return r},u.getFilledCellsExcludingValueInBox=function(e,t,n,r){for(var a=3*Math.floor(t/3),o=3*Math.floor(n/3),i=[],u=0;u<3;u++)for(var g=0;g<3;g++){var c=e[a+u][o+g];c!==l&&c!==r&&i.push({row:a+u,col:o+g})}return i},u.buildExplanation=function(e,t,n){var r=e.row,a=e.col;r+=1,a+=1;var o="";switch(n.type){case i.ROW:o=c.language.getLangByID("SingleCandidateStrategy.rowExplanation",{value:t,row:r});break;case i.COLUMN:o=c.language.getLangByID("SingleCandidateStrategy.columnExplanation",{value:t,col:a});break;case i.BOX:o=c.language.getLangByID("SingleCandidateStrategy.boxExplanation",{value:t});break;default:o=c.language.getLangByID("SingleCandidateStrategy.defaultExplanation",{value:t})}return c.language.getLangByID("SingleCandidateStrategy.buildExplanation",{name:this.name,row:r,col:a,value:t,reason:o})},u.createHintSteps=function(e,t,n,r){var a=g.getRelatedCells(t,n),o=this.getHighlightAreas(e,t,n,r);return[this.createDiscoveryStep(e,t,n,r,a),this.createReasoningStep(e,t,n,r,a,o),this.createConclusionStep(e,t,n,r,a,o)]},u.createDiscoveryStep=function(e,t,n,r,a){var l=this;return{technique:this.name,stepId:1,position:{row:t,col:n},value:0,get description(){return c.language.getLangByID("SingleCandidateStrategy.discoveryDes",{name:l.name,description:l.description,row:t+1,col:n+1})},highlights:[].concat(a.map((function(e){return{position:e,backgroundColor:o.relatedArea.background,textColor:o.relatedArea.textColor}})),[{position:{row:t,col:n},backgroundColor:o.targetCell.background,textColor:o.targetCell.textColor}])}},u.createReasoningStep=function(e,t,n,r,a,l){var i=this;return{technique:this.name,stepId:2,position:{row:t,col:n},value:0,get description(){return i.buildExplanation({row:t,col:n},r,l)},highlights:[].concat(this.mergeHighlightCells(a,l.cells),[{position:{row:t,col:n},backgroundColor:o.targetCell.background,textColor:o.targetCell.textColor}])}},u.createConclusionStep=function(e,t,n,r,a,l){var i=this;return{technique:this.name,stepId:3,position:{row:t,col:n},value:r,get description(){return c.language.getLangByID("SingleCandidateStrategy.conclusionDes",{name:i.name,value:r,row:t+1,col:n+1})},highlights:[].concat(this.mergeHighlightCells(a,l.cells),[{position:{row:t,col:n},backgroundColor:o.targetCell.background,textColor:o.targetCell.textColor}])}},u.mergeHighlightCells=function(e,t){var n=new Map;return e.forEach((function(e){var t=e.row+","+e.col;n.set(t,{position:e,backgroundColor:o.relatedArea.background,textColor:o.relatedArea.textColor})})),t.forEach((function(e){var t=e.row+","+e.col;n.set(t,{position:e,backgroundColor:o.hintCell.background,textColor:o.hintCell.textColor})})),Array.from(n.values())},r(a,[{key:"name",get:function(){return c.language.getLangByID("SingleCandidateStrategy.name")}},{key:"description",get:function(){return c.language.getLangByID("SingleCandidateStrategy.description")}}]),a}(u));a._RF.pop()}}}));

System.register("chunks:///_virtual/SkyscraperStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(e){var o,t,r,l,n,a,c,i,s,u;return{setters:[function(e){o=e.inheritsLoose,t=e.createForOfIteratorHelperLoose,r=e.createClass},function(e){l=e.cclegacy},function(e){n=e.HighlightConfig},function(e){a=e.HighlightAreaType,c=e.BLANK_CHAR},function(e){i=e.BaseStrategy},function(e){s=e.SolverUtils},function(e){u=e.oops}],execute:function(){l._RF.push({},"f9e86PTB/FERbzsoZYBFDLr","SkyscraperStrategy",void 0);e("SkyscraperStrategy",function(e){function l(){for(var o,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(o=e.call.apply(e,[this].concat(r))||this).difficulty=7,o}o(l,e);var i=l.prototype;return i.execute=function(e,o){var t=this.checkSkyscraper(e,o);return t?this.createSkyscraperSteps(e,o,t):null},i.checkSkyscraper=function(e,o){for(var t,r=this,l=function(t){9==t&&console.log("p");for(var l=r.findStrongLinks(t,a.ROW,e,o),n=r.findStrongLinks(t,a.COLUMN,e,o),c=0;c<l.length;c++)for(var i,s=function(){var n=l[c],a=l[u],i=r.findSharedColumn(n.cells,a.cells);if(null!==i){var s=[{row:n.areaIndex,col:i},{row:a.areaIndex,col:i}],g=n.cells.find((function(e){return e.col!==i})),d=a.cells.find((function(e){return e.col!==i}));if(g.row===d.row||g.col===d.col)return 0;var C=r.getSharedVisibleCells(g,d,e).filter((function(e){return o[e.row][e.col].has(t)}));if(C.length>0)return{v:{v:{digit:t,strongLinks:[n,a],foundation:s,affectedCells:C}}}}},u=c+1;u<l.length;u++)if(0!==(i=s())&&i)return i.v;for(var g=0;g<n.length;g++)for(var d,C=function(){var l=n[g],a=n[f],c=r.findSharedRow(l.cells,a.cells);if(null!==c){var i=[{row:c,col:l.areaIndex},{row:c,col:a.areaIndex}],s=l.cells.find((function(e){return e.row!==c})),u=a.cells.find((function(e){return e.row!==c}));if(s.row===u.row||s.col===u.col)return 0;var d=r.getSharedVisibleCells(s,u,e).filter((function(e){return o[e.row][e.col].has(t)}));if(d.length>0)return{v:{v:{digit:t,strongLinks:[l,a],foundation:i,affectedCells:d}}}}},f=g+1;f<n.length;f++)if(0!==(d=C())&&d)return d.v},n=1;n<=9;n++)if(t=l(n))return t.v;return null},i.findStrongLinks=function(e,o,t,r){for(var l=[],n=(a.ROW,9),i=0;i<n;i++){var u=(o===a.ROW?s.getRowCells(i):s.getColumnCells(i)).filter((function(o){return t[o.row][o.col]===c&&r[o.row][o.col].has(e)}));2===u.length&&l.push({areaType:o,areaIndex:i,cells:[u[0],u[1]]})}return l},i.findSharedColumn=function(e,o){for(var r,l=e.map((function(e){return e.col})),n=o.map((function(e){return e.col})),a=t(l);!(r=a()).done;)for(var c,i=r.value,s=t(n);!(c=s()).done;){if(i===c.value)return i}return null},i.findSharedRow=function(e,o){for(var r,l=e.map((function(e){return e.row})),n=o.map((function(e){return e.row})),a=t(l);!(r=a()).done;)for(var c,i=r.value,s=t(n);!(c=s()).done;){if(i===c.value)return i}return null},i.createSkyscraperSteps=function(e,o,t){return[this.createDiscoveryStep(e,o,t),this.createColorMappingStep(e,o,t),this.createMarkRemovalStep(e,o,t),this.executeRemovalStep(e,o,t)]},i.createDiscoveryStep=function(e,o,t){var r=this,l=t.digit,c=t.strongLinks,i=t.foundation,g=c[0].areaType===a.ROW?c[0].cells[0].row:c[0].cells[0].col,d=c[1].areaType===a.ROW?c[1].cells[0].row:c[1].cells[0].col,C=this.getAreaCells(c[0].areaType,g),f=this.getAreaCells(c[1].areaType,d),p=c.flatMap((function(e){return[{position:e.cells[0],backgroundColor:n.targetCell.background,textColor:n.targetCell.textColor,candidates:[].concat(o[e.cells[0].row][e.cells[0].col])},{position:e.cells[1],backgroundColor:n.targetCell.background,textColor:n.targetCell.textColor,candidates:[].concat(o[e.cells[1].row][e.cells[1].col])}]})),h=[].concat(C.map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(o[e.row][e.col])}})),f.map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(o[e.row][e.col])}}))),k=[].concat(c.flatMap((function(e){return[{position:e.cells[0],backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l},{position:e.cells[1],backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l}]})),i.map((function(e){return{position:e,backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l}})));return{technique:this.name,stepId:1,position:c[0].cells[0],value:0,get description(){return u.language.getLangByID("SkyscraperStrategy.discoveryDes",{name:r.name,description:r.description})},highlights:s.createDeduplicatedHighlights([h,p]),highlightNotes:k}},i.createColorMappingStep=function(e,o,t){var r=this,l=t.digit,c=t.strongLinks,i=t.foundation,g=(t.affectedCells,c[0].cells.find((function(e){return!i.some((function(o){return r.isSamePosition(o,e)}))})),c[1].cells.find((function(e){return!i.some((function(o){return r.isSamePosition(o,e)}))})),c[0].areaType===a.ROW?c[0].cells[0].row:c[0].cells[0].col),d=c[1].areaType===a.ROW?c[1].cells[0].row:c[1].cells[0].col,C=this.getAreaCells(c[0].areaType,g),f=this.getAreaCells(c[1].areaType,d),p=i[0].row===i[1].row?i[0].row+1:i[0].col+1;return{technique:this.name,stepId:2,position:c[0].cells[0],value:0,get description(){return e=i[0].row===i[1].row?u.language.getLangByID("strategy.row"):u.language.getLangByID("strategy.col"),u.language.getLangByID("SkyscraperStrategy.colorMappingDes",{name:r.name,digit:l,firstLinkA:""+r.getAreaName(c[0].areaType)+(c[0].areaIndex+1)+" (R"+(c[0].cells[0].row+1)+"C"+(c[0].cells[0].col+1),firstLinkB:"R"+(c[0].cells[1].row+1)+"C"+(c[0].cells[1].col+1)+")",secondLinkA:""+r.getAreaName(c[1].areaType)+(c[1].areaIndex+1)+" (R"+(c[1].cells[0].row+1)+"C"+(c[1].cells[0].col+1),secondLinkB:"R"+(c[1].cells[1].row+1)+"C"+(c[1].cells[1].col+1)+")",directionName:e,directionIndex:p});var e},highlights:s.createDeduplicatedHighlights([C.map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(o[e.row][e.col])}})),f.map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(o[e.row][e.col])}})),this.getSharedVisibleCells(i[0],i[1],e).map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(o[e.row][e.col])}})),c.flatMap((function(e){return[{position:e.cells[0],backgroundColor:n.targetCell.background,textColor:n.targetCell.textColor,candidates:[].concat(o[e.cells[0].row][e.cells[0].col])},{position:e.cells[1],backgroundColor:n.targetCell.background,textColor:n.targetCell.textColor,candidates:[].concat(o[e.cells[1].row][e.cells[1].col])}]}))]),highlightNotes:[].concat(c.flatMap((function(e){return[{position:e.cells[0],backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l},{position:e.cells[1],backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l}]})),i.map((function(e){return{position:e,backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l}})))}},i.createMarkRemovalStep=function(e,o,t){var r=this,l=t.digit,c=t.strongLinks,i=t.foundation,g=t.affectedCells,d=c[0].cells.find((function(e){return!i.some((function(o){return r.isSamePosition(o,e)}))})),C=c[1].cells.find((function(e){return!i.some((function(o){return r.isSamePosition(o,e)}))})),f=c[0].areaType===a.ROW?c[0].cells[0].row:c[0].cells[0].col,p=c[1].areaType===a.ROW?c[1].cells[0].row:c[1].cells[0].col,h=this.getAreaCells(c[0].areaType,f),k=this.getAreaCells(c[1].areaType,p),w=i[0].row===i[1].row?i[0].row+1:i[0].col+1;return{technique:this.name,stepId:3,position:c[0].cells[0],value:0,get description(){return e=i[0].row===i[1].row?u.language.getLangByID("strategy.row"):u.language.getLangByID("strategy.col"),u.language.getLangByID("SkyscraperStrategy.markRemovalDes",{name:r.name,digit:l,roofCell1:"R"+(d.row+1)+"C"+(d.col+1),roofCell2:"R"+(C.row+1)+"C"+(C.col+1),directionName:e,directionIndex:w});var e},highlights:s.createDeduplicatedHighlights([h.map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(o[e.row][e.col])}})),k.map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(o[e.row][e.col])}})),this.getSharedVisibleCells(i[0],i[1],e).map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(o[e.row][e.col])}})),c.flatMap((function(e){return[{position:e.cells[0],backgroundColor:n.targetCell.background,textColor:n.targetCell.textColor,candidates:[].concat(o[e.cells[0].row][e.cells[0].col])},{position:e.cells[1],backgroundColor:n.targetCell.background,textColor:n.targetCell.textColor,candidates:[].concat(o[e.cells[1].row][e.cells[1].col])}]})),this.getSharedVisibleCells(d,C,e).map((function(e){return{position:e,backgroundColor:n.sameRelatedAreaCell.background,textColor:n.sameRelatedAreaCell.textColor,candidates:[].concat(o[e.row][e.col])}}))]),highlightNotes:[].concat(c.flatMap((function(e){return[{position:e.cells[0],backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l},{position:e.cells[1],backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l}]})),i.map((function(e){return{position:e,backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l}})),g.map((function(e){return{position:e,backgroundColor:n.hintRemoveCell.background,textColor:n.hintRemoveCell.textColor,value:l}})))}},i.executeRemovalStep=function(e,o,t){var r=this,l=t.digit,c=t.strongLinks,i=t.foundation,g=t.affectedCells;g.forEach((function(e){o[e.row][e.col].delete(l)}));var d=c[0].cells.find((function(e){return!i.some((function(o){return r.isSamePosition(o,e)}))})),C=c[1].cells.find((function(e){return!i.some((function(o){return r.isSamePosition(o,e)}))})),f=c[0].areaType===a.ROW?c[0].cells[0].row:c[0].cells[0].col,p=c[1].areaType===a.ROW?c[1].cells[0].row:c[1].cells[0].col,h=this.getAreaCells(c[0].areaType,f),k=this.getAreaCells(c[1].areaType,p);return{technique:this.name,stepId:4,position:g[0],value:0,get description(){return i[0].row===i[1].row?u.language.getLangByID("strategy.row"):u.language.getLangByID("strategy.col"),u.language.getLangByID("SkyscraperStrategy.removalDes",{name:r.name,digit:l})},highlights:s.createDeduplicatedHighlights([h.map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(o[e.row][e.col])}})),k.map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(o[e.row][e.col])}})),this.getSharedVisibleCells(i[0],i[1],e).map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(o[e.row][e.col])}})),c.flatMap((function(e){return[{position:e.cells[0],backgroundColor:n.targetCell.background,textColor:n.targetCell.textColor,candidates:[].concat(o[e.cells[0].row][e.cells[0].col])},{position:e.cells[1],backgroundColor:n.targetCell.background,textColor:n.targetCell.textColor,candidates:[].concat(o[e.cells[1].row][e.cells[1].col])}]})),this.getSharedVisibleCells(d,C,e).map((function(e){return{position:e,backgroundColor:n.sameRelatedAreaCell.background,textColor:n.sameRelatedAreaCell.textColor,candidates:[].concat(o[e.row][e.col])}}))]),highlightNotes:[].concat(c.flatMap((function(e){return[{position:e.cells[0],backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l},{position:e.cells[1],backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l}]})),i.map((function(e){return{position:e,backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:l}})),g.map((function(e){return{position:e,backgroundColor:n.hintRemoveCell.background,textColor:n.hintRemoveCell.textColor,value:l}})))}},i.getSharedVisibleCells=function(e,o,t){var r=this.getVisibleCells(e,t),l=this.getVisibleCells(o,t);return r.filter((function(e){return l.some((function(o){return e.row===o.row&&e.col===o.col}))}))},i.getVisibleCells=function(e,o){for(var t=[],r=0;r<9;r++)r!==e.col&&t.push({row:e.row,col:r});for(var l=0;l<9;l++)l!==e.row&&t.push({row:l,col:e.col});for(var n=3*Math.floor(e.row/3),a=3*Math.floor(e.col/3),c=0;c<3;c++)for(var i=0;i<3;i++){var s=n+c,u=a+i;s===e.row&&u===e.col||t.push({row:s,col:u})}return t},i.isSamePosition=function(e,o){return e.row===o.row&&e.col===o.col},i.getAreaName=function(e){var o;return(o={},o[a.ROW]=u.language.getLangByID("strategy.row"),o[a.COLUMN]=u.language.getLangByID("strategy.col"),o[a.BOX]=u.language.getLangByID("strategy.box"),o)[e]},i.getAreaCells=function(e,o){if(e===a.ROW)return Array.from({length:9},(function(e,t){return{row:o,col:t}}));if(e===a.COLUMN)return Array.from({length:9},(function(e,t){return{row:t,col:o}}));for(var t=3*Math.floor(o/3),r=o%3*3,l=[],n=0;n<3;n++)for(var c=0;c<3;c++)l.push({row:t+n,col:r+c});return l},r(l,[{key:"name",get:function(){return u.language.getLangByID("SkyscraperStrategy.name")}},{key:"description",get:function(){return u.language.getLangByID("SkyscraperStrategy.description")}}]),l}(i));l._RF.pop()}}}));

System.register("chunks:///_virtual/SolverUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SolveTypes.ts"],(function(r){var t,e,n,o,a,i,u;return{setters:[function(r){t=r.createForOfIteratorHelperLoose,e=r.extends},function(r){n=r.cclegacy},function(r){o=r.NR_SQUARES,a=r.DIGITS,i=r.BLANK_CHAR,u=r.HighlightAreaType}],execute:function(){n._RF.push({},"3a873Ggvk9MA6dPxF8fK04u","SolverUtils",void 0);r("SolverUtils",function(){function r(){}return r.getRelatedCells=function(r,t){for(var e=new Set,n=3*Math.floor(r/3),o=3*Math.floor(t/3),a=0;a<9;a++)a!==t&&e.add(r+","+a);for(var i=0;i<9;i++)i!==r&&e.add(i+","+t);for(var u=0;u<3;u++)for(var l=0;l<3;l++){var s=n+u,f=o+l;s!==r&&f!==t&&e.add(s+","+f)}return Array.from(e).map((function(r){var t=r.split(",").map(Number);return{row:t[0],col:t[1]}}))},r.getBoxIndex=function(r,t){return 3*Math.floor(r/3)+Math.floor(t/3)},r.getBoxCells=function(r){for(var t=[],e=3*Math.floor(r/3),n=r%3*3,o=0;o<3;o++)for(var a=0;a<3;a++)t.push({row:e+o,col:n+a});return t},r.isSamePosition=function(r,t){return r.row===t.row&&r.col===t.col},r.isPositionInArray=function(r,t){var e=this;return t.some((function(t){return e.isSamePosition(t,r)}))},r.validateBoard=function(r){if(!r)return console.warn("空数独"),!1;if(r.length!==o)return console.warn("无效的数独长度，必须正好包含"+o+"个方格"),!1;for(var t=0;t<r.length;t++)if(-1==a.indexOf(r[t])&&r[t]!==i)return console.warn("位置"+t+"发现非法字符: "+r[t]),!1;return!0},r.gridStrToArray=function(r){for(var t=Array(9).fill(null).map((function(){return Array(9).fill(i)})),e=0;e<81;e++){var n=e%9;t[Math.floor(e/9)][n]=r[e]}return t},r.getCandidates=function(r){for(var t=Array(9).fill(null).map((function(){return Array(9).fill(null).map((function(){return new Set}))})),e=0;e<9;e++)for(var n=0;n<9;n++)if(r[e][n]===i){for(var o=new Set,a=0;a<9;a++){var u=r[e][a];u!==i&&o.add(Number(u))}for(var l=0;l<9;l++){var s=r[l][n];s!==i&&o.add(Number(s))}for(var f=3*Math.floor(e/3),c=3*Math.floor(n/3),v=0;v<3;v++)for(var d=0;d<3;d++){var g=r[f+v][c+d];g!==i&&o.add(Number(g))}for(var h=1;h<=9;h++)o.has(h)||t[e][n].add(h)}return t},r.createDeduplicatedHighlights=function(r,t){var e=this,n=[],o=new Map;return r.forEach((function(r){r.forEach((function(r){var a=r.position.row+","+r.position.col,i=o.get(a);void 0===i?(o.set(a,n.length),n.push(r)):n[i]=t?t(n[i],r):e.defaultMergeStrategy(n[i],r)}))})),n},r.defaultMergeStrategy=function(r,t){var e=t.backgroundColor||r.backgroundColor,n=t.textColor||r.textColor,o=t.candidates||r.candidates;return{position:r.position,backgroundColor:e,textColor:n,candidates:o}},r.getRowCells=function(r){return Array.from({length:9},(function(t,e){return{row:r,col:e}}))},r.getColumnCells=function(r){return Array.from({length:9},(function(t,e){return{row:e,col:r}}))},r.getAreaCells=function(r,t){if(r===u.ROW)return Array.from({length:9},(function(r,e){return{row:t,col:e}}));if(r===u.COLUMN)return Array.from({length:9},(function(r,e){return{row:e,col:t}}));for(var e=3*Math.floor(t/3),n=t%3*3,o=[],a=0;a<3;a++)for(var i=0;i<3;i++)o.push({row:e+a,col:n+i});return o},r.getBlockIndex=function(r){return r?3*Math.floor(r.row/3)+Math.floor(r.col/3):-1},r.getCombinations=function(r,t){if(0===t)return[[]];if(0===r.length)return[];var e=r[0],n=r.slice(1),o=this.getCombinations(n,t-1).map((function(r){return[e].concat(r)})),a=this.getCombinations(n,t);return[].concat(o,a)},r.mergeTwoCandidates=function(r,t,e){var n=this;if(9!==t.length||9!==e.length||t.some((function(r){return 9!==r.length}))||e.some((function(r){return 9!==r.length})))throw new Error("候选数数组必须是9x9的二维数组");return t.map((function(t,o){return t.map((function(t,a){var u=e[o][a];if(r[o][a]!==i)return new Set;if(t.size>0&&0===u.size)return new Set(t);if(u.size>0&&0===t.size)return new Set(u);if(t.size>0&&u.size>0){var l=n.getIntersection(t,u);return 0===l.size&&(t.size>0||u.size>0)&&console.warn("候选数冲突 at ("+o+","+a+"): \n                    A=["+[].concat(t)+"], B=["+[].concat(u)+"]"),l}return new Set}))}))},r.getMergedCandidates=function(t,e){var n=this,o=r.getCandidates(t);return e.map((function(r,e){return r.map((function(r,a){if(t[e][a]!==i)return r.size>0&&console.log("冲突：单元格("+e+","+a+")已填但维护候选数非空"),new Set;var u=o[e][a];if(n.isSubset(r,u))return new Set(r);if(n.isSubset(u,r))return new Set(u);var l=n.getIntersection(r,u);return 0===l.size&&u.size>0&&console.warn("候选数冲突 at ("+e+","+a+"): \n                    维护=["+[].concat(r)+"], 实时=["+[].concat(u)+"]"),l}))}))},r.isSubset=function(r,e){if(r.size>e.size)return!1;for(var n,o=t(r);!(n=o()).done;){var a=n.value;if(!e.has(a))return!1}return!0},r.getIntersection=function(r,e){for(var n,o=new Set,a=r.size<=e.size?[r,e]:[e,r],i=a[1],u=t(a[0]);!(n=u()).done;){var l=n.value;i.has(l)&&o.add(l)}return o},r.deduplicateHighlights=function(r,t){void 0===t&&(t="first");for(var n=new Map,o="last"===t?0:r.length-1,a="last"===t?r.length:-1,i="last"===t?1:-1,u=o;u!==a;u+=i){var l=r[u],s=l.position.row+"-"+l.position.col;if(n.has(s)){var f=n.get(s),c=[].concat(new Set([].concat(f.candidates||[],l.candidates||[])));n.set(s,e({},f,l,{candidates:c}))}else n.set(s,e({},l))}return Array.from(n.values())},r.deduplicateHighlightNotes=function(r,t){void 0===t&&(t="first");for(var n=new Map,o="last"===t?0:r.length-1,a="last"===t?r.length:-1,i="last"===t?1:-1,u=o;u!==a;u+=i){var l=r[u],s=l.position.row+"-"+l.position.col+"-"+l.value;if(n.has(s)){var f=n.get(s);n.set(s,e({},f,l))}else n.set(s,e({},l))}return Array.from(n.values())},r.getUnionRelatedCells=function(r){if(0===r.length)return[];for(var e,n=new Set,o=t(r);!(e=o()).done;)for(var a,i=e.value,u=this.getRelatedCells(i.row,i.col),l=t(u);!(a=l()).done;){var s=a.value;this.isPositionInArray(s,r)||n.add(s.row+","+s.col)}return Array.from(n).map((function(r){var t=r.split(",").map(Number);return{row:t[0],col:t[1]}}))},r.getIntersectionRelatedCells=function(r){if(0===r.length)return[];for(var e,n=new Map,o=t(r);!(e=o()).done;)for(var a,i=e.value,u=this.getRelatedCells(i.row,i.col),l=t(u);!(a=l()).done;){var s=a.value;if(!this.isPositionInArray(s,r)){var f=s.row+","+s.col,c=n.get(f)||{pos:s,count:0};n.set(f,{pos:s,count:c.count+1})}}for(var v,d=[],g=t(n.values());!(v=g()).done;){var h=v.value,p=h.pos;h.count===r.length&&d.push(p)}return d},r}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SolveTypes.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"6bbd2awislLAaF4DOLERkYH","SolveTypes",void 0);e("MIN_GIVENS",17),e("NR_SQUARES",81),e("DIGITS","123456789"),e("BLANK_CHAR","0"),e("HighlightAreaType",function(e){return e.ROW="row",e.COLUMN="column",e.BOX="box",e.COMBINED="combined",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SolvingStep.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"32586n07V5Lq68qP7IeNRIl","SolvingStep",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/SpineFinishedRelease.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(e){var t,i,n,s,o,r,a,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.sp,p=e.Component},function(e){l=e.oops}],execute:function(){var h,c,u;o._RF.push({},"9589eKB/RZKXpxoYhz5SyC7","SpineFinishedRelease",void 0);var d=r.ccclass,f=r.property;e("SpineFinishedRelease",d("SpineFinishedRelease")((u=t((c=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"isDestroy",u,s(t)),t.spine=void 0,t.resPath=null,t}i(t,e);var o=t.prototype;return o.setResPath=function(e){this.resPath=e},o.onLoad=function(){var e=this;this.spine=this.getComponent(a.Skeleton),this.spine.setCompleteListener(this.onSpineComplete.bind(this)),this.resPath?l.res.load(this.resPath,a.SkeletonData,(function(t,i){t?console.error("加载【"+e.resPath+"】的 SPINE 资源不存在"):(e.spine.skeletonData=i,e.spine.setAnimation(0,"animation",!1))})):this.spine.setAnimation(0,"animation",!1)},o.onSpineComplete=function(){this.isDestroy?this.node.destroy():this.node.removeFromParent()},t}(p)).prototype,"isDestroy",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),h=c))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/StatisticsManager.ts",["cc","./Config.ts","./GameStatistics.ts","./Oops.ts"],(function(t){var e,i,s,a;return{setters:[function(t){e=t.cclegacy},function(t){i=t.SudokuDifficulty},function(t){s=t.DifficultyStatisticsImpl},function(t){a=t.oops}],execute:function(){e._RF.push({},"65b96vyk3BE8LRsdl6BlnCV","StatisticsManager",void 0);var n=t("StatisticsManager",function(){function t(){}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var e=t.prototype;return e.getStatistics=function(){var e=a.storage.get(t.STATS_STORAGE_KEY);return e?JSON.parse(e):this.getDefaultStatistics()},e.updateStatistics=function(t,e){var i=this.getStatistics(),s=t.displayDifficulty,a=i.difficultyStats[s];a.gamesPlayed++,e?(a.gamesCompleted++,a.totalTime+=t.timeElapsed,(t.timeElapsed<a.bestTime||0===a.bestTime)&&(a.bestTime=t.timeElapsed),0===t.errorCount&&a.perfectGames++,a.currentStreak++,a.currentStreak>a.longestStreak&&(a.longestStreak=a.currentStreak)):a.currentStreak=0,a.winRate=this.getWinRate(a.gamesPlayed,a.gamesCompleted),a.averageTime=this.getAverageTime(a.gamesCompleted,a.totalTime),this.saveStatistics(i)},e.resetDifficultyStats=function(t){var e=this.getStatistics();e.difficultyStats[t]=this.getDefaultDifficultyStats(),this.saveStatistics(e)},e.resetAllStats=function(){a.storage.set(t.STATS_STORAGE_KEY,JSON.stringify(this.getDefaultStatistics()))},e.getDefaultStatistics=function(){var t;return{totalGames:0,totalCompleted:0,difficultyStats:(t={},t[i.Novice]=this.getDefaultDifficultyStats(),t[i.Beginner]=this.getDefaultDifficultyStats(),t[i.Elementary]=this.getDefaultDifficultyStats(),t[i.Intermediate]=this.getDefaultDifficultyStats(),t[i.Advanced]=this.getDefaultDifficultyStats(),t[i.Expert]=this.getDefaultDifficultyStats(),t[i.Master]=this.getDefaultDifficultyStats(),t[i.Extreme]=this.getDefaultDifficultyStats(),t),lastUpdated:this.getTodayString()}},e.getDefaultDifficultyStats=function(){return new s},e.saveStatistics=function(e){e.lastUpdated=this.getTodayString(),a.storage.set(t.STATS_STORAGE_KEY,JSON.stringify(e))},e.getTodayString=function(){return(new Date).toISOString().split("T")[0]},e.getWinRate=function(t,e){return t>0?Math.round(e/t*100):0},e.getAverageTime=function(t,e){return t>0?Math.round(e/t):0},t}());n.instance=void 0,n.STATS_STORAGE_KEY="sudoku_statistics_v2",e._RF.pop()}}}));

System.register("chunks:///_virtual/StatisticsPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./GameLogic.ts","./StatisticsManager.ts"],(function(e){var t,i,a,l,r,n,o,s,c,u,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,n=e._decorator,o=e.Label,s=e.Component},function(e){c=e.SudokuDifficulty},function(e){u=e.GameLogic},function(e){b=e.StatisticsManager}],execute:function(){var p,g,f,m,y,L,d,S,h,v,w,T,k,z,P,D,I,R,C;r._RF.push({},"a54bfsJ3TxBg7sMRH+kEx6i","StatisticsPage",void 0);var G=n.ccclass,U=n.property;e("StatisticsPage",(p=G("StatisticsPage"),g=U({type:o,tooltip:"已玩游戏次数",visible:!0}),f=U({type:o,tooltip:"已通关游戏次数",visible:!0}),m=U({type:o,tooltip:"胜率",visible:!0}),y=U({type:o,tooltip:"无误通关次数",visible:!0}),L=U({type:o,tooltip:"最快用时",visible:!0}),d=U({type:o,tooltip:"平均用时",visible:!0}),S=U({type:o,tooltip:"当前连胜次数",visible:!0}),h=U({type:o,tooltip:"最长连胜次数",visible:!0}),p((T=t((w=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t=e.call.apply(e,[this].concat(r))||this,a(t,"gamesPlayedLabel",T,l(t)),a(t,"gamesCompletedLabel",k,l(t)),a(t,"winRateLabel",z,l(t)),a(t,"perfectGamesLabel",P,l(t)),a(t,"bestTimeLabel",D,l(t)),a(t,"avgTimeLabel",I,l(t)),a(t,"currentStreakLabel",R,l(t)),a(t,"longestStreakLabel",C,l(t)),t.difficulty=c.Beginner,t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.updateUI(this.difficulty)},r.start=function(){},r.update=function(e){},r.updateUI=function(e){console.log("刷新统计UI",e);var t=b.getInstance().getStatistics().difficultyStats[e];this.gamesPlayedLabel.string=t.gamesPlayed.toString(),this.gamesCompletedLabel.string=t.gamesCompleted.toString(),this.winRateLabel.string=t.winRate+"%",this.perfectGamesLabel.string=t.perfectGames.toString(),this.bestTimeLabel.string=u.formatTimeDisplay(t.bestTime),this.avgTimeLabel.string=u.formatTimeDisplay(t.averageTime),this.currentStreakLabel.string=t.currentStreak.toString(),this.longestStreakLabel.string=t.longestStreak.toString()},r.onToggle=function(e,t){var i=t;i!==this.difficulty&&(this.difficulty=i,this.updateUI(i))},r.onResetDifficultyStats=function(e,t){b.getInstance().resetDifficultyStats(this.difficulty),this.updateUI(this.difficulty)},t}(s)).prototype,"gamesPlayedLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(w.prototype,"gamesCompletedLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(w.prototype,"winRateLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(w.prototype,"perfectGamesLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(w.prototype,"bestTimeLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(w.prototype,"avgTimeLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(w.prototype,"currentStreakLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(w.prototype,"longestStreakLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/StorageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n;return{setters:[function(e){t=e.createClass},function(e){r=e.cclegacy,n=e.sys}],execute:function(){r._RF.push({},"ed226gLF85Oyr+WhA9TJZLX","StorageManager",void 0);e("StorageManager",function(){function e(){this.id=null,this.iss=null}var r=e.prototype;return r.init=function(e){this.iss=e},r.setUser=function(e){this.id=e},r.set=function(e,t){var r=this.getKey(e);if(null!=e){if(this.encrypted&&(r=this.iss.encryptKey(r)),null==t)return console.warn("存储的值为空，则直接移除该存储"),void this.remove(e);if("function"!=typeof t){if("object"==typeof t)try{t=JSON.stringify(t)}catch(e){return void console.error("解析失败，str = "+t)}else"number"==typeof t&&(t+="");this.encrypted&&(t=this.iss.encrypt(t)),n.localStorage.setItem(r,t)}else console.error("储存的值不能为方法")}else console.error("存储的key不能为空")},r.get=function(e,t){if(void 0===t&&(t=""),null==e)return console.error("存储的key不能为空"),null;e=this.getKey(e),this.encrypted&&(e=this.iss.encryptKey(e));var r=n.localStorage.getItem(e);return null!=r&&""!==r&&this.encrypted&&(r=this.iss.decrypt(r)),null===r?t:r},r.getNumber=function(e,t){void 0===t&&(t=0);var r=this.get(e);return"0"==r?Number(r):Number(r)||t},r.getBoolean=function(e){return"true"===this.get(e).toLowerCase()},r.getJson=function(e,t){var r=this.get(e);return r&&JSON.parse(r)||t},r.remove=function(e){if(null!=e){var t=this.getKey(e);this.encrypted&&(t=this.iss.encryptKey(t)),n.localStorage.removeItem(t)}else console.error("存储的key不能为空")},r.clear=function(){n.localStorage.clear()},r.getKey=function(e){return null==this.id||""==this.id?e:this.id+"_"+e},t(e,[{key:"encrypted",get:function(){return!1}}]),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/StorageSecurityCrypto.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fbbbdioMCNOmI7KMEU46FfN","StorageSecurityCrypto",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/StorageSecuritySimple.ts",["cc","./Oops.ts"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.oops}],execute:function(){t._RF.push({},"386e3+fu+RJB5VSgow0kwS4","StorageSecuritySimple",void 0);e("StorageSecuritySimple",function(){function e(){this.secretkey=null;var e=r.config.game.localDataKey,t=r.config.game.localDataIv;this.secretkey=e+t}var t=e.prototype;return t.encrypt=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e.charCodeAt(r)^this.secretkey.charCodeAt(r%this.secretkey.length));return t},t.decrypt=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e.charCodeAt(r)^this.secretkey.charCodeAt(r%this.secretkey.length));return t},t.encryptKey=function(e){return this.encrypt(e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/StoredGameData.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"37fa1NPsYZJeLUIZFfJjKfn","StoredGameData",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/StringFormat.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"85fe8Gc6h5Ava+JsdbBs8cR","StringFormat",void 0);t("StringFormatFunction",new(function(){function t(){}var e=t.prototype;return e.deal=function(t,e){if(""===e)return t;var n=(e=e.toLowerCase().trim()).match(/^[a-z|A-Z]+/gi),i=e.match(/\d+$/gi),r="",o=0,c="";if(n&&(r=n[0]),i&&(o=parseInt(i[0])),"number"==typeof t)switch(r){case"int":c=this.int(t);break;case"fix":c=this.fix(t,o);break;case"kmbt":c=this.KMBT(t);break;case"per":c=this.per(t,o);break;case"sep":c=this.sep(t)}else{switch(r){case"limit":c=this.limit(t,o)}c=t}return c},e.sep=function(t){return Math.round(t).toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,")},e.time_m=function(t){},e.time_s=function(t){},e.time_ms=function(t){},e.timeStamp=function(t){return new Date(t).toString()},e.per=function(t,e){return Math.round(100*t).toFixed(e)},e.int=function(t){return Math.round(t)},e.fix=function(t,e){return t.toFixed(e)},e.limit=function(t,e){return t.substring(0,e)},e.KMBT=function(t,e){return this.compressUnit(t,[1e3,1e6,1e9,1e12],["","K","M","B","T"],2)},e.compressUnit=function(t,e,n,i){void 0===i&&(i=2);var r,o=e,c=n,u="";for(r=0;r<o.length;r++){if(t<o[r]){u=r>0?(t/o[r-1]).toFixed(i):t.toFixed(0);break}}return u+c[r]},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtil.ts",["cc"],(function(r){var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){t._RF.push({},"aa8435LSBtAR5HPsje6IJ2w","StringUtil",void 0);r("StringUtil",function(){function r(){}return r.guid=function(){for(var r="",t=1;t<=32;t++){r+=Math.floor(16*Math.random()).toString(16),8!=t&&12!=t&&16!=t&&20!=t||(r+="-")}return r},r.numberTotPermil=function(r){return r.toLocaleString()},r.numberToThousand=function(r,t){void 0===t&&(t=2);var n=1e3;if(r<n)return r.toString();var e=Math.floor(Math.log(r)/Math.log(n));return(r/Math.pow(n,e)).toFixed(t)+["","K","M","G"][e]},r.numberToTenThousand=function(r,t){void 0===t&&(t=2);var n=1e4;if(r<n)return r.toString();var e=Math.floor(Math.log(r)/Math.log(n));return(r/Math.pow(n,e)).toFixed(t)+["","万","亿","万亿"][e]},r.stringToArray1=function(r){return""==r?[]:r.split(",")},r.stringToArray2=function(r){return""==r?[]:r.split("|")},r.stringToArray3=function(r){return""==r?[]:r.split(":")},r.stringToArray4=function(r){return""==r?[]:r.split(";")},r.sub=function(r,t,n){void 0===n&&(n=!1);var e=/[^\x00-\xff]/g;if(r.replace(e,"mm").length<=t)return r;for(var o=Math.floor(t/2);o<r.length;o++)if(r.substr(0,o).replace(e,"mm").length>=t)return n?r.substr(0,o)+"...":r.substr(0,o);return r},r.stringLen=function(r){for(var t=0,n=r.length,e=-1,o=0;o<n;o++)t+=(e=r.charCodeAt(o))>=0&&e<=128?1:2;return t},r.IsEmpty=function(r){return null==r||null==r||0==r.length},r.substitute=function(r){if(null==r)return"";for(var t=arguments.length,n=new Array(t>1?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];var o,u=n.length;1==u&&n[0]instanceof Array?u=(o=n[0]).length:o=n;for(var i=0;i<u;i++)r=r.replace(new RegExp("\\{"+i+"\\}","g"),o[i]);return r},r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/StructuredDailyChallengeHistory.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"75613fhGk9GzJtVUezAE43b","StructuredDailyChallengeHistory",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/StructuredHistory.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"a1b81F+vnND+Kf9LTtFcMCS","StructuredHistory",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/SuccessPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIConfig.ts","./GameLogic.ts","./StatisticsManager.ts","./Oops.ts"],(function(e){var t,i,o,a,n,r,l,s,c,u,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,l=e.Label,s=e.Component},function(e){c=e.UIID},function(e){u=e.GameLogic},function(e){p=e.StatisticsManager},function(e){b=e.oops}],execute:function(){var f,g,m,y,v,L,d,S,h;n._RF.push({},"46a03Cxo89ISrit8elP4vjV","SuccessPopup",void 0);var P=r.ccclass,D=r.property;e("SuccessPopup",(f=P("SuccessPopup"),g=D({type:l,tooltip:"分数",visible:!0}),m=D({type:l,tooltip:"难度",visible:!0}),y=D({type:l,tooltip:"耗时",visible:!0}),f((d=t((L=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,o(t,"scoreLabel",d,a(t)),o(t,"levelLabel",S,a(t)),o(t,"timeLabel",h,a(t)),t}i(t,e);var n=t.prototype;return n.start=function(){},n.update=function(e){},n.onAdded=function(e){console.log("params->",e),this.scoreLabel.string=e.gameData.score.toString(),this.levelLabel.string=e.difficulty,this.timeLabel.string=u.formatTimeDisplay(e.gameData.timeElapsed),p.getInstance().updateStatistics(e.gameData,!0)},n.onStartNewGame=function(){b.gui.open(c.LevelPopup)},n.onBack=function(){b.gui.remove(c.SuccessPopup),b.gui.replaceAsync(c.Game,c.Lobby)},t}(s)).prototype,"scoreLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(L.prototype,"levelLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=t(L.prototype,"timeLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=L))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/sudoku.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var n,e;return{setters:[function(r){n=r.createForOfIteratorHelperLoose},function(r){e=r.cclegacy}],execute:function(){r({board_grid_to_string:function(r){for(var n="",e=0;e<9;e++)for(var o=0;o<9;o++)n+=r[e][o];return n},board_string_to_grid:function(r){for(var n=[],e=[],o=0;o<r.length;o++)e.push(r[o]),o%9==8&&(n.push(e),e=[]);return n},generate:function r(e,t){void 0===e&&(e="easy");"string"!=typeof e&&void 0!==e||(e=l[e]||l.easy);e=function(r,n,e){void 0===e&&(e=0);if((r=r||0)<e)return e;if(r>n)return n;return r}(e,82,17);var a=s(d.repeat(81));if(!a)throw new Error("Failed to generate candidate map for blank board.");for(var u=0,f=m(o);u<f.length;u++){var v=f[u],i=y(a[v].length),g=a[v][i];if(!c(a,v,g))break;for(var p,w=[],b=n(o);!(p=b()).done;){var _=p.value;1===a[_].length&&w.push(a[_])}if(w.length>=Number(e)&&E(w).length>=8){for(var N="",O=[],B=0;B<o.length;B++){var S=o[B];1===a[S].length?(N+=a[S],O.push(B)):N+=d}var A=O.length;if(A>Number(e))for(var F=m(O),H=0;H<A-Number(e);H++){var k=F[H];N=N.substring(0,k)+d+N.substring(k+1)}if(h(N))return N}}return r(e)},get_candidates:function(r){var n=w(r);if(!0!==n)throw new Error(n);var e=s(r);if(!e)return!1;var o=[],t=[],a=0;for(var u in e)t.push(e[u]),a%9==8&&(o.push(t),t=[]),a++;return o},print_board:function(r){var n=w(r);if(!0!==n)throw new Error(n);for(var e="",o=0;o<r.length;o++){var t=r[o];e+=t+" ",o%3==2&&(e+="  "),o%9==8&&(e+="\n"),o%27==26&&(e+="\n")}console.log(e)},solve:h,validate_board:w}),e._RF.push({},"37aafd7LdBHm4OTb3XNBZfW","sudoku",void 0);var o,t,a,u,f=r("DIGITS","123456789"),v="ABCDEFGHI",i=f,l={easy:62,medium:53,hard:44,"very-hard":35,insane:26,inhuman:17},d=r("BLANK_CHAR","0");r("BLANK_BOARD","000000000000000000000000000000000000000000000000000000000000000000000000000000000");function h(r,n){void 0===n&&(n=!1);var e=w(r);if(!0!==e)throw new Error(e);for(var o=0,t=0;t<r.length;t++)r[t]!==d&&_(r[t],f)&&o++;if(o<17)throw new Error("Too few givens. Minimum givens is 17");var a=g(s(r),n);if(a){var u="";for(var v in a)u+=a[v];return u}return!1}function s(r){var e=w(r);if(!0!==e)throw new Error(e);for(var t,a={},u=function(r){var n={};if(r.length!==o.length)throw new Error("数独板长度与方格总数不匹配");for(var e=0;e<o.length;e++)n[o[e]]=r[e];return n}(r),v=n(o);!(t=v()).done;){a[t.value]=f}for(var i in u){var l=u[i];if(_(l,f))if(!c(a,i,l))return!1}return a}function g(r,e){if(void 0===e&&(e=!1),!r)return!1;for(var t,a=0,u=n(o);!(t=u()).done;){var f=r[t.value].length;f>a&&(a=f)}if(1===a)return r;for(var v,i=10,l=null,d=n(o);!(v=d()).done;){var h=v.value,s=r[h].length;s<i&&s>1&&(i=s,l=h)}if(null===l)return!1;var p=r[l];if(e)for(var w=p.length-1;w>=0;w--){var b=p[w],_=g(c(JSON.parse(JSON.stringify(r)),l,b),e);if(_)return _}else for(var m,y=n(p);!(m=y()).done;){var E=m.value,N=g(c(JSON.parse(JSON.stringify(r)),l,E),e);if(N)return N}return!1}function c(r,e,o){for(var t,a=r[e].replace(o,""),u=n(a);!(t=u()).done;){if(!p(r,e,t.value))return!1}return r}function p(r,e,o){if(!_(o,r[e]))return r;r[e]=r[e].replace(o,"");var t=r[e].length;if(1===t)for(var f,v=r[e],i=n(u[e]);!(f=i()).done;){if(!p(r,f.value,v))return!1}else if(0===t)return!1;for(var l,d=n(a[e]);!(l=d()).done;){for(var h,s=l.value,g=[],w=n(s);!(h=w()).done;){var b=h.value;_(o,r[b])&&g.push(b)}if(0===g.length)return!1;if(1===g.length&&!c(r,g[0],o))return!1}return r}function w(r){if(!r)return"空数独";if(81!==r.length)return"无效的数独长度，必须正好包含81个方格";for(var n=0;n<r.length;n++)if(!_(r[n],f)&&r[n]!==d)return"位置"+n+"发现非法字符: "+r[n];return!0}function b(r,e){for(var o,t=[],a=n(r);!(o=a()).done;)for(var u,f=o.value,v=n(e);!(u=v()).done;){var i=u.value;t.push(f+i)}return t}function _(r,n){return-1!==n.indexOf(r)}function m(r){for(var e,o=new Array(r.length).fill(!1),t=n(r);!(e=t()).done;){for(var a=e.value,u=y(r.length);!1!==o[u];)u=u+1>r.length-1?0:u+1;o[u]=a}return o}function y(r,n){if(void 0===n&&(n=0),r)return Math.floor(Math.random()*(r-n))+n;throw new Error("Range undefined")}function E(r){for(var e,o=[],t={},a=n(r);!(e=a()).done;){var u=e.value;t[String(u)]||(o.push(u),t[String(u)]=!0)}return o}o=b(v,i),t=function(r,e){for(var o,t=[],a=n(r);!(o=a()).done;){var u=o.value;t.push(b(u,e))}for(var f,v=n(e);!(f=v()).done;){var i=f.value;t.push(b(r,i))}for(var l=["123","456","789"],d=0,h=["ABC","DEF","GHI"];d<h.length;d++)for(var s,g=h[d],c=n(l);!(s=c()).done;){var p=s.value;t.push(b(g,p))}return t}(v,i),a=function(r,e){for(var o,t={},a=n(r);!(o=a()).done;){for(var u,f=o.value,v=[],i=n(e);!(u=i()).done;){var l=u.value;-1!==l.indexOf(f)&&v.push(l)}t[f]=v}return t}(o,t),u=function(r,e){for(var o,t={},a=n(r);!(o=a()).done;){for(var u,f=o.value,v=e[f],i=[],l=n(v);!(u=l()).done;)for(var d,h=u.value,s=n(h);!(d=s()).done;){var g=d.value;-1===i.indexOf(g)&&g!==f&&i.push(g)}t[f]=i}return t}(o,a),e._RF.pop()}}}));

System.register("chunks:///_virtual/SudokuCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configuration.ts","./EventType.ts","./GameLogic.ts","./SettingsManager.ts","./NoteNumber.ts","./Oops.ts"],(function(e){var t,i,o,s,n,l,r,a,h,c,u,m,p,g,N,b,f,C,d,v,E,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,r=e.Sprite,a=e.Label,h=e.Node,c=e.Color,u=e.Vec3,m=e.UITransform,p=e.size,g=e.tween,N=e.Component},function(e){b=e.Configuration},function(e){f=e.EventType},function(e){C=e.CellRelationType,d=e.AssociationType},function(e){v=e.SettingsManager},function(e){E=e.NoteNumber},function(e){T=e.oops}],execute:function(){var S,y,w,L,R,I,H,F,A,B,k,U,_,D,O;n._RF.push({},"a3a49W7yzFH5YpNPBFH8yrv","SudokuCell",void 0);var P=l.ccclass,M=l.property;e("SudokuCell",(S=P("SudokuCell"),y=M({type:r,tooltip:"单元格背景",visible:!0}),w=M({type:a,tooltip:"单元格文字",visible:!0}),L=M({type:h,tooltip:"笔记节点根节点",visible:!0}),R=M({type:[h],tooltip:"笔记节点",visible:!0}),I=M(c),H=M({type:h,tooltip:"遮罩节点",visible:!0}),S((B=t((A=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,o(t,"cellBG",B,s(t)),o(t,"cellLabel",k,s(t)),o(t,"nodeNoteRoot",U,s(t)),o(t,"nodeNotes",_,s(t)),o(t,"warningColor",D,s(t)),o(t,"mask",O,s(t)),t.row=0,t.col=0,t.cellNumber=0,t.solutionNumber=0,t.cellSize=0,t.canFill=!1,t.isSwitchNote=!1,t.relation={type:C.UNRELATED,isSameNumber:!1},t.selectNumber=0,t.notesNumber=[0,0,0,0,0,0,0,0,0],t.appSettings=void 0,t.isCanTouch=!0,t.originalProps={isEnable:!1,color:new c,scale:new u,position:new u},t.currentTween=null,t.isAnimating=!1,t.isHistoryItem=!1,t.isHintNote=!1,t}i(t,e);var n=t.prototype;return n.onLoad=function(){this.isHistoryItem||(this.initEventListeners(),this.registerTouchEvent()),this.appSettings=v.getInstance().getSettings()},n.onDestroy=function(){this.isHistoryItem||this.cleanup()},n.init=function(e,t,i,o,s){void 0===o&&(o=0),void 0===s&&(s=!1),this.row=e,this.col=t,this.cellNumber=o,this.cellSize=i,this.isHistoryItem=s,this.getComponent(m).contentSize=p(i,i),this.hideAllNodeNote(),this.cellLabel.node.active=!0,this.mask.active=!1,this.isCanTouch=!0,0==this.cellNumber?(this.cellLabel.string="",this.canFill=!0):(this.cellLabel.string=o.toString(),this.canFill=!1),this.refreshCell()},n.initHistoryItem=function(){this.cellLabel.node.scale=new u(this.cellSize/77,this.cellSize/77),this.isHistoryItem=!0,this.nodeNoteRoot.active=!1,this.mask.active=!1,this.isCanTouch=!1},n.initNumber=function(e,t){this.reset(),this.cellNumber=e,this.solutionNumber=t,this.cellLabel.node.active=!0,0==this.cellNumber?(this.cellLabel.string="",this.canFill=!0):(this.cellLabel.string=e.toString(),this.canFill=!1),this.refreshCell()},n.hideAllNodeNote=function(){this.nodeNoteRoot.active=!1,this.notesNumber=[0,0,0,0,0,0,0,0,0],this.nodeNotes.forEach((function(e,t){e.active=!1}))},n.reset=function(){this.hideAllNodeNote(),this.cellLabel.string="",this.canFill=!1,this.isCanTouch=!0,this.mask.active=!1,this.isHintNote=!1},n.resetHint=function(){this.mask.active=!0,this.isCanTouch=!1,this.stopAllAnimations(),this.applyDefaultStyle(),this.cellNumber&&0!=this.cellNumber&&!this.checkIsFinish()&&this.canFill&&this.applyErrorStyle(),this.isHintNote&&this.setNoteNumber({number:"000000000",isUndo:!0,isHint:!0}),this.setDefaultHintNoteColor()},n.hintComplete=function(){this.mask.active=!1,this.isCanTouch=!0},n.refreshQuickNote=function(e){var t=this;this.canFill&&(this.hideAllNodeNote(),e.split("").map(Number).forEach((function(e){t.setNoteNumber({number:e,isUndo:!0})})))},n.isSelect=function(){return this.relation.type==C.SELECTED},n.onTouch=function(){this.isCanTouch&&T.message.dispatchEvent(f.SELECT_CELL,{row:this.row,col:this.col,value:this.cellNumber,canFill:this.canFill,isFinish:this.checkIsFinish()})},n.initEventListeners=function(){T.message.on(f.REFRESH_THEME,this.onRefreshTheme,this),T.message.on(f.CHECK_TOUCH_NUMBERBTN_FINISH,this.onRefreshNumber,this),T.message.on(f.ERASE_NUMBER,this.onEraseNumber,this),T.message.on(f.SWITCH_NOTE,this.onSwitchNote,this),T.message.on(f.HINT_NUMBER,this.onHintNumber,this),T.message.on(f.INPUT_NUMBER,this.onRefreshNoteNumber,this),T.message.on(f.REFRESH_SETTING,this.onRefreshSetting,this)},n.cleanup=function(){T.message.off(f.REFRESH_THEME,this.onRefreshTheme,this),T.message.off(f.CHECK_TOUCH_NUMBERBTN_FINISH,this.onRefreshNumber,this),T.message.off(f.ERASE_NUMBER,this.onEraseNumber,this),T.message.off(f.SWITCH_NOTE,this.onSwitchNote,this),T.message.off(f.HINT_NUMBER,this.onHintNumber,this),T.message.off(f.INPUT_NUMBER,this.onRefreshNoteNumber,this),T.message.off(f.REFRESH_SETTING,this.onRefreshSetting,this)},n.toICellData=function(){return{row:this.row,col:this.col,number:this.cellNumber}},n.applyRelation=function(e,t){this.relation=e||{type:C.UNRELATED,isSameNumber:!1},this.selectNumber=t,this.refreshCell()},n.saveOriginalProps=function(){this.originalProps.isEnable=!0,this.originalProps.color=this.cellLabel.color.clone(),this.originalProps.scale=this.cellLabel.node.scale.clone(),this.originalProps.position=this.cellLabel.node.position.clone()},n.stopAllAnimations=function(){this.currentTween&&(this.currentTween.stop(),this.currentTween=null),this.resetToOriginal(),this.isAnimating=!1},n.resetToOriginal=function(){this.originalProps.isEnable&&(this.cellLabel.color=this.originalProps.color,this.cellLabel.node.scale=this.originalProps.scale,this.cellLabel.node.position=this.originalProps.position)},n.playComboWarningSafe=function(){var e;return!(this.isSwitchNote&&(null==(e=this.appSettings)||!e.notes.errorDetection))&&(!this.isAnimating&&(this.saveOriginalProps(),this.playComboWarning(),!0))},n.playComboWarning=function(e,t){var i=this;void 0===e&&(e=.8),void 0===t&&(t=1),this.stopAllAnimations(),this.isAnimating=!0;var o=5*t,s=1.1+.1*t,n=e/2;this.currentTween=g(this.cellLabel.node).parallel(g().to(n,{scale:new u(s,s,1)},{easing:"sineOut"}),g().to(n/3,{position:new u(o,0,0)}).to(n/3,{position:new u(2*-o,0,0)}).to(n/3,{position:new u(o,0,0)}),g().to(n,{color:this.warningColor})).parallel(g().to(n,{scale:this.originalProps.scale},{easing:"sineIn"}),g().to(n/3,{position:new u(-o,0,0)}).to(n/3,{position:new u(2*o,0,0)}).to(n/3,{position:new u(-o,0,0)}),g().to(n,{color:this.originalProps.color})).call((function(){i.isAnimating=!1,i.resetToOriginal(),i.currentTween=null})).start()},n.checkInputIsExists=function(e){return this.cellNumber==e},n.checkIsFinish=function(){return this.cellNumber===this.solutionNumber},n.onRefreshTheme=function(e,t){this.refreshCell()},n.onRefreshNumber=function(e,t){if(this.relation.type==C.SELECTED&&this.canFill){var i;if(this.isSwitchNote)null!=(i=this.appSettings)&&i.notes.errorDetection&&t.isError||this.setNoteNumber({number:t.value});else this.setNumber({number:t.value});this.refreshCell()}},n.onRefreshNoteNumber=function(e,t){t.row,t.col;var i,o=t.value;0!=o&&null!=(i=this.appSettings)&&i.notes.autoCalculate&&this.relation.type==C.ASSOCIATED&&this.relation.spaceRelations.length>0&&this.canFill&&this.setNoteNumber({number:o,isVisible:!1,isUndo:!0})},n.onEraseNumber=function(e,t){this.relation.type==C.SELECTED&&this.canFill&&(0!=this.cellNumber?this.setNumber({number:0}):this.setNoteNumber({number:"000000000"}),this.refreshCell())},n.onSwitchNote=function(e,t){this.isSwitchNote=t},n.onHintNumber=function(e,t){this.relation.type==C.SELECTED&&this.canFill&&(this.setNumber({number:this.solutionNumber}),this.refreshCell(),T.message.dispatchEvent(f.REFRESH_HINT))},n.onRefreshSetting=function(e,t){this.appSettings=v.getInstance().getSettings(),this.refreshCell()},n.setNoteColor=function(e){var t=this;this.nodeNotes.forEach((function(i,o){var s,n=i.getComponent(E);n&&(n.number===t.selectNumber&&null!=(s=t.appSettings)&&s.highlight.duplicateCandidates?(n.setBGColor(new c(b.getInstance().getThemeConfig().sameNumberNoteBackground)),n.setLabelColor(new c(b.getInstance().getThemeConfig().sameNumberNoteTextColor))):(n.setBGColor(),n.setLabelColor(e)))}))},n.setHintNoteColor=function(e,t,i){this.nodeNotes.forEach((function(o,s){var n=o.getComponent(E);n&&n.number===e&&t&&i&&(n.setBGColor(new c(t)),n.setLabelColor(new c(i)))}))},n.setDefaultHintNoteColor=function(){this.nodeNotes.forEach((function(e,t){var i=e.getComponent(E);i&&(i.setBGColor(),i.setLabelColor(new c(b.getInstance().getThemeConfig().noteTextColor)))}))},n.refreshHintHighlightCell=function(e,t){this.mask.active=!1,this.cellBG.color=new c(e),this.cellLabel.color=new c(t)},n.refreshCell=function(){var e;this.stopAllAnimations(),this.setNoteColor(new c(b.getInstance().getThemeConfig().noteTextColor));var t=this.cellNumber&&0!=this.cellNumber&&!this.checkIsFinish()&&this.canFill;switch(t&&this.applyErrorStyle(),this.relation.type){case C.SELECTED:this.applySelectedStyle();break;case C.ASSOCIATED:this.applyAssociatedStyle();break;default:this.applyDefaultStyle()}this.relation.isSameNumber&&null!=(e=this.appSettings)&&e.highlight.sameDigits&&(this.cellBG.color=new c(b.getInstance().getThemeConfig().sameNumberBackground)),t&&(this.relation.type==C.SELECTED?this.cellLabel.color=new c(b.getInstance().getThemeConfig().selectedErrorTextColor):this.cellLabel.color=new c(b.getInstance().getThemeConfig().errorTextColor))},n.applyErrorStyle=function(){var e=b.getInstance().getThemeConfig();this.cellBG.color=new c(e.errorBackground),this.cellLabel.color=new c(e.errorTextColor)},n.applySelectedStyle=function(){var e=b.getInstance().getThemeConfig();this.cellBG.color=new c(e.selectedCellBackground),this.cellLabel.color=new c(e.selectedCellTextColor),this.setNoteColor(new c(e.selectedNoteTextColor))},n.applyAssociatedStyle=function(){var e=this;if(this.relation.type==C.ASSOCIATED){var t=this.relation.spaceRelations.some((function(t){var i,o;return(t===d.ROW||t===d.COLUMN)&&(null==(i=e.appSettings)?void 0:i.highlight.rowsColumns)||t===d.BOX&&(null==(o=e.appSettings)?void 0:o.highlight.blocks)})),i=this.relation.numberRelations.some((function(t){var i,o;return(t===d.ROW||t===d.COLUMN)&&(null==(i=e.appSettings)?void 0:i.highlight.allRowsColumns)||t===d.BOX&&(null==(o=e.appSettings)?void 0:o.highlight.allBlocks)}));t||i?this.applyHighlightedStyle():this.applyDefaultStyle()}},n.applyHighlightedStyle=function(){var e=b.getInstance().getThemeConfig();this.cellBG.color=new c(e.relatedAreaBackground),this.applyTextColor()},n.applyDefaultStyle=function(){var e=b.getInstance().getThemeConfig();this.cellBG.color=new c(e.cellBackground),this.applyTextColor()},n.applyTextColor=function(){var e=b.getInstance().getThemeConfig();this.cellLabel.color=new c(this.canFill?e.prefilledTextColor:e.cellTextColor)},n.registerTouchEvent=function(){var e=this;this.node.on(h.EventType.TOUCH_START,(function(){e.isCanTouch&&T.message.dispatchEvent(f.SELECT_CELL,{row:e.row,col:e.col,value:e.cellNumber,canFill:e.canFill,isFinish:e.checkIsFinish()})}))},n.setNumber=function(e){var t=void 0===e?{number:void 0}:e,i=t.number,o=t.isUndo,s=void 0!==o&&o,n=t.isHint,l=void 0!==n&&n,r=t.isErase,a=void 0===r||r;i===this.cellNumber&&a&&!l&&(i=0),void 0===i&&(i=0),this.cellNumber=i,this.cellLabel.node.active=!0,this.nodeNoteRoot.active=!1,0==this.cellNumber?(this.cellLabel.string="",this.nodeNoteRoot.active=!0):this.cellLabel.string=i.toString(),l||T.message.dispatchEvent(f.INPUT_NUMBER,{row:this.row,col:this.col,value:this.cellNumber,isUndo:s})},n.setNoteNumber=function(e){var t=this,i=void 0===e?{number:void 0}:e,o=i.number,s=i.isVisible,n=void 0===s||s,l=i.isUndo,r=void 0!==l&&l,a=i.isHint,h=void 0!==a&&a;if(!this.isHistoryItem){if(this.isHintNote=h,"string"==typeof o){var c=o;this.hideAllNodeNote(),c.split("").map(Number).forEach((function(e){e>=1&&e<=9&&(0==t.cellNumber||h)&&(t.cellLabel.node.active=!1,t.nodeNoteRoot.active=!0,t.nodeNotes[e-1].active=!0,t.notesNumber[e-1]=e)}))}else{if(0!=this.cellNumber)return;if(void 0===o&&(o=0),0!=o){var u=o;(o=n?o:0)===this.notesNumber[u-1]&&(o=0),this.cellLabel.node.active=!1,this.nodeNoteRoot.active=!0,this.notesNumber[u-1]=o,this.nodeNotes[u-1].active=0!=o}else this.hideAllNodeNote()}h||T.message.dispatchEvent(f.INPUT_NOTE_NUMBER,{row:this.row,col:this.col,value:this.notesNumber.join(""),isUndo:r})}},t}(N)).prototype,"cellBG",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(A.prototype,"cellLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(A.prototype,"nodeNoteRoot",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(A.prototype,"nodeNotes",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(A.prototype,"warningColor",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(255,100,100,255)}}),O=t(A.prototype,"mask",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=A))||F));n._RF.pop()}}}));

System.register("chunks:///_virtual/SudokuData.ts",["cc"],(function(){var t;return{setters:[function(u){t=u.cclegacy}],execute:function(){t._RF.push({},"45dc1G0u4hJtakYclBPvdG8","SudokuData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/SudokuGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configuration.ts","./EventType.ts","./GameLogic.ts","./SudokuCell.ts","./Oops.ts"],(function(i){var e,t,n,o,r,l,s,a,h,c,u,f,d,p,b,m,g,S,C,v;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,l=i._decorator,s=i.Prefab,a=i.Graphics,h=i.Node,c=i.Color,u=i.UITransform,f=i.tween,d=i.Vec2,p=i.instantiate,b=i.Component},function(i){m=i.Configuration},function(i){g=i.EventType},function(i){S=i.GameLogic},function(i){C=i.SudokuCell},function(i){v=i.oops}],execute:function(){var w,L,z,y,N,E,W,k,H,T,R,G,I,A,D,U,P;r._RF.push({},"57bc1fpE4VM0q5GuSnOIeHm","SudokuGrid",void 0);var _=l.ccclass,x=l.property;i("SudokuGrid",(w=_("SudokuGrid"),L=x({type:s,tooltip:"单元格预制体",visible:!0}),z=x({type:a,tooltip:"绘制组件",visible:!0}),y=x({type:h,tooltip:"单元格根节点",visible:!0}),N=x(c),E=x(c),w((H=e((k=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=i.call.apply(i,[this].concat(r))||this,n(e,"cellPrefab",H,o(e)),n(e,"graphics",T,o(e)),n(e,"cellRoot",R,o(e)),n(e,"lineWidth",G,o(e)),n(e,"boldLineWidth",I,o(e)),n(e,"normalColor",A,o(e)),n(e,"boldColor",D,o(e)),n(e,"useAnimation",U,o(e)),n(e,"animationDuration",P,o(e)),e.gridSize=0,e.cellSize=0,e.halfSize=0,e.cells=[],e}t(e,i);var r=e.prototype;return r.onLoad=function(){this.initEventListeners()},r.onDestroy=function(){this.cleanup()},r.start=function(){},r.init=function(i){void 0===i&&(i=!1),this.normalColor=new c(m.getInstance().getThemeConfig().thinLineColor),this.boldColor=new c(m.getInstance().getThemeConfig().boldLineColor);var e=this.getComponent(u);this.gridSize=e.width,this.cellSize=this.gridSize/9,this.halfSize=this.gridSize/2,this.graphics.lineCap=a.LineCap.SQUARE,this.graphics.lineJoin=a.LineJoin.ROUND,this.drawGridLines(!1),this.createSudokuCells(i)},r.playDrawingAnimation=function(){var i=this;this.graphics.clear(),this.graphics.lineWidth=0,f(this).call((function(){return i.drawGridLines(!0)})).to(this.animationDuration,{},{onUpdate:function(e,t){"number"==typeof t&&i.drawAnimatedGrid(t)}}).call((function(){i.drawGridLines(!1),i.createSudokuCells()})).start()},r.initEventListeners=function(){v.message.on(g.REFRESH_THEME,this.onRefreshTheme,this),v.message.on(g.SELECT_CELL,this.onSelectCell,this)},r.cleanup=function(){v.message.off(g.REFRESH_THEME,this.onRefreshTheme,this),v.message.off(g.SELECT_CELL,this.onSelectCell,this)},r.onRefreshTheme=function(i,e){this.normalColor=new c(m.getInstance().getThemeConfig().thinLineColor),this.boldColor=new c(m.getInstance().getThemeConfig().boldLineColor),this.drawGridLines(!1)},r.onSelectCell=function(i,e){var t=e.row,n=e.col,o=e.value,r={row:t,col:n,number:o},l=this.cells.map((function(i){return i.map((function(i){return i.toICellData()}))})),s=S.getGridRelations(l,r).relations;this.cells.forEach((function(i){i.forEach((function(i){var e=i.toICellData(),t=s.get(e.row+"-"+e.col);i.applyRelation(t,o)}))}))},r.drawAnimatedGrid=function(i){this.graphics.clear();var e=Math.sqrt(2)*this.halfSize*i;this.drawAnimatedLines(i,e)},r.drawAnimatedLines=function(i,e){for(var t=d.ZERO,n=0;n<=9;n++){var o=n*this.cellSize-this.halfSize,r=n%3==0,l=r?this.boldColor:this.normalColor;this.drawAnimatedLine(new d(-this.halfSize,o),new d(this.halfSize,o),t,e,r?this.boldLineWidth:this.lineWidth,l)}for(var s=0;s<=9;s++){var a=s*this.cellSize-this.halfSize,h=s%3==0,c=h?this.boldColor:this.normalColor;this.drawAnimatedLine(new d(a,-this.halfSize),new d(a,this.halfSize),t,e,h?this.boldLineWidth:this.lineWidth,c)}this.graphics.stroke()},r.drawAnimatedLine=function(i,e,t,n,o,r){var l=i.subtract(t).length(),s=e.subtract(t).length();if(!(l>n&&s>n))if(l<=n&&s<=n)this.drawLine(i,e,o,r);else{var a=e.subtract(i).normalize(),h=(n-l)/(s-l),c=i.add(a.multiplyScalar(h*this.gridSize/9));this.drawLine(i,c,o,r)}},r.drawGridLines=function(i){if(this.graphics.clear(),!i)for(var e=0;e<=9;e++)if(e%3!=0){var t=e*this.cellSize-this.halfSize;this.drawLine(new d(-this.halfSize,t),new d(this.halfSize,t),this.lineWidth,this.normalColor),this.drawLine(new d(t,-this.halfSize),new d(t,this.halfSize),this.lineWidth,this.normalColor)}for(var n=0;n<=3;n++){var o=3*n*this.cellSize-this.halfSize;this.drawLine(new d(-this.halfSize,o),new d(this.halfSize,o),this.boldLineWidth,this.boldColor),this.drawLine(new d(o,-this.halfSize),new d(o,this.halfSize),this.boldLineWidth,this.boldColor)}},r.drawLine=function(i,e,t,n){this.graphics.lineWidth=t,this.graphics.strokeColor=n,this.graphics.moveTo(i.x,i.y),this.graphics.lineTo(e.x,e.y),this.graphics.stroke(),this.graphics.fill()},r.createSudokuCells=function(i){void 0===i&&(i=!1),this.cellRoot.removeAllChildren(),this.cells=[];for(var e=this.gridSize/9,t=0;t<9;t++){this.cells[t]=[];for(var n=0;n<9;n++)this.createCell(t,n,e,i)}},r.createCell=function(i,e,t,n){if(void 0===n&&(n=!1),this.cellPrefab){var o=this.getLineWidth(i,e),r=t-(o.left+o.right)/2,l=(o.left-o.right)/2,s=(o.bottom-o.top)/2,a=p(this.cellPrefab),h=e*t-this.halfSize+t/2+l,c=this.halfSize-i*t-t/2+s;a.setPosition(h,c);var u=a.getComponent(C);u&&(u.init(i,e,r,0,n),this.cells[i][e]=u),a.parent=this.cellRoot}},r.getLineWidth=function(i,e){var t=(e+1)%3==0,n=i%3==0,o=(i+1)%3==0;return{left:e%3==0?this.boldLineWidth:this.lineWidth,right:t?this.boldLineWidth:this.lineWidth,top:n?this.boldLineWidth:this.lineWidth,bottom:o?this.boldLineWidth:this.lineWidth}},r.refreshSudokuData=function(i,e){void 0===e&&(e=!1);for(var t=S.parseSudokuString(i.puzzleStr),n=S.parseSudokuString(i.solutionStr),o=0,r=0,l=0;l<9;l++)for(var s=0;s<9;s++){this.cells[l][s].initNumber(t[l][s],n[l][s]),e&&this.cells[l][s].initHistoryItem();var a=l+"-"+s,h=i.userInputNotes.get(a);h&&this.cells[l][s].setNoteNumber({number:h,isUndo:!0});var c=i.userInputs.get(a);c&&this.cells[l][s].setNumber({number:c,isUndo:!0}),this.cells[l][s].isSelect()&&(o=l,r=s)}e||this.cells[o][r].onTouch()},r.reset=function(){for(var i=0;i<9;i++)for(var e=0;e<9;e++)this.cells[i][e].reset()},r.refreshQuickNote=function(i){for(var e=0;e<9;e++)for(var t=0;t<9;t++)this.cells[e][t].refreshQuickNote(i[e][t])},r.undoRecord=function(i){var e=this;i.oldCellNumber&&Object.entries(i.oldCellNumber).forEach((function(i){var t=i[0],n=i[1],o=t.split("-").map(Number),r=o[0],l=o[1];e.cells[r][l].setNumber({number:n,isUndo:!0})})),i.oldNotesStr&&Object.entries(i.oldNotesStr).forEach((function(i){var t=i[0],n=i[1],o=t.split("-").map(Number),r=o[0],l=o[1];e.cells[r][l].setNoteNumber({number:n,isUndo:!0})}));var t=i.lastSelectKey.split("-").map(Number),n=t[0],o=t[1];n&&o&&this.cells[n][o].onTouch()},r.playComboWarningSafe=function(i,e){this.cells[i][e]&&this.cells[i][e].playComboWarningSafe()},r.checkInputIsExists=function(i,e,t){return!!this.cells[i][e]&&this.cells[i][e].checkInputIsExists(t)},r.resetHint=function(){for(var i=0;i<9;i++)for(var e=0;e<9;e++)this.cells[i][e].resetHint()},r.refreshHintHighlightCell=function(i){var e=i.position;this.cells[e.row][e.col]&&(this.cells[e.row][e.col].refreshHintHighlightCell(i.backgroundColor,i.textColor),i.candidates&&this.cells[e.row][e.col].setNoteNumber({number:i.candidates.join(""),isVisible:!0,isUndo:!0,isHint:!0}))},r.refreshHintHighlightNoteCell=function(i){var e=i.position;this.cells[e.row][e.col]&&this.cells[e.row][e.col].setHintNoteColor(i.value,i.backgroundColor,i.textColor)},r.hintComplete=function(i,e,t){for(var n=0;n<9;n++)for(var o=0;o<9;o++)this.cells[n][o].hintComplete();this.cells[i][e].onTouch(),this.cells[i][e].setNumber({number:t,isUndo:!0,isErase:!1})},r.hintNoteComplete=function(i){var e=i.position;this.cells[e.row][e.col]&&i.candidates&&this.cells[e.row][e.col].setNoteNumber({number:i.candidates.join(""),isVisible:!0,isUndo:!0,isHint:!1})},r.setHintNumber=function(i,e,t){var n;null==(n=this.cells[i][e])||n.setNumber({number:t,isUndo:!1,isHint:!0})},e}(b)).prototype,"cellPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(k.prototype,"graphics",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(k.prototype,"cellRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(k.prototype,"lineWidth",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),I=e(k.prototype,"boldLineWidth",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),A=e(k.prototype,"normalColor",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(150,150,150,255)}}),D=e(k.prototype,"boldColor",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,0,0,255)}}),U=e(k.prototype,"useAnimation",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=e(k.prototype,"animationDuration",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),W=k))||W));r._RF.pop()}}}));

System.register("chunks:///_virtual/SudokuPlayerData.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"12ffdMzRNZBnopaSqldT4+s","SudokuPlayerData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/SudokuSolverEngine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SolveTypes.ts","./BoxLineReductionStrategy.ts","./CandidateErrorStrategy.ts","./FinnedXWingStrategy.ts","./HiddenSinglesStrategy.ts","./HiddenSubsetStrategy.ts","./JellyFishStrategy.ts","./NakedSubsetStrategy.ts","./PointingPairStrategy.ts","./RectangleEliminationStrategy.ts","./SashimiXWingStrategy.ts","./SingleCandidateStrategy.ts","./SkyscraperStrategy.ts","./SwordFishStrategy.ts","./TwoStringKiteStrategy.ts","./UniqueRectangleType1Strategy.ts","./UniqueRectangleType2Strategy.ts","./WWingStrategy.ts","./WXYZWingStrategy.ts","./XWingStrategy.ts","./XYChainStrategy.ts","./XYWingStrategy.ts","./XYZWingStrategy.ts","./YWingStrategy.ts","./SolverUtils.ts"],(function(t){var n,e,i,a,r,o,s,g,u,d,S,c,l,y,f,w,p,h,v,C,W,m,E,X,R,F,T;return{setters:[function(t){n=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy},function(t){i=t.BLANK_CHAR},function(t){a=t.BoxLineReductionStrategy},function(t){r=t.CandidateErrorStrategy},function(t){o=t.FinnedXWingStrategy},function(t){s=t.HiddenSinglesStrategy},function(t){g=t.HiddenSubsetStrategy},function(t){u=t.JellyFishStrategy},function(t){d=t.NakedSubsetStrategy},function(t){S=t.PointingPairStrategy},function(t){c=t.RectangleEliminationStrategy},function(t){l=t.SashimiXWingStrategy},function(t){y=t.SingleCandidateStrategy},function(t){f=t.SkyscraperStrategy},function(t){w=t.SwordFishStrategy},function(t){p=t.TwoStringKiteStrategy},function(t){h=t.UniqueRectangleType1Strategy},function(t){v=t.UniqueRectangleType2Strategy},function(t){C=t.WWingStrategy},function(t){W=t.WXYZWingStrategy},function(t){m=t.XWingStrategy},function(t){E=t.XYChainStrategy},function(t){X=t.XYWingStrategy},function(t){R=t.XYZWingStrategy},function(t){F=t.YWingStrategy},function(t){T=t.SolverUtils}],execute:function(){e._RF.push({},"bedc9v/D/ROFI/U47mG7SZp","SudokuSolverEngine",void 0),t("SudokuSolverEngine",function(){function t(){this.strategies=void 0,this.maintainedCandidates=[],this.candidateErrorStrategy=new r,this.strategies=[new y,new s,new d,new g,new S,new a,new f,new p,new c,new m,new F,new C,new X,new R,new W,new w,new u,new o,new l,new h,new v,new E]}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var e=t.prototype;return e.getNextStep=function(t,e,i){if(T.validateBoard(t))for(var a,r=T.gridStrToArray(t),o=T.getCandidates(r),s=e?T.mergeTwoCandidates(r,e,o):o,g=n(this.strategies);!(a=g()).done;){var u=a.value.execute(r,s);if(u&&u.length>0){if(this.maintainedCandidates=s,i){var d=this.validateAndHandleErrorSteps(u,r,i,e,o);if(d)return d}return u}}return null},e.validateAndHandleErrorSteps=function(t,n,e,a,r){var o;if(!e||0===t.length)return null;var s=t[t.length-1],g=T.gridStrToArray(e),u=s.position,d={},S=!1;return null==(o=s.highlights)||o.forEach((function(t){if(t.candidates){var e=t.position.row+"-"+t.position.col;d[e]=t.candidates.join("");var a=g[t.position.row][t.position.col];t.candidates.includes(Number(a))||n[t.position.row][t.position.col]!=i||(S=!0)}})),0!==s.value&&Number(g[u.row][u.col])!==s.value||S?this.candidateErrorStrategy.buildErrorSteps(n,g,a,d,r,u):null},e.getValidCandidates=function(t){return 0===this.maintainedCandidates.length||this.maintainedCandidates.flat().every((function(t){return 0===t.size}))?T.getCandidates(t):T.getMergedCandidates(t,this.maintainedCandidates)},e.reset=function(){this.maintainedCandidates=Array(9).fill(null).map((function(){return Array(9).fill(null).map((function(){return new Set}))})),this.strategies.forEach((function(t){"reset"in t&&t.reset()})),console.log("引擎状态已完全重置")},e.deepCopyCandidates=function(t){return t.map((function(t){return t.map((function(t){return t?new Set(t):new Set}))}))},t}()).instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/SwordFishStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(t){var e,i,n,o,r,a,s,l,h,g;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){o=t.cclegacy},function(t){r=t.HighlightConfig},function(t){a=t.HighlightAreaType,s=t.BLANK_CHAR},function(t){l=t.BaseStrategy},function(t){h=t.SolverUtils},function(t){g=t.oops}],execute:function(){o._RF.push({},"e9c6debKe5AgrCn+twh+9FN","SwordFishStrategy",void 0);t("SwordFishStrategy",function(t){function o(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).difficulty=16,e.SWORDFISH_SIZE=3,e}e(o,t);var l=o.prototype;return l.execute=function(t,e){var i=this.findSwordfish(e);return i?this.createSteps(t,e,i):null},l.findSwordfish=function(t){return this.findFishInDirection(t,a.ROW)||this.findFishInDirection(t,a.COLUMN)},l.findFishInDirection=function(t,e){for(var i=1;i<=9;i++)for(var n=this.collectPotentialBaseUnits(t,i,e),o=0;o<n.length-2;o++)for(var r=o+1;r<n.length-1;r++)for(var a=r+1;a<n.length;a++){var s=[n[o],n[r],n[a]],l=this.getBaseCandidates(t,i,s,e),h=this.findCoverUnits(l,e);if(h.length===this.SWORDFISH_SIZE){var g=this.findEliminations(t,i,s,h,e);if(g.length>0)return{value:i,baseUnits:s,coverUnits:h,eliminations:g,direction:e}}}return null},l.collectPotentialBaseUnits=function(t,e,i){for(var n=[],o=0;o<9;o++){for(var r=0,s=0;s<9;s++){var l=i===a.ROW?o:s,h=i===a.ROW?s:o;if(t[l][h].has(e)&&++r>this.SWORDFISH_SIZE)break}r>=2&&r<=this.SWORDFISH_SIZE&&n.push(o)}return n},l.getBaseCandidates=function(t,e,n,o){for(var r,s=[],l=i(n);!(r=l()).done;)for(var h=r.value,g=0;g<9;g++){var c=o===a.ROW?h:g,u=o===a.ROW?g:h;t[c][u].has(e)&&s.push({row:c,col:u})}return s},l.findCoverUnits=function(t,e){for(var n,o=new Set,r=i(t);!(n=r()).done;){var s=n.value,l=s.row,h=s.col;o.add(e===a.ROW?h:l)}return o.size===this.SWORDFISH_SIZE?Array.from(o):[]},l.findEliminations=function(t,e,n,o,r){for(var s,l=[],h=r===a.ROW,g=i(o);!(s=g()).done;)for(var c=s.value,u=0;u<9;u++){var d=h?u:c,v=h?c:u;(h?n.includes(d):n.includes(v))||t[d][v].has(e)&&l.push({row:d,col:v})}return l},l.createSteps=function(t,e,i){var n=[];return n.push(this.createDiscoveryStep(t,e,i)),n.push(this.createCoverSetStep(t,e,i)),n.push(this.createEliminationStep(t,e,i)),n.push(this.createRemovalStep(t,e,i)),n},l.createDiscoveryStep=function(t,e,i){var n=this,o=i.value,r=i.baseUnits,s=(i.coverUnits,i.eliminations,i.direction,a.ROW,[].concat(this.highlightSwordfishCells(t,e,i),this.highlightBaseUnits(t,e,i))),l=[].concat(this.highlightNotesBaseUnits(e,i));return{technique:this.name,stepId:1,position:{row:r[0],col:0},value:0,get description(){return g.language.getLangByID("SwordFishStrategy.discoveryDes",{name:n.name,description:n.description,value:o,units:r.map((function(t){return t+1})).join(", ")})},highlights:h.deduplicateHighlights(s),highlightNotes:h.deduplicateHighlightNotes(l)}},l.createCoverSetStep=function(t,e,i){var n=this,o=i.value,r=i.baseUnits,s=i.coverUnits,l=(i.eliminations,i.direction),c=(a.ROW,[].concat(this.highlightSwordfishCells(t,e,i),this.highlightBaseUnits(t,e,i),this.highlightCoverUnits(t,e,i))),u=[].concat(this.highlightNotesBaseUnits(e,i),this.highlightNotesCoverUnits(e,i));return{technique:this.name,stepId:2,position:{row:s[0],col:s[0]},value:0,get description(){return t=l===a.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),e=l===a.ROW?g.language.getLangByID("strategy.col"):g.language.getLangByID("strategy.row"),g.language.getLangByID("SwordFishStrategy.coverSetDes",{name:n.name,direction:n.description,baseDirection:t,value:o,baseUnits:r.map((function(t){return t+1})).join(", "),coverDirection:e,coverUnits:s.map((function(t){return t+1})).join(", ")});var t,e},highlights:h.deduplicateHighlights(c),highlightNotes:h.deduplicateHighlightNotes(u)}},l.createEliminationStep=function(t,e,i){var n=this,o=i.value,r=i.baseUnits,s=i.coverUnits,l=i.eliminations,c=i.direction,u=[].concat(this.highlightSwordfishCells(t,e,i),this.highlightBaseUnits(t,e,i),this.highlightCoverUnits(t,e,i),this.highlightEliminations(t,e,i)),d=[].concat(this.highlightNotesBaseUnits(e,i),this.highlightEliminationNotes(e,i),this.highlightNotesCoverUnits(e,i));return{technique:this.name,stepId:3,position:l[0],value:0,get description(){return t=c===a.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),e=c===a.ROW?g.language.getLangByID("strategy.col"):g.language.getLangByID("strategy.row"),g.language.getLangByID("SwordFishStrategy.eliminationDes",{name:n.name,direction:n.description,baseDirection:t,value:o,baseUnits:r.map((function(t){return t+1})).join(", "),coverDirection:e,coverUnits:s.map((function(t){return t+1})).join(", ")});var t,e},highlights:h.deduplicateHighlights(u),highlightNotes:h.deduplicateHighlightNotes(d)}},l.createRemovalStep=function(t,e,i){var n=this,o=i.value,r=i.baseUnits,s=i.coverUnits,l=(i.eliminations,i.direction);i.eliminations.forEach((function(t){e[t.row][t.col].delete(i.value)}));var c=[].concat(this.highlightSwordfishCells(t,e,i),this.highlightBaseUnits(t,e,i),this.highlightCoverUnits(t,e,i),this.highlightEliminations(t,e,i)),u=[].concat(this.highlightNotesBaseUnits(e,i),this.highlightNotesCoverUnits(e,i));return{technique:this.name,stepId:4,position:i.eliminations[0],value:0,get description(){return t=l===a.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),e=l===a.ROW?g.language.getLangByID("strategy.col"):g.language.getLangByID("strategy.row"),g.language.getLangByID("SwordFishStrategy.removalDes",{name:n.name,direction:n.description,baseDirection:t,value:o,baseUnits:r.map((function(t){return t+1})).join(", "),coverDirection:e,coverUnits:s.map((function(t){return t+1})).join(", "),count:i.eliminations.length});var t,e},highlights:h.deduplicateHighlights(c),highlightNotes:h.deduplicateHighlightNotes(u)}},l.highlightBaseUnits=function(t,e,i){var n=i.baseUnits,o=i.direction;return n.flatMap((function(i){return(o===a.ROW?h.getRowCells(i):h.getColumnCells(i)).map((function(i){return{position:i,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:t[i.row][i.col]===s?[].concat(e[i.row][i.col]):void 0}}))}))},l.highlightSwordfishCells=function(t,e,i){i.value;var n=i.baseUnits,o=i.coverUnits,l=i.direction===a.ROW;return n.flatMap((function(i){return o.map((function(n){var o=l?{row:i,col:n}:{row:n,col:i};return{position:o,backgroundColor:r.targetCell.background,textColor:r.targetCell.textColor,candidates:t[o.row][o.col]===s?[].concat(e[o.row][o.col]):void 0}}))}))},l.highlightCoverUnits=function(t,e,i){var n=i.coverUnits,o=i.direction===a.ROW;return n.flatMap((function(i){return(o?h.getColumnCells(i):h.getRowCells(i)).map((function(i){return{position:i,backgroundColor:r.defaultCell.background,textColor:r.defaultCell.textColor,candidates:t[i.row][i.col]===s?[].concat(e[i.row][i.col]):void 0}}))}))},l.highlightEliminations=function(t,e,i){var n=i.eliminations;i.value;return n.map((function(i){return{position:i,backgroundColor:r.hintRemoveCell.background,textColor:r.hintRemoveCell.textColor,candidates:t[i.row][i.col]===s?[].concat(e[i.row][i.col]):void 0}}))},l.highlightNotesBaseUnits=function(t,e){for(var n,o=e.value,s=e.baseUnits,l=(e.coverUnits,e.direction===a.ROW),h=[],g=i(s);!(n=g()).done;)for(var c=n.value,u=0;u<9;u++){var d=l?c:u,v=l?u:c;t[d][v].has(o)&&h.push({position:{row:d,col:v},backgroundColor:r.sameNumber.background,textColor:r.sameNumber.textColor,value:o})}return h},l.highlightNotesCoverUnits=function(t,e){for(var n,o=e.value,s=(e.baseUnits,e.coverUnits),l=e.direction===a.ROW,h=[],g=i(s);!(n=g()).done;)for(var c=n.value,u=0;u<9;u++){var d=l?u:c,v=l?c:u;t[d][v].has(o)&&h.push({position:{row:d,col:v},backgroundColor:r.hintCell.background,textColor:r.hintCell.textColor,value:o})}return h},l.highlightEliminationNotes=function(t,e){var i=e.value;return e.eliminations.filter((function(e){return t[e.row][e.col].has(i)})).map((function(t){return{position:t,backgroundColor:r.hintRemoveCell.background,textColor:r.hintRemoveCell.textColor,value:i}}))},n(o,[{key:"name",get:function(){return g.language.getLangByID("SwordFishStrategy.name")}},{key:"description",get:function(){return g.language.getLangByID("SwordFishStrategy.description")}}]),o}(l));o._RF.pop()}}}));

System.register("chunks:///_virtual/Task.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BTreeNode.ts"],(function(e){var n,t,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){o=e.BTreeNode}],execute:function(){t._RF.push({},"95087QhEU1G1LWnM2D7haTQ","Task",void 0);e("Task",function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.prototype.run=function(e){},t}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/ThemeConfig.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"aa356Zg2DRB+pVgucDgRvM9","ThemeConfig",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ThemePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Configuration.ts","./UIConfig.ts","./ThemeToggle.ts","./Oops.ts"],(function(e){var t,o,n,i,r,c,u,p,s,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,u=e.Component},function(e){p=e.Configuration},function(e){s=e.UIID},function(e){a=e.ThemeToggle},function(e){l=e.oops}],execute:function(){var f,g,h,m,T;r._RF.push({},"70bc6fVTRBEiYLGDmpf/Tip","ThemePopup",void 0);var v=c.ccclass,y=c.property;e("ThemePopup",(f=v("ThemePopup"),g=y({type:[a],tooltip:"ThemeToggle",visible:!0}),f((T=t((m=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"themeToggles",T,i(t)),t}o(t,e);var r=t.prototype;return r.start=function(){var e=p.getInstance().getCurrentTheme();this.themeToggles.forEach((function(t){t.theme!==e||t.setSelect()}))},r.onBack=function(){l.gui.remove(s.ThemePopup)},t}(u)).prototype,"themeToggles",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=m))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/ThemeToggle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Configuration.ts","./BaseSudokuGrid.ts"],(function(e){var t,i,o,n,r,u,s,a,l,c,p,f,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,s=e.Enum,a=e.Toggle,l=e.Component},function(e){c=e.ThemeName,p=e.SudokuDifficulty,f=e.default},function(e){h=e.Configuration},function(e){d=e.BaseSudokuGrid}],execute:function(){var g,m,y,b,T,v,S;r._RF.push({},"91a7cJc54VPVKIPfaJnbJbF","ThemeToggle",void 0);var k=u.ccclass,C=u.property;s(c);e("ThemeToggle",(g=k("ThemeToggle"),m=C({type:d,tooltip:"BaseSudokuGrid",visible:!0}),y=C({type:c,tooltip:"ThemeName",visible:!0}),g((v=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,o(t,"baseSudokuGrid",v,n(t)),o(t,"theme",S,n(t)),t}i(t,e);var r=t.prototype;return r.start=function(){var e={id:"1",puzzleStr:"000809462890046003740000091250068014060092735934751628621000000075914206489620000",solutionStr:"513879462892146573746235891257368914168492735934751628621587349375914286489623157",userInputs:new Map,userInputNotes:new Map,displayDifficulty:p.Novice,actualDifficulty:p.Novice,errorCount:0,hp:0,timeElapsed:0,score:0,hintLimit:0,progress:0};e.userInputs.set("0-0",5),this.baseSudokuGrid.init(f.theme[this.theme],e)},r.onToggle=function(e,t){h.getInstance().setTheme(this.theme)},r.setSelect=function(){var e=this.node.getComponent(a);e&&(e.isChecked=!0)},t}(l)).prototype,"baseSudokuGrid",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(T.prototype,"theme",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.Default}}),b=T))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,s;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"6021fct1uhJsImEuhdFWC0f","Timer",void 0);e("Timer",function(){function e(e){void 0===e&&(e=0),this.callback=null,this._elapsedTime=0,this._step=-1,this.step=e}var s=e.prototype;return s.update=function(e){return!(this.step<=0)&&(this._elapsedTime+=e,this._elapsedTime>=this._step&&(this._elapsedTime-=this._step,null==(t=this.callback)||t.call(this),!0));var t},s.reset=function(){this._elapsedTime=0},s.stop=function(){this._elapsedTime=0,this.step=-1},t(e,[{key:"elapsedTime",get:function(){return this._elapsedTime}},{key:"step",get:function(){return this._step},set:function(e){this._step=e,this._elapsedTime=0}},{key:"progress",get:function(){return this._elapsedTime/this._step}}]),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/TimerComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,s,a,r,n,o,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){n=e.cclegacy,o=e._decorator,u=e.Label,l=e.Component}],execute:function(){var m,p,h,c,d;n._RF.push({},"bd704rXSFlMi7G9k+JxH/TD","TimerComponent",void 0);var T=o.ccclass,_=o.property;e("TimerComponent",(m=T("TimerComponent"),p=_(u),m((d=t((c=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t=e.call.apply(e,[this].concat(r))||this,s(t,"timeLabel",d,a(t)),t._elapsedTime=0,t._isPaused=!0,t._startTimestamp=0,t}i(t,e);var n=t.prototype;return n.onLoad=function(){GameController.event.on("game_start",this.startTimer,this),GameController.event.on("game_pause",this.pauseTimer,this),GameController.event.on("game_resume",this.resumeTimer,this),GameController.event.on("game_over",this.stopTimer,this)},n.update=function(e){this._isPaused||(this._elapsedTime+=e,this.updateDisplay())},n.startTimer=function(){this._isPaused=!1,this._startTimestamp=Date.now(),this.schedule(this.autoSaveTime,30)},n.pauseTimer=function(){this._isPaused=!0,this.unschedule(this.autoSaveTime)},n.resumeTimer=function(){if(this._isPaused){var e=(Date.now()-this._startTimestamp)/1e3;this._elapsedTime-=e,this._isPaused=!1}},n.stopTimer=function(){this.pauseTimer(),this._elapsedTime=0,this.updateDisplay()},n.updateDisplay=function(){var e=Math.floor(this._elapsedTime/60),t=Math.floor(this._elapsedTime%60);this.timeLabel.string=e.toString().padStart(2,"0")+":"+t.toString().padStart(2,"0")},n.autoSaveTime=function(){GameController.saveCurrentProgress({elapsedTime:this._elapsedTime})},n.loadSavedTime=function(e){this._elapsedTime=e,this.updateDisplay()},r(t,[{key:"currentTime",get:function(){return this._elapsedTime}}]),t}(l)).prototype,"timeLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=c))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/TimerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringUtil.ts","./Timer.ts"],(function(e){var t,i,n,s,r,o;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e.game,s=e.Component},function(e){r=e.StringUtil},function(e){o=e.Timer}],execute:function(){i._RF.push({},"73600VLsIBLOKhOhd7td4P8","TimerManager",void 0);e("TimerManager",function(e){function i(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).times={},t.date_s=new Date,t.date_s_start=new Date,t.polymeric_s=0,t.date_c=new Date,t}t(i,e);var s=i.prototype;return s.update=function(e){for(var t in this.times){var i=this.times[t];i.timer.update(e)&&i.object[i.field]>0&&(i.object[i.field]--,0==i.object[i.field]?this.onTimerComplete(i):i.onSecond&&i.onSecond.call(i.object))}},s.onTimerComplete=function(e){e.onComplete&&e.onComplete.call(e.object),e.event&&this.node.dispatchEvent(e.event),delete this.times[e.id]},s.register=function(e,t,i,n){var s=new o;s.step=1;var a={};return a.id=r.guid(),a.timer=s,a.object=e,a.field=t,a.onSecond=i,a.onComplete=n,this.times[a.id]=a,a.id},s.unRegister=function(e){this.times[e]&&delete this.times[e]},s.setServerTime=function(e){this.polymeric_s=this.getTime(),this.date_s_start.setTime(e)},s.getServerTime=function(){return this.date_s_start.getTime()+this.getTime()-this.polymeric_s},s.getServerDate=function(){return this.date_s.setTime(this.getServerTime()),this.date_s},s.getClientTime=function(){return Date.now()},s.getClientDate=function(){return this.date_c.setTime(this.getClientTime()),this.date_c},s.getTime=function(){return n.totalTime},s.save=function(){for(var e in this.times)this.times[e].startTime=this.getTime()},s.load=function(){for(var e in this.times){var t=Math.floor((this.getTime()-(this.times[e].startTime||this.getTime()))/1e3),i=this.times[e];i.object[i.field]=i.object[i.field]-t,i.object[i.field]<=0?(i.object[i.field]=0,this.onTimerComplete(i)):this.times[e].startTime=null}},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/TimeUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"c2070jsq0FDcaTrFhyA8yzm","TimeUtils",void 0);e("TimeUtil",function(){function e(){}return e.daysBetween=function(e,t){null==t&&(t=+new Date);var n=new Date(e).toLocaleDateString(),r=new Date(t).toLocaleDateString(),u=new Date(n).getTime(),a=new Date(r).getTime();return Math.abs(u-a)/864e5},e.secsBetween=function(e,t){var n=Math.abs(t-e)/1e3;return n=Math.floor(n)+1},e.sleep=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e()}),t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/TipsManager.ts",["cc","./UIConfig.ts","./Oops.ts"],(function(o){var n,e,t,c,r;return{setters:[function(o){n=o.cclegacy,e=o.tween,t=o.Vec3},function(o){c=o.UIID},function(o){r=o.oops}],execute:function(){n._RF.push({},"9748eriEcJOp6OSdnZ/qhs5","TipsManager",void 0);var i=o("tips",new(function(){function o(){}var n=o.prototype;return n.test=function(o){var n={title:"common_prompt_title_sys",content:"common_prompt_content",okWord:"common_prompt_ok",cancelWord:"common_prompt_cancal",okFunc:function(){console.log("okFunc")},cancelFunc:function(){console.log("cancelFunc")},needCancel:!0};r.gui.open(c.Confirm,n,this.getPopCommonEffect())},n.alert=function(o,n,e,t){var m={title:e||"common_prompt_title_sys",content:o,okWord:t||"common_prompt_ok",okFunc:function(){n&&n()},needCancel:!1};r.gui.open(c.Confirm,m,i.getPopCommonEffect())},n.confirm=function(o,n,e){void 0===e&&(e="common_prompt_ok");var t={title:"common_prompt_title_sys",content:o,okWord:e,cancelWord:"common_prompt_cancal",okFunc:function(){n&&n()},cancelFunc:function(){},needCancel:!0};r.gui.open(c.Confirm,t,i.getPopCommonEffect())},n.getPopCommonEffect=function(o){var n={onAdded:function(o,n){o.setScale(.1,.1,.1),e(o).to(.2,{scale:new t(1,1,1)}).start()},onBeforeRemove:function(o,n){e(o).to(.2,{scale:new t(.1,.1,.1)}).call((function(o,e){n()})).start()}};if(o){if(o&&o.onAdded){var c=o.onAdded;o.onAdded=function(o,e){c(o,e),n.onAdded(o,e)}}if(o&&o.onBeforeRemove){var r=o.onBeforeRemove;o.onBeforeRemove=function(o,e){r(o,e),n.onBeforeRemove(o,e)}}return o}return n},o}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/TwoStringKiteStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(o){var t,e,n,r,l,i,a,c,u,s;return{setters:[function(o){t=o.inheritsLoose,e=o.createForOfIteratorHelperLoose,n=o.createClass},function(o){r=o.cclegacy},function(o){l=o.HighlightConfig},function(o){i=o.HighlightAreaType,a=o.BLANK_CHAR},function(o){c=o.BaseStrategy},function(o){u=o.SolverUtils},function(o){s=o.oops}],execute:function(){r._RF.push({},"0a370c7SZJDG6Xwcalogx5m","TwoStringKiteStrategy",void 0);o("TwoStringKiteStrategy",function(o){function r(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))||this).difficulty=8,t}t(r,o);var c=r.prototype;return c.execute=function(o,t){var e=this.checkTwoStringKite(o,t);return e?this.createTwoStringKiteSteps(o,t,e):null},c.checkTwoStringKite=function(o,t){for(var n,r=this,l=function(n){for(var l,a=r.findStrongLinks(n,i.ROW,o,t),c=r.findStrongLinks(n,i.COLUMN,o,t),s=e(a);!(l=s()).done;)for(var g,d,C=l.value,f=function(){var e=d.value,l=r.findConnectingBlock(C.cells,e.cells);if(2===l.length){var i=C.cells.find((function(o){return!l.some((function(t){return r.isSamePosition(t,o)}))})),a=e.cells.find((function(o){return!l.some((function(t){return r.isSamePosition(t,o)}))}));if(!i||!a||u.getBlockIndex(i)===u.getBlockIndex(a))return 0;var c=r.getSharedVisibleCells(i,a,o).filter((function(o){return t[o.row][o.col].has(n)}));if(c.length>0)return{v:{v:{value:n,strongLinks:[C,e],connectingBlock:l,affectedCells:c}}}}},h=e(c);!(d=h()).done;)if(0!==(g=f())&&g)return g.v},a=1;a<=9;a++)if(n=l(a))return n.v;return null},c.findStrongLinks=function(o,t,e,n){for(var r=[],l=(i.ROW,9),c=0;c<l;c++){var s=(t===i.ROW?u.getRowCells(c):u.getColumnCells(c)).filter((function(t){return e[t.row][t.col]===a&&n[t.row][t.col].has(o)}));2===s.length&&r.push({areaType:t,areaIndex:c,cells:[s[0],s[1]]})}return r},c.findConnectingBlock=function(o,t){for(var n,r=this,l=[],i=function(){for(var o,i=n.value,a=function(){var t=o.value;u.getBlockIndex(i)===u.getBlockIndex(t)&&(l.some((function(o){return r.isSamePosition(o,i)}))||l.push(i),l.some((function(o){return r.isSamePosition(o,t)}))||l.push(t))},c=e(t);!(o=c()).done;)a()},a=e(o);!(n=a()).done;)i();return 2===l.length?l:[]},c.getSharedVisibleCells=function(o,t,e){var n=this,r=this.getVisibleCells(o,e),l=this.getVisibleCells(t,e);return r.filter((function(o){return l.some((function(t){return n.isSamePosition(o,t)}))&&e[o.row][o.col]===a}))},c.getVisibleCells=function(o,t){for(var e=[],n=0;n<9;n++)n!==o.col&&e.push({row:o.row,col:n});for(var r=0;r<9;r++)r!==o.row&&e.push({row:r,col:o.col});for(var l=3*Math.floor(o.row/3),i=3*Math.floor(o.col/3),a=0;a<3;a++)for(var c=0;c<3;c++){var u=l+a,s=i+c;u===o.row&&s===o.col||e.push({row:u,col:s})}return e},c.getAreaCells=function(o,t){if(o===i.ROW)return Array.from({length:9},(function(o,e){return{row:t,col:e}}));if(o===i.COLUMN)return Array.from({length:9},(function(o,e){return{row:e,col:t}}));for(var e=3*Math.floor(t/3),n=t%3*3,r=[],l=0;l<3;l++)for(var a=0;a<3;a++)r.push({row:e+l,col:n+a});return r},c.isSamePosition=function(o,t){return o.row===t.row&&o.col===t.col},c.createTwoStringKiteSteps=function(o,t,e){var n=[];e.value,e.strongLinks,e.connectingBlock,e.affectedCells;return n.push(this.createDiscoveryStep(o,t,e)),n.push(this.createRuleExplanationStep(o,t,e)),n.push(this.createImpactDemonstrationStep(o,t,e)),n.push(this.createRemovalExecutionStep(o,t,e)),n},c.createDiscoveryStep=function(o,t,e){var n=this,r=e.value,i=e.strongLinks,c=e.connectingBlock,g=e.affectedCells,d=i[0],C=i[1];return{technique:this.name,stepId:1,position:g[0],value:0,get description(){return s.language.getLangByID("TwoStringKiteStrategy.discoveryDes",{name:n.name,description:n.description})},highlights:[].concat(u.getRowCells(d.areaIndex).map((function(e){return{position:e,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),u.getColumnCells(C.areaIndex).map((function(e){return{position:e,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),c.map((function(e){return{position:e,backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}}))),highlightNotes:[].concat(c.map((function(o){return{position:o,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:r}})))}},c.createRuleExplanationStep=function(o,t,e){var n=this,r=e.value,i=e.strongLinks,c=e.connectingBlock,g=e.affectedCells,d=i[0],C=i[1],f=d.cells.find((function(o){return!c.some((function(t){return n.isSamePosition(t,o)}))})),h=C.cells.find((function(o){return!c.some((function(t){return n.isSamePosition(t,o)}))}));return{technique:this.name,stepId:2,position:g[0],value:0,get description(){return s.language.getLangByID("TwoStringKiteStrategy.ruleExplanationDes",{name:n.name,value:r,rowNum:"R"+(d.areaIndex+1),colNum:"C"+(C.areaIndex+1),connectingCell1:"R"+(c[0].row+1)+"C"+(c[0].col+1),connectingCell2:"R"+(c[1].row+1)+"C"+(c[1].col+1),block:u.getBlockIndex(c[0])+1,end1:"R"+(f.row+1)+"C"+(f.col+1),end2:"R"+(h.row+1)+"C"+(h.col+1)})},highlights:u.createDeduplicatedHighlights([u.getRowCells(d.areaIndex).map((function(e){return{position:e,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),u.getColumnCells(C.areaIndex).map((function(e){return{position:e,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),c.map((function(e){return{position:e,backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),[f,h].map((function(e){return{position:e,backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}}))]),highlightNotes:[].concat(c.map((function(o){return{position:o,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:r}})),[{position:f,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:r},{position:h,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:r}])}},c.createImpactDemonstrationStep=function(o,t,e){var n=this,r=e.value,i=e.strongLinks,c=e.connectingBlock,g=e.affectedCells,d=i[0],C=i[1],f=d.cells.find((function(o){return!c.some((function(t){return n.isSamePosition(t,o)}))})),h=C.cells.find((function(o){return!c.some((function(t){return n.isSamePosition(t,o)}))}));return{technique:this.name,stepId:3,position:c[0],value:0,get description(){return s.language.getLangByID("TwoStringKiteStrategy.impactDemonstrationDes",{name:n.name,value:r,rowNum:"R"+(d.areaIndex+1),colNum:"C"+(C.areaIndex+1),connectingCell1:"R"+(c[0].row+1)+"C"+(c[0].col+1),connectingCell2:"R"+(c[1].row+1)+"C"+(c[1].col+1),block:u.getBlockIndex(c[0])+1,end1:"R"+(f.row+1)+"C"+(f.col+1),end2:"R"+(h.row+1)+"C"+(h.col+1)})},highlights:u.createDeduplicatedHighlights([u.getRowCells(d.areaIndex).map((function(e){return{position:e,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),u.getColumnCells(C.areaIndex).map((function(e){return{position:e,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),c.map((function(e){return{position:e,backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),[f,h].map((function(e){return{position:e,backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),g.map((function(e){return{position:e,backgroundColor:l.sameRelatedAreaCell.background,textColor:l.sameRelatedAreaCell.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}}))]),highlightNotes:[].concat(c.map((function(o){return{position:o,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:r}})),[{position:f,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:r},{position:h,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:r}],g.map((function(o){return{position:o,backgroundColor:l.hintRemoveCell.background,textColor:l.hintRemoveCell.textColor,value:r}})))}},c.createRemovalExecutionStep=function(o,t,e){var n=this,r=e.value,i=e.strongLinks,c=e.connectingBlock,g=e.affectedCells;g.forEach((function(o){t[o.row][o.col].delete(r)}));var d=i[0],C=i[1],f=d.cells.find((function(o){return!c.some((function(t){return n.isSamePosition(t,o)}))})),h=C.cells.find((function(o){return!c.some((function(t){return n.isSamePosition(t,o)}))}));return{technique:this.name,stepId:4,position:c[0],value:0,get description(){return s.language.getLangByID("TwoStringKiteStrategy.removalExecutionDes",{name:n.name,value:r,affectedCellsLength:g.length,rowNum:"R"+(d.areaIndex+1),colNum:"C"+(C.areaIndex+1),connectingCell1:"R"+(c[0].row+1)+"C"+(c[0].col+1),connectingCell2:"R"+(c[1].row+1)+"C"+(c[1].col+1),block:u.getBlockIndex(c[0])+1,end1:"R"+(f.row+1)+"C"+(f.col+1),end2:"R"+(h.row+1)+"C"+(h.col+1)})},highlights:u.createDeduplicatedHighlights([u.getRowCells(d.areaIndex).map((function(e){return{position:e,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),u.getColumnCells(C.areaIndex).map((function(e){return{position:e,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),c.map((function(e){return{position:e,backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),[f,h].map((function(e){return{position:e,backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}})),g.map((function(e){return{position:e,backgroundColor:l.sameRelatedAreaCell.background,textColor:l.sameRelatedAreaCell.textColor,candidates:o[e.row][e.col]===a?[].concat(t[e.row][e.col]):void 0}}))]),highlightNotes:[].concat(c.map((function(o){return{position:o,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:r}})),[{position:f,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:r},{position:h,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:r}])}},n(r,[{key:"name",get:function(){return s.language.getLangByID("TwoStringKiteStrategy.name")}},{key:"description",get:function(){return s.language.getLangByID("TwoStringKiteStrategy.description")}}]),r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Oops.ts"],(function(t){var e,o,n,i,r,u,c,a,p,l,s,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){c=t.cclegacy,a=t._decorator,p=t.AudioClip,l=t.game,s=t.Button},function(t){f=t.oops}],execute:function(){var h,d,y,m,v,_,g,E,b,T;c._RF.push({},"86cefAWukVE77lEwgfFdYeD","UIButton",void 0);var w=a.ccclass,B=a.property,z=a.menu;t("default",(h=w("UIButton"),d=z("OopsFramework/Button/UIButton （通用按钮）"),y=B({tooltip:"每次触发间隔"}),m=B({tooltip:"是否只触发一次"}),v=B({tooltip:"触摸音效",type:p}),h(_=d((E=e((g=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,n(e,"interval",E,i(e)),n(e,"once",b,i(e)),n(e,"effect",T,i(e)),e._touchCount=0,e._touchEndTime=0,e}o(e,t);var c=e.prototype;return c._onTouchEnded=function(e){if(this.once){if(this._touchCount>0)return void(e.propagationStopped=!0);this._touchCount++}this._touchEndTime&&l.totalTime-this._touchEndTime<this.interval?e.propagationStopped=!0:(this._touchEndTime=l.totalTime,t.prototype._onTouchEnded.call(this,e),this.playEffect())},c.playEffect=function(){var t=r(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.effect&&f.audio.playEffect(this.effect);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(s)).prototype,"interval",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),b=e(g.prototype,"once",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=e(g.prototype,"effect",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=g))||_)||_));c._RF.pop()}}}));

System.register("chunks:///_virtual/UIConfig.ts",["cc","./LayerManager.ts"],(function(e){var p,o;return{setters:[function(e){p=e.cclegacy},function(e){o=e.LayerType}],execute:function(){var r;p._RF.push({},"ffa5c27PYVCvoC7Y7YOyl/8","UIConfig",void 0);var a=e("UIID",function(e){return e[e.Loading=1]="Loading",e[e.Alert=2]="Alert",e[e.Confirm=3]="Confirm",e[e.Lobby=4]="Lobby",e[e.Game=5]="Game",e[e.LevelPopup=6]="LevelPopup",e[e.SuccessPopup=7]="SuccessPopup",e[e.FailPopup=8]="FailPopup",e[e.HistoryPopup=9]="HistoryPopup",e[e.SettingPopup=10]="SettingPopup",e[e.LanguagePopup=11]="LanguagePopup",e[e.ThemePopup=12]="ThemePopup",e}({}));e("UIConfigData",((r={})[a.Alert]={layer:o.Dialog,prefab:"prefabs/dialog/alert",mask:!0},r[a.Confirm]={layer:o.Dialog,prefab:"prefabs/dialog/confirm",mask:!0},r[a.Loading]={layer:o.UI,prefab:"prefabs/view/loading",bundle:"resources"},r[a.Lobby]={layer:o.UI,prefab:"prefabs/view/lobby",bundle:"resources"},r[a.Game]={layer:o.UI,prefab:"prefabs/view/game",bundle:"resources"},r[a.LevelPopup]={layer:o.PopUp,prefab:"prefabs/popup/levelPopup",bundle:"resources"},r[a.SuccessPopup]={layer:o.PopUp,prefab:"prefabs/popup/successPopup",bundle:"resources"},r[a.FailPopup]={layer:o.PopUp,prefab:"prefabs/popup/failPopup",bundle:"resources"},r[a.HistoryPopup]={layer:o.PopUp,prefab:"prefabs/popup/historyPopup",bundle:"resources"},r[a.SettingPopup]={layer:o.PopUp,prefab:"prefabs/popup/settingPopup",bundle:"resources"},r[a.LanguagePopup]={layer:o.PopUp,prefab:"prefabs/popup/languagePopup",bundle:"resources"},r[a.ThemePopup]={layer:o.PopUp,prefab:"prefabs/popup/themePopup",bundle:"resources"},r));p._RF.pop()}}}));

System.register("chunks:///_virtual/UndoRecord.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"ab441mVHX1FFpOg17dAdLVP","UndoRecord",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/UniqueRectangleType1Strategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(e){var t,n,o,r,i,l,a,c,u,s;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,o=e.createClass},function(e){r=e.cclegacy},function(e){i=e.HighlightConfig},function(e){l=e.HighlightAreaType,a=e.BLANK_CHAR},function(e){c=e.BaseStrategy},function(e){u=e.SolverUtils},function(e){s=e.oops}],execute:function(){r._RF.push({},"8b7639c8I9Axp1MFwfMZSjH","UniqueRectangleType1Strategy",void 0);e("UniqueRectangleType1Strategy",function(e){function r(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).difficulty=17,t}t(r,e);var c=r.prototype;return c.execute=function(e,t){var n=this.findUniqueRectangle(t);return n?this.createSteps(e,t,n):null},c.findUniqueRectangle=function(e){for(var t,o=this.findStrongLinks(e),r=n(o);!(t=r()).done;){var i=t.value,l=this.checkRectangleFormation(i,e);if(l)return l}return null},c.findStrongLinks=function(e){for(var t=[],n=this.generateValuePairs(),o=0;o<9;o++)this.checkLineLoose(l.ROW,o,e,n,t),this.checkLineLoose(l.COLUMN,o,e,n,t);return t},c.generateValuePairs=function(){for(var e=[],t=1;t<=8;t++)for(var n=t+1;n<=9;n++)e.push([t,n]);return e},c.checkLine=function(e,t,o,r,i,a){void 0===a&&(a=!0);for(var c=new Array(10).fill(0),u=0;u<9;u++)for(var s,g=e===l.ROW?[t,u]:[u,t],h=g[1],f=n(o[g[0]][h]);!(s=f()).done;){c[s.value]|=1<<u}for(var d,p=n(r);!(d=p()).done;){var v=d.value,C=v[0],R=v[1],m=c[C],y=c[R];if(2===this.countBits(m)&&2===this.countBits(y)&&0!=(m&y)){var w=m&y;if(2===this.countBits(w)){var k=this.maskToPositions(w,e,t);a&&!this.areStrictBiValue(k,o,C,R)||i.push({direction:e,index:t,cells:k,values:[C,R]})}}}},c.checkLineLoose=function(e,t,o,r,i){for(var a,c=e===l.ROW?u.getRowCells(t):u.getColumnCells(t),s=n(r);!(a=s()).done;){for(var g,h=a.value,f=h[0],d=h[1],p=[],v=n(c);!(g=v()).done;){var C=g.value,R=o[C.row][C.col];2===R.size&&R.has(f)&&R.has(d)&&p.push(C)}2===p.length&&i.push({direction:e,index:t,cells:[p[0],p[1]],values:[f,d]})}},c.countBits=function(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>24},c.maskToPositions=function(e,t,n){for(var o=[],r=0;r<9;r++)e&1<<r&&o.push(t===l.ROW?{row:n,col:r}:{row:r,col:n});return[o[0],o[1]]},c.areStrictBiValue=function(e,t,n,o){return e.every((function(e){var r=t[e.row][e.col];return 2===r.size&&r.has(n)&&r.has(o)}))},c.checkRectangleFormation=function(e,t){var n=e.cells,o=n[0],r=n[1],i=this.checkRectanglePath(e.direction,e.index,[o,r],e.values,t);if(i)return i;var l=this.checkRectanglePath(e.direction,e.index,[r,o],e.values,t);return l||null},c.checkRectanglePath=function(e,t,n,o,r){var i=n[0],a=n[1],c=o[0],u=o[1],s=e===l.ROW?l.COLUMN:l.ROW,g=s===l.ROW?a.row:a.col,h=[];if(this.checkLineLoose(s,g,r,[o],h),h.length>0){var f=h[0].cells.filter((function(e){return a.row!=e.row||a.col!=e.col})),d=e===l.ROW?{row:f[0].row,col:i.col}:{row:i.row,col:f[0].col},p=r[d.row][d.col];if(3===p.size&&p.has(c)&&p.has(u)){var v=[i,a,f[0],d];return{value:[].concat(p).filter((function(e){return e!=c&&e!=u}))[0],cellCandidates:o,rectangle:v,removeCells:[d],strongLink:{direction:e,index:t,cells:n}}}}return null},c.createSteps=function(e,t,n){var o=[];return o.push(this.createDiscoveryStep(e,t,n)),o.push(this.createRectangleStep(e,t,n)),o.push(this.createRuleExplanationStep(e,t,n)),o.push(this.createRemovalStep(e,t,n)),o},c.createDiscoveryStep=function(e,t,n){var o=this,r=(n.value,n.cellCandidates,n.rectangle),c=(n.removeCells,n.strongLink);c.direction===l.ROW?u.getRowCells(c.index):u.getColumnCells(c.index);return{technique:this.name,stepId:1,position:c.cells[0],value:0,get description(){return s.language.getLangByID("UniqueRectangleType1Strategy.discoveryDes",{name:o.name,description:o.description})},highlights:[].concat(r.map((function(n){return{position:n,backgroundColor:i.defaultCell.background,textColor:i.defaultCell.textColor,candidates:e[n.row][n.col]===a?[].concat(t[n.row][n.col]):void 0}})))}},c.createRectangleStep=function(e,t,n){n.value;var o=n.cellCandidates,r=n.rectangle,l=n.removeCells,c=(n.strongLink,r.filter((function(e){return l.every((function(t){return t.row!==e.row||t.col!==e.col}))}))),u=l;return{technique:this.name,stepId:2,position:r[0],value:0,get description(){return s.language.getLangByID("UniqueRectangleType1Strategy.rectangleDes",{twoValueCells:c.map((function(e){return"R"+(e.row+1)+"C"+(e.col+1)})).join(", "),threeValueCells:u.map((function(e){return"R"+(e.row+1)+"C"+(e.col+1)})).join(", "),cellCandidates:o.map((function(e){return""+e})).join(", ")})},highlights:[].concat(r.map((function(n){return{position:n,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:e[n.row][n.col]===a?[].concat(t[n.row][n.col]):void 0}}))),highlightNotes:[].concat(r.flatMap((function(e){return o.map((function(t){return{position:e,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:t}}))})))}},c.createRuleExplanationStep=function(e,t,n){var o=n.value,r=n.cellCandidates,l=n.rectangle,c=n.removeCells,g=(n.strongLink,[].concat(l.flatMap((function(e){return r.map((function(t){return{position:e,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:t}}))})),c.flatMap((function(e){return r.map((function(t){return{position:e,backgroundColor:i.hintRemoveCell.background,textColor:i.hintRemoveCell.textColor,value:t}}))})))),h=l.filter((function(e){return c.every((function(t){return t.row!==e.row||t.col!==e.col}))})),f=c;return{technique:this.name,stepId:3,position:l[0],value:0,get description(){return s.language.getLangByID("UniqueRectangleType1Strategy.type1Explanation",{twoValueCells:h.map((function(e){return"R"+(e.row+1)+"C"+(e.col+1)})).join(", "),threeValueCells:f.map((function(e){return"R"+(e.row+1)+"C"+(e.col+1)})).join(", "),cellCandidates:r.map((function(e){return""+e})).join(", "),value:o})},highlights:[].concat(l.map((function(n){return{position:n,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:e[n.row][n.col]===a?[].concat(t[n.row][n.col]):void 0}}))),highlightNotes:u.deduplicateHighlightNotes(g,"last")}},c.createRemovalStep=function(e,t,n){var o=n.value,r=n.cellCandidates,l=n.rectangle,c=n.removeCells;n.strongLink;c.forEach((function(e){t[e.row][e.col].delete(r[0]),t[e.row][e.col].delete(r[1])}));var g=l.filter((function(e){return c.every((function(t){return t.row!==e.row||t.col!==e.col}))})),h=c,f=[].concat(l.map((function(n){return{position:n,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:e[n.row][n.col]===a?[].concat(t[n.row][n.col]):void 0}})),c.map((function(n){return{position:n,backgroundColor:i.hintRemoveCell.background,textColor:i.hintRemoveCell.textColor,candidates:e[n.row][n.col]===a?[].concat(t[n.row][n.col]):void 0}})));return{technique:this.name,stepId:4,position:c[0],value:o,get description(){return s.language.getLangByID("UniqueRectangleType1Strategy.removalDes",{twoValueCells:g.map((function(e){return"R"+(e.row+1)+"C"+(e.col+1)})).join(", "),threeValueCells:h.map((function(e){return"R"+(e.row+1)+"C"+(e.col+1)})).join(", "),cellCandidates:r.map((function(e){return""+e})).join(", "),value:o})},highlights:u.deduplicateHighlights(f,"last"),highlightNotes:[].concat(l.flatMap((function(e){return r.map((function(t){return{position:e,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:t}}))})))}},o(r,[{key:"name",get:function(){return s.language.getLangByID("UniqueRectangleType1Strategy.name")}},{key:"description",get:function(){return s.language.getLangByID("UniqueRectangleType1Strategy.description")}}]),r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/UniqueRectangleType2Strategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(e){var t,n,o,r,l,a,i,c,u,s;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,o=e.createClass},function(e){r=e.cclegacy},function(e){l=e.HighlightConfig},function(e){a=e.HighlightAreaType,i=e.BLANK_CHAR},function(e){c=e.BaseStrategy},function(e){u=e.SolverUtils},function(e){s=e.oops}],execute:function(){r._RF.push({},"f467a3RpJ9HN63uSEnUSncw","UniqueRectangleType2Strategy",void 0);e("UniqueRectangleType2Strategy",function(e){function r(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).difficulty=18,t}t(r,e);var c=r.prototype;return c.execute=function(e,t){var n=this.findUniqueRectangle(t);return n?this.createSteps(e,t,n):null},c.findUniqueRectangle=function(e){for(var t,o=this.findStrongLinks(e),r=n(o);!(t=r()).done;){var l=t.value,a=this.checkRectangleFormation(l,e);if(a)return a}return null},c.findStrongLinks=function(e){for(var t=[],n=this.generateValuePairs(),o=0;o<9;o++)this.checkLineLoose(a.ROW,o,e,n,t),this.checkLineLoose(a.COLUMN,o,e,n,t);return t},c.generateValuePairs=function(){for(var e=[],t=1;t<=8;t++)for(var n=t+1;n<=9;n++)e.push([t,n]);return e},c.checkLine=function(e,t,o,r,l,i){void 0===i&&(i=!0);for(var c=new Array(10).fill(0),u=0;u<9;u++)for(var s,g=e===a.ROW?[t,u]:[u,t],f=g[1],d=n(o[g[0]][f]);!(s=d()).done;){c[s.value]|=1<<u}for(var h,p=n(r);!(h=p()).done;){var C=h.value,v=C[0],w=C[1],R=c[v],k=c[w];if(2===this.countBits(R)&&2===this.countBits(k)&&0!=(R&k)){var y=R&k;if(2===this.countBits(y)){var m=this.maskToPositions(y,e,t);i&&!this.areStrictBiValue(m,o,v,w)||l.push({direction:e,index:t,cells:m,values:[v,w]})}}}},c.checkLineLoose=function(e,t,o,r,l){for(var i,c=e===a.ROW?u.getRowCells(t):u.getColumnCells(t),s=n(r);!(i=s()).done;){for(var g,f=i.value,d=f[0],h=f[1],p=[],C=n(c);!(g=C()).done;){var v=g.value,w=o[v.row][v.col];2===w.size&&w.has(d)&&w.has(h)&&p.push(v)}2===p.length&&l.push({direction:e,index:t,cells:[p[0],p[1]],values:[d,h]})}},c.countBits=function(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>24},c.maskToPositions=function(e,t,n){for(var o=[],r=0;r<9;r++)e&1<<r&&o.push(t===a.ROW?{row:n,col:r}:{row:r,col:n});return[o[0],o[1]]},c.areStrictBiValue=function(e,t,n,o){return e.every((function(e){var r=t[e.row][e.col];return 2===r.size&&r.has(n)&&r.has(o)}))},c.checkRectangleFormation=function(e,t){var n=e.cells,o=n[0],r=n[1],l=this.checkRectanglePath(e.direction,e.index,[o,r],e.values,t);if(l)return l;var a=this.checkRectanglePath(e.direction,e.index,[r,o],e.values,t);return a||null},c.checkRectanglePath=function(e,t,n,o,r){var l=this,i=null,c=n[0],s=n[1],g=o[0],f=o[1],d=e===a.ROW?a.COLUMN:a.ROW,h=d===a.ROW?s.row:s.col;return u.getAreaCells(d,h).filter((function(e){var t=r[e.row][e.col];if(3===t.size&&t.has(g)&&t.has(f))return e})).forEach((function(d){var h=e===a.ROW?{row:d.row,col:c.col}:{row:c.row,col:d.col},p=r[h.row][h.col];if(l.areCandidatesEqual(d,h,r)){var C=[c,s,d,h],v=u.getIntersectionRelatedCells([d,h]),w=[].concat(p).filter((function(e){return e!=g&&e!=f}))[0];l.hasCandidateInCells(v,w,r)&&(i={value:w,cellCandidates:o,rectangle:C,removeCells:v,strongLink:{direction:e,index:t,cells:n}})}})),i},c.areCandidatesEqual=function(e,t,o){var r=o[e.row][e.col],l=o[t.row][t.col];if(r.size!==l.size)return!1;for(var a,i=n(r);!(a=i()).done;){var c=a.value;if(!l.has(c))return!1}return!0},c.hasCandidateInCells=function(e,t,o){if(t<1||t>9)return console.error("候选数必须是1-9的数字"),!1;for(var r,l=n(e);!(r=l()).done;){var a=r.value,i=a.row,c=a.col;if(o[i][c].has(t))return!0}return!1},c.createSteps=function(e,t,n){var o=[];return o.push(this.createDiscoveryStep(e,t,n)),o.push(this.createRectangleStep(e,t,n)),o.push(this.createRuleExplanationStep(e,t,n)),o.push(this.createRemovalStep(e,t,n)),o},c.createDiscoveryStep=function(e,t,n){var o=this,r=(n.value,n.cellCandidates,n.rectangle),c=(n.removeCells,n.strongLink);c.direction===a.ROW?u.getRowCells(c.index):u.getColumnCells(c.index);return{technique:this.name,stepId:1,position:c.cells[0],value:0,get description(){return s.language.getLangByID("UniqueRectangleType2Strategy.discoveryDes",{name:o.name,description:o.description})},highlights:[].concat(r.map((function(n){return{position:n,backgroundColor:l.defaultCell.background,textColor:l.defaultCell.textColor,candidates:e[n.row][n.col]===i?[].concat(t[n.row][n.col]):void 0}})))}},c.createRectangleStep=function(e,t,n){n.value;var o=n.cellCandidates,r=n.rectangle,a=(n.removeCells,n.strongLink,[]),c=[];r.forEach((function(e){2===t[e.row][e.col].size?a.push(e):3===t[e.row][e.col].size&&c.push(e)}));return{technique:this.name,stepId:2,position:r[0],value:0,get description(){return s.language.getLangByID("UniqueRectangleType2Strategy.rectangleDes",{twoValueCells:a.map((function(e){return"R"+(e.row+1)+"C"+(e.col+1)})).join(", "),threeValueCells:c.map((function(e){return"R"+(e.row+1)+"C"+(e.col+1)})).join(", "),cellCandidates:o.map((function(e){return""+e})).join(", ")})},highlights:[].concat(r.map((function(n){return{position:n,backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,candidates:e[n.row][n.col]===i?[].concat(t[n.row][n.col]):void 0}}))),highlightNotes:[].concat(r.flatMap((function(e){return o.map((function(t){return{position:e,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:t}}))})))}},c.createRuleExplanationStep=function(e,t,n){var o=n.value,r=n.cellCandidates,a=n.rectangle,c=n.removeCells,g=(n.strongLink,[].concat(a.flatMap((function(e){return[].concat(t[e.row][e.col]).map((function(t){return{position:e,backgroundColor:t===o?l.hintCell.background:l.defaultCell.background,textColor:t===o?l.hintCell.textColor:l.defaultCell.textColor,value:t}}))})),c.filter((function(e){if(t[e.row][e.col].has(o))return e})).map((function(e){return{position:e,backgroundColor:l.hintRemoveCell.background,textColor:l.hintRemoveCell.textColor,value:o}})))),f=[],d=[];a.forEach((function(e){2===t[e.row][e.col].size?f.push(e):3===t[e.row][e.col].size&&d.push(e)}));return{technique:this.name,stepId:3,position:a[0],value:0,get description(){return s.language.getLangByID("UniqueRectangleType2Strategy.type1Explanation",{twoValueCells:f.map((function(e){return"R"+(e.row+1)+"C"+(e.col+1)})).join(", "),threeValueCells:d.map((function(e){return"R"+(e.row+1)+"C"+(e.col+1)})).join(", "),cellCandidates:r.map((function(e){return""+e})).join(", "),value:o})},highlights:[].concat(a.map((function(n){return{position:n,backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,candidates:e[n.row][n.col]===i?[].concat(t[n.row][n.col]):void 0}})),c.flatMap((function(n){return{position:n,backgroundColor:l.defaultCell.background,textColor:l.defaultCell.textColor,candidates:e[n.row][n.col]===i?[].concat(t[n.row][n.col]):void 0}}))),highlightNotes:u.deduplicateHighlightNotes(g,"last")}},c.createRemovalStep=function(e,t,n){var o=this,r=n.value,a=(n.cellCandidates,n.rectangle),c=n.removeCells,g=(n.strongLink,c.filter((function(e){if(t[e.row][e.col].has(r))return e})).length);c.forEach((function(e){t[e.row][e.col].delete(r)}));a.filter((function(e){return c.every((function(t){return t.row!==e.row||t.col!==e.col}))}));var f=[].concat(a.flatMap((function(e){return[].concat(t[e.row][e.col]).map((function(t){return{position:e,backgroundColor:t===r?l.hintCell.background:l.defaultCell.background,textColor:t===r?l.hintCell.textColor:l.defaultCell.textColor,value:t}}))})));return{technique:this.name,stepId:4,position:a[0],value:0,get description(){return s.language.getLangByID("UniqueRectangleType2Strategy.removalDes",{name:o.name,value:r,removeCellLength:g})},highlights:[].concat(a.map((function(n){return{position:n,backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,candidates:e[n.row][n.col]===i?[].concat(t[n.row][n.col]):void 0}})),c.flatMap((function(n){return{position:n,backgroundColor:l.defaultCell.background,textColor:l.defaultCell.textColor,candidates:e[n.row][n.col]===i?[].concat(t[n.row][n.col]):void 0}}))),highlightNotes:u.deduplicateHighlightNotes(f,"last")}},o(r,[{key:"name",get:function(){return s.language.getLangByID("UniqueRectangleType2Strategy.name")}},{key:"description",get:function(){return s.language.getLangByID("UniqueRectangleType2Strategy.description")}}]),r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/Vec3Util.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtil.ts"],(function(n){var e,r,t,u,a;return{setters:[function(n){e=n.createClass},function(n){r=n.cclegacy,t=n.Vec3,u=n.Mat4},function(n){a=n.MathUtil}],execute:function(){r._RF.push({},"38947ih8d5EQ7HG4buug+SR","Vec3Util",void 0);n("Vec3Util",function(){function n(){}return n.progress=function(n,e,r){var u=new t;return u.x=a.progress(n.x,e.x,r),u.y=a.progress(n.y,e.y,r),u.z=a.progress(n.z,e.z,r),u},n.add=function(n,e){var r=new t;return t.add(r,n,e),r},n.sub=function(n,e){var r=new t;return t.subtract(r,n,e),r},n.mul=function(n,e){var r=new t;return t.multiplyScalar(r,n,e),r},n.div=function(n,e){var r=new t;return r.x=n.x/e,r.y=n.y/e,r.z=n.z/e,r},n.equals=function(n,e){return n.x==e.x&&n.y==e.y&&n.z==e.z},n.magnitude=function(n){return n.length()},n.normalize=function(n){return new t(n.x,n.y,n.z).normalize()},n.direction=function(n,e){var r=new t;return t.subtract(r,e,n),r.normalize()},n.distance=function(n,e){return t.distance(n,e)},n.lerp=function(n,e,r){return this.bezierOne(r,n,e)},n.slerp=function(n,e,r){if(r<=0)return n;if(r>=1)return e;var u=this.rotateTo(n,e,t.angle(n,e)/Math.PI*180*r),a=e.length()*r+n.length()*(1-r);return u.normalize().multiplyScalar(a)},n.rotateTo=function(n,e,r){if(0==t.angle(n,e))return e;var a=new t;t.cross(a,n,e),a.normalize();var i=r*Math.PI/180,l=new u;return l.rotate(i,a),new t(n.x*l.m00+n.y*l.m04+n.z*l.m08,n.x*l.m01+n.y*l.m05+n.z*l.m09,n.x*l.m02+n.y*l.m06+n.z*l.m10)},n.bezierOne=function(n,e,r){n>1?n=1:n<0&&(n=0);var t=e.clone(),u=r.clone();return t.multiplyScalar(1-n).add(u.multiplyScalar(n))},n.bezierTwo=function(n,e,r,u){n>1?n=1:n<0&&(n=0);var a=1-n,i=n*n,l=e.clone(),o=new t,c=r.clone(),y=u.clone();return o.add(l.multiplyScalar(a*a)),o.add(c.multiplyScalar(2*a*n)),o.add(y.multiplyScalar(i)),o},n.bezierThree=function(n,e,r,t,u){n>1?n=1:n<0&&(n=0);var a=1-n,i=a*a,l=i*a,o=n*n,c=o*n,y=e.clone(),f=e.clone(),s=r.clone(),d=t.clone(),m=u.clone();return f.add(y.multiplyScalar(l)),f.add(s.multiplyScalar(3*i*n)),f.add(d.multiplyScalar(3*a*o)),f.add(m.multiplyScalar(c)),f},n.dot=function(n,e){var r=n,t=e;return r.x*t.x+r.y*t.y+r.z*t.z},n.cross=function(n,e){var r=new t(1,0,0),u=new t(0,1,0),a=new t(0,0,1),i=new t(n.x,n.y,n.z),l=new t(e.x,e.y,e.z),o=r.multiplyScalar(i.y*l.z-l.y*i.z),c=u.multiplyScalar(l.x*i.z-i.x*l.z),y=a.multiplyScalar(i.x*l.y-l.x*i.y);return o.add(c).add(y)},n.angle=function(n,e){var r=this.dot(n.clone().normalize(),e.clone().normalize());return Math.acos(r)/Math.PI*180*Math.sign(r)},n.dirAngle=function(e,r){var t=n.cross(e,r);return n.angle(e,r)*Math.sign(n.dot(t.normalize(),n.cross(r.normalize(),e.normalize())))},e(n,null,[{key:"x",get:function(){return new t(1,0,0)}},{key:"y",get:function(){return new t(0,1,0)}},{key:"z",get:function(){return new t(0,0,1)}},{key:"left",get:function(){return new t(-1,0,0)}},{key:"right",get:function(){return new t(1,0,0)}},{key:"up",get:function(){return new t(0,1,0)}},{key:"down",get:function(){return new t(0,-1,0)}},{key:"forward",get:function(){return new t(0,0,1)}},{key:"back",get:function(){return new t(0,0,-1)}},{key:"one",get:function(){return new t(1,1,1)}},{key:"zero",get:function(){return new t(0,0,0)}}]),n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ViewModel.ts",["cc","./JsonOb.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.cclegacy,n=t.director},function(t){i=t.JsonOb}],execute:function(){e._RF.push({},"54f75k4X+RP0qaXOzrfZysL","ViewModel",void 0);var o="VC:";function r(t,e,n,i){void 0===i&&(i="");for(var o=e.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==!1){console.error("["+a+"] not find in "+i+"."+e);break}r==o.length-1?t[a]=n:t=t[a]}}function a(t,e,n,i){void 0===i&&(i="");for(var o=e.split("."),r=0;r<o.length;r++){var a=o[r];if(a in t==!1)return console.error("["+a+"] not find in "+i+"."+e),n;t=t[a]}return null==t&&(t=n),t}var s=function(){function t(t,e){this.$data=void 0,this._tag=null,this.active=!0,this.emitToRootPath=!1,new i(t,this._callback.bind(this)),this.$data=t,this._tag=e}var e=t.prototype;return e._callback=function(t,e,i){if(1==this.active){var r=o+this._tag+"."+i.join(".");if(n.emit(r,t,e,[this._tag].concat(i)),this.emitToRootPath&&n.emit(o+this._tag,t,e,i),i.length>=2)for(var a=0;a<i.length-1;a++)i[a]}},e.setValue=function(t,e){r(this.$data,t,e,this._tag)},e.getValue=function(t,e){return a(this.$data,t,e,this._tag)},t}();t("VM",new(function(){function t(){this._mvs=new Map,this.setObjValue=r,this.getObjValue=a}var e=t.prototype;return e.add=function(t,e,n){void 0===e&&(e="global"),void 0===n&&(n=!1);var i=new s(t,e),o=this._mvs.get(e);e.includes(".")?console.error("cant write . in tag:",e):o?console.error("already set VM tag:"+e):(i.emitToRootPath=n,this._mvs.set(e,i))},e.remove=function(t){this._mvs.delete(t)},e.get=function(t){return this._mvs.get(t)},e.addValue=function(t,e){var n=(t=t.trim()).split(".");n.length<2&&console.error("Cant find path:"+t);var i=this.get(n[0]);if(i){var o=n.slice(1).join(".");i.setValue(o,i.getValue(o)+e)}else console.error("Cant Set VM:"+n[0])},e.getValue=function(t,e){var n=(t=t.trim()).split(".");if(n.length<2)console.error("Get Value Cant find path:"+t);else{var i=this.get(n[0]);if(i)return i.getValue(n.slice(1).join("."),e);console.error("Cant Get VM:"+n[0])}},e.setValue=function(t,e){var n=(t=t.trim()).split(".");if(n.length<2)console.error("Set Value Cant find path:"+t);else{var i=this.get(n[0]);i?i.setValue(n.slice(1).join("."),e):console.error("Cant Set VM:"+n[0])}},e.bindPath=function(t,e,i,r){""!=(t=t.trim())?"*"!==t.split(".")[0]?n.on(o+t,e,i,r):console.error(t,"路径不合法,可能错误覆盖了 VMParent 的onLoad 方法, 或者父节点并未挂载 VMParent 相关的组件脚本"):console.error(i.node.name,"节点绑定的路径为空")},e.unbindPath=function(t,e,i){"*"!==(t=t.trim()).split(".")[0]?n.off(o+t,e,i):console.error(t,"路径不合法,可能错误覆盖了 VMParent 的onLoad 方法, 或者父节点并未挂载 VMParent 相关的组件脚本")},e.inactive=function(){this._mvs.forEach((function(t){t.active=!1}))},e.active=function(){this._mvs.forEach((function(t){t.active=!1}))},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/ViewUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts"],(function(e){var n,t,o,r,a,i,c,u,l,f,s;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e.UITransform,a=e.v3,i=e.Size,c=e.Prefab,u=e.instantiate,l=e.Animation,f=e.AnimationClip},function(e){s=e.resLoader}],execute:function(){o._RF.push({},"f607cCjAEZHVKVZ/FyRs5bA","ViewUtil",void 0);e("ViewUtil",function(){function e(){}return e.nodeTreeInfoLite=function(n,t){for(var o=t||new Map,r=n.children,a=0;a<r.length;a++){var i=r[a];i.name.indexOf(" ")<0&&o.set(i.name,i),e.nodeTreeInfoLite(i,o)}return o},e.findNodes=function(n,t,o){for(var r=o||[],a=t.children,i=0;i<a.length;i++){var c=a[i].name;n.test(c)&&r.push(a[i]),e.findNodes(n,a[i],r)}return r},e.calculateASpaceToBSpacePos=function(e,n,t){var o=e.getComponent(r).convertToWorldSpaceAR(t);return n.getComponent(r).convertToNodeSpaceAR(o)},e.calculateScreenPosToSpacePos=function(e,n){var t=e.getUILocation(),o=a(t.x,t.y);return n.getComponent(r).convertToNodeSpaceAR(o)},e.uniformScale=function(e,n,t,o){var r,a=t/e,c=o/n;return r=a<c?a:c,new i(Math.floor(e*r),Math.floor(n*r))},e.createPrefabNode=function(e,n){void 0===n&&(n=s.defaultBundleName);var t=s.get(e,c,n);return t?u(t):null},e.createPrefabNodeAsync=function(e,o){return void 0===o&&(o=s.defaultBundleName),new Promise(n(t().mark((function n(r,a){var i;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.loadAsync(o,e,c);case 2:(i=n.sent)?r(u(i)):(console.error("名为【"+e+"】的资源加载失败"),r(null));case 4:case"end":return n.stop()}}),n)}))))},e.addNodeAnimation=function(e,n,t,o){if(void 0===t&&(t=!0),void 0===o&&(o=!1),n&&n.isValid){var r=n.getComponent(l);null==r&&(r=n.addComponent(l));var a=s.get(e,f);if(a&&!(t&&r.getState(a.name)&&r.getState(a.name).isPlaying)){if(o)return r.defaultClip=a,void r.play();r.once(l.EventType.FINISHED,(function(){r.defaultClip&&r.play()}),this),r.getState(a.name)||r.createState(a,a.name),r.play(a.name)}}},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VirtualListItem.ts"],(function(t){var e,i,o,n,s,h,r,a,l,c,m,u,_,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,r=t.Prefab,a=t.Vec3,l=t.Size,c=t.ScrollView,m=t.UITransform,u=t.Vec2,_=t.instantiate},function(t){d=t.VirtualListItem}],execute:function(){var v,p,f,g,w,I,z,P,S;s._RF.push({},"314f05U4MhCKZ8smc0gE1Q8","VirtualList",void 0);var b=h.ccclass,y=h.property;h.menu,t("VirtualList",(v=b("VirtualList"),p=y({type:r,tooltip:"列表项预制体"}),f=y({tooltip:"计算边界位置"}),g=y({tooltip:"显示数量"}),v((z=e((I=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return e=t.call.apply(t,[this].concat(s))||this,o(e,"itemPrefab",z,n(e)),o(e,"edgeThreshold",P,n(e)),o(e,"showNumber",S,n(e)),e._data=[],e._showTotalSize=0,e._defaultContentPos=a.ZERO,e._scrollViewSize=new l,e._itemPool=[],e._activeItems=[],e}i(e,t);var s=e.prototype;return s.onLoad=function(){var e;null==(e=t.prototype.onLoad)||e.call(this),this.node.on(c.EventType.SCROLLING,this._onScrolling,this)},s.init=function(t){this.itemPrefab?(this._data=t||[],this._initContent()):console.error("VirtualList: itemPrefab is required")},s._refreshItem=function(t,e,i){var o=t.getComponent(d);o&&o.refreshItem(e,i)},s._getItemSize=function(t){var e=t.getComponent(d);return e?e.getItemSize():new l},s._initContent=function(){if(this.content){this.content.removeAllChildren(),this._defaultContentPos=this.content.position.clone();var t=this.getComponent(m);this._scrollViewSize=new l(null==t?void 0:t.width,null==t?void 0:t.height),this.showNumber=Math.min(this.showNumber,this._data.length);for(var e=0;e<this.showNumber;e++){var i=this._getItemFromPool();this._refreshItem(i,this._data[e],e),this.content.addChild(i);var o=this._getItemSize(i);this._showTotalSize=this._showTotalSize+(this.vertical?o.height:o.width),this._activeItems.push({node:i,index:e})}var n=this.content.getComponent(m);n&&(this.vertical?n.anchorPoint=new u(.5,1):n.anchorPoint=new u(0,.5)),this._refreshItemPosition()}},s._pushItemToPool=function(t){var e=t.getComponent(d);return console.log((null==e?void 0:e.index)+"被回收"),t.removeFromParent(),this._itemPool.push(t)},s._getItemFromPool=function(){return this._itemPool.pop()||_(this.itemPrefab)},s._addItem=function(t,e){if(!this.content||t>=this._data.length||t<0)return!1;var i=this._getItemFromPool();return this._refreshItem(i,this._data[t],t),this.content.addChild(i),this._refreshItemPosition(),e?(console.log("往最前面添加新的子项",t),this._activeItems.unshift({node:i,index:t})):(console.log("往最后面添加新的子项",t),this._activeItems.push({node:i,index:t})),!0},s._refreshItemPosition=function(){var t=this;if(this.content){this._showTotalSize=0;var e=0;this._activeItems.forEach((function(i,o){var n=i.node.getComponent(d),s=null==n?void 0:n.getItemSize();t._showTotalSize=t._showTotalSize+(t.vertical?s.height:s.width),s&&(t.vertical?(i.node.setPosition(0,0-s.height/2-e),e+=s.height):(i.node.setPosition(s.width/2+e,0),e+=s.width))}));var i=this.content.getComponent(m);i&&(this.vertical?i.height=this._showTotalSize:i.width=this._showTotalSize)}},s._removeFrontOrBackItem=function(t){if(this.content){var e=0;t||(e=this._activeItems.length-1);var i=this._activeItems[e].node;this._activeItems.splice(e,1),this._pushItemToPool(i)}},s._onScrolling=function(){if(this.content&&!(this._showTotalSize<=(this.vertical?this._scrollViewSize.height:this._scrollViewSize.width))){var t=this.content.position,e=new u(t.x-this._defaultContentPos.x,t.y-this._defaultContentPos.y),i=this.vertical?e.y:e.x,o=this._showTotalSize-(this.vertical?this._scrollViewSize.height:this._scrollViewSize.width);if(console.log("pos->",t,this._defaultContentPos,i),o-i<=this.edgeThreshold){if(this._activeItems[this._activeItems.length-1]){var n=this._activeItems[this._activeItems.length-1].index+1;if(n<this._data.length){console.log("刷新底部子项"),this._removeFrontOrBackItem(!0),this._addItem(n,!1);var s=this._activeItems[this._activeItems.length-1].node.getComponent(d),h=null==s?void 0:s.getItemSize();h&&(this.vertical?this.content.position=new a(this.content.position.x,this.content.position.y-h.height,this.content.position.z):this.content.position=new a(this.content.position.x+h.width,this.content.position.y,this.content.position.z))}}}else if(i<this.edgeThreshold&&this._activeItems[0]){var r=this._activeItems[0].index-1;if(r>=0){console.log("刷新顶部子项",r),this._removeFrontOrBackItem(!1),this._addItem(r,!0);var l=this._activeItems[0].node.getComponent(d),c=null==l?void 0:l.getItemSize();c&&(this.vertical?this.content.position=new a(this.content.position.x,this.content.position.y+c.height,this.content.position.z):this.content.position=new a(this.content.position.x+c.width,this.content.position.y,this.content.position.z))}}}},e}(c)).prototype,"itemPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(I.prototype,"edgeThreshold",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),S=e(I.prototype,"showNumber",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),w=I))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,a,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.size,c=t.Component}],execute:function(){var u,l,p;o._RF.push({},"95bedlPiPpAK75tlSoT9UC8","VirtualListItem",void 0);var f=a.ccclass,d=a.property;t("VirtualListItem",f("VirtualListItem")((p=e((l=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"index",p,n(e)),e.data=void 0,e}i(e,t);var o=e.prototype;return o.refreshItem=function(t,e){this.index=e,this.data=t},o.getItemSize=function(){return s(100,100)},e}(c)).prototype,"index",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=l))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/VMBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewModel.ts","./VMEnv.ts"],(function(t){var n,e,i,a,h,o,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,a=t.log,h=t.Component},function(t){o=t.VM},function(t){r=t.VMEnv}],execute:function(){var s;e._RF.push({},"2f6f36IvUdPO7xynnVTPgzb","VMBase",void 0);var c=i.ccclass,l=i.help;t("VMBase",c(s=l("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037631&doc_id=2873565")(s=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return(n=t.call.apply(t,[this].concat(i))||this).VM=o,n.watchPath="",n.templateMode=!1,n.watchPathArr=[],n.templateValueArr=[],n}n(e,t);var i=e.prototype;return i.onLoad=function(){var t=this;if(!r.editor){for(var n=this.watchPath.split("."),e=1;e<n.length;e++){if("*"==n[e]){var i=this.node.parent.children.findIndex((function(n){return n===t.node}));i<=0&&(i=0),n[e]=i.toString();break}}this.watchPath=n.join(".");var h=this.watchPathArr;if(h.length>=1)for(var o=0;o<h.length;o++){for(var s=h[o].split("."),c=1;c<s.length;c++){if("*"==s[c]){var l=this.node.parent.children.findIndex((function(n){return n===t.node}));l<=0&&(l=0),s[c]=l.toString();break}}this.watchPathArr[o]=s.join(".")}""==this.watchPath&&""==this.watchPathArr.join("")&&a("可能未设置路径的节点:",this.node.parent.name+"."+this.node.name)}},i.onEnable=function(){r.editor||(this.templateMode?this.setMultPathEvent(!0):""!=this.watchPath&&this.VM.bindPath(this.watchPath,this.onValueChanged,this),this.onValueInit())},i.onDisable=function(){r.editor||(this.templateMode?this.setMultPathEvent(!1):""!=this.watchPath&&this.VM.unbindPath(this.watchPath,this.onValueChanged,this))},i.setMultPathEvent=function(t){if(void 0===t&&(t=!0),!r.editor)for(var n=this.watchPathArr,e=0;e<n.length;e++){var i=n[e];t?this.VM.bindPath(i,this.onValueChanged,this):this.VM.unbindPath(i,this.onValueChanged,this)}},i.onValueInit=function(){},i.onValueChanged=function(t,n,e){},e}(h))||s)||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/VMCompsEdit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMEnv.ts"],(function(e){var t,r,o,i,n,a,c,l,s,p,u,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,c=e._decorator,l=e.CCString,s=e.Enum,p=e.Node,u=e.log,h=e.Component},function(e){f=e.VMEnv}],execute:function(){var _,g,d,E,y,T,P,b,C,N,O,v,m,A,w,M,L,k,H,D,R,j,z;a._RF.push({},"2359eFXKF5HFYS74K7Y17/U","VMCompsEdit",void 0);var S=c.ccclass,V=c.property,F=c.executeInEditMode,B=c.menu,W=c.help,x=function(e){return e[e.SEARCH_COMPONENT=0]="SEARCH_COMPONENT",e[e.ENABLE_COMPONENT=1]="ENABLE_COMPONENT",e[e.REPLACE_WATCH_PATH=2]="REPLACE_WATCH_PATH",e[e.DELETE_COMPONENT=3]="DELETE_COMPONENT",e}(x||{});e("default",(_=B("OopsFramework/Mvvm/Edit-Comps （快速组件操作）"),g=W("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037632&doc_id=2873565"),d=V({type:[l]}),E=V({type:s(x)}),y=V({tooltip:"勾选后,会自动查找 find list 中填写的组件",visible:function(){return this.actionType===x.SEARCH_COMPONENT}}),T=V({tooltip:"勾选后,会批量激活 find list 中填写的组件",visible:function(){return this.actionType===x.ENABLE_COMPONENT}}),P=V({tooltip:"勾选后,会批量关闭 find list 中填写的组件",visible:function(){return this.actionType===x.ENABLE_COMPONENT}}),b=V({tooltip:"允许删除节点的组件,确定需要移除请勾选,防止误操作",visible:function(){return this.actionType===x.DELETE_COMPONENT}}),C=V({tooltip:"勾选后,会批量删除 find list 中填写的组件",displayName:"[ X DELETE X ]",visible:function(){return this.allowDelete&&this.actionType===x.DELETE_COMPONENT}}),N=V({tooltip:"勾选后,会批量替换掉指定的路径",visible:function(){return this.actionType===x.REPLACE_WATCH_PATH}}),O=V({tooltip:"匹配的路径,匹配规则: 搜索开头为 game的路径",visible:function(){return this.actionType===x.REPLACE_WATCH_PATH}}),v=V({tooltip:"替换的路径,将匹配到的路径替换",visible:function(){return this.actionType===x.REPLACE_WATCH_PATH}}),m=V({tooltip:"是否搜集绑定VM组件的节点?",visible:function(){return this.actionType===x.SEARCH_COMPONENT}}),A=V({type:[p],readonly:!0,tooltip:"收集到绑定了VM组件相关的节点，可以自己跳转过去",visible:function(){return this.canCollectNodes&&this.actionType===x.SEARCH_COMPONENT}}),S(w=F(w=_(w=g((L=t((M=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,o(t,"findList",L,i(t)),o(t,"actionType",k,i(t)),o(t,"allowDelete",H,i(t)),o(t,"targetPath",D,i(t)),o(t,"replacePath",R,i(t)),o(t,"canCollectNodes",j,i(t)),o(t,"collectNodes",z,i(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){if(!f.editor){var e=this.getNodePath(this.node);console.error("you forget delete MVEditFinder,[path]",e)}},a.setComponents=function(e){var t=this,r=this.findList,o="搜索到当前节点下面的组件";switch(e){case 0:o="搜索到当前节点下面的组件";break;case 1:o="激活以下节点的组件";break;case 2:o="关闭以下节点的组件";break;case 3:o="删除以下节点的组件";break;case 4:o="替换以下节点的路径"}u(o),u("______________________"),r.forEach((function(r){t.searchComponent(r,e)})),u("______________________")},a.searchComponent=function(e,t){var r=this;void 0===t&&(t=0),this.collectNodes=[];var o=this.node.getComponentsInChildren(e);null==o||o.length<1||(u("["+e+"]:"),o.forEach((function(e){var o="";switch(t<=3&&(o=!0===e.templateMode?e.watchPathArr?":[Path:"+e.watchPathArr.join("|")+"]":"":e.watchPath?":[Path:"+e.watchPath+"]":""),u(r.getNodePath(e.node)+o),t){case 0:r.canCollectNodes&&-1===r.collectNodes.indexOf(e.node)&&r.collectNodes.push(e.node);break;case 1:e.enabled=!0;break;case 2:e.enabled=!1;break;case 3:e.node.removeComponent(e);break;case 4:var i=r.targetPath,n=r.replacePath;if(!0===e.templateMode)for(var a=0;a<e.watchPathArr.length;a++){var c=e.watchPathArr[a];e.watchPathArr[a]=r.replaceNodePath(c,i,n)}else e.watchPath=r.replaceNodePath(e.watchPath,i,n)}})))},a.replaceNodePath=function(e,t,r){for(var o=e.split("."),i=t.split("."),n=r.split("."),a=!0,c=0;c<i.length;c++)if(o[c]!==i[c]){a=!1;break}if(!0===a){for(var l=0;l<n.length;l++)o[l]=n[l];u(" 路径更新:",e,">>>",o.join("."))}return o.join(".")},a.getNodePath=function(e){for(var t=e,r=[];t;){var o=t.getParent();if(!o)break;r.push(t.name),t=o}return r.reverse().join("/")},n(t,[{key:"findTrigger",get:function(){return!1},set:function(e){this.setComponents(0)}},{key:"enableTrigger",get:function(){return!1},set:function(e){this.setComponents(1)}},{key:"disableTrigger",get:function(){return!1},set:function(e){this.setComponents(2)}},{key:"deleteTrigger",get:function(){return!1},set:function(e){this.setComponents(3)}},{key:"replaceTrigger",get:function(){return!1},set:function(e){this.setComponents(4)}}]),t}(h)).prototype,"findList",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["VMBase","VMParent"]}}),k=t(M.prototype,"actionType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.SEARCH_COMPONENT}}),t(M.prototype,"findTrigger",[y],Object.getOwnPropertyDescriptor(M.prototype,"findTrigger"),M.prototype),t(M.prototype,"enableTrigger",[T],Object.getOwnPropertyDescriptor(M.prototype,"enableTrigger"),M.prototype),t(M.prototype,"disableTrigger",[P],Object.getOwnPropertyDescriptor(M.prototype,"disableTrigger"),M.prototype),H=t(M.prototype,"allowDelete",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(M.prototype,"deleteTrigger",[C],Object.getOwnPropertyDescriptor(M.prototype,"deleteTrigger"),M.prototype),t(M.prototype,"replaceTrigger",[N],Object.getOwnPropertyDescriptor(M.prototype,"replaceTrigger"),M.prototype),D=t(M.prototype,"targetPath",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"game"}}),R=t(M.prototype,"replacePath",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"*"}}),j=t(M.prototype,"canCollectNodes",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=t(M.prototype,"collectNodes",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=M))||w)||w)||w)||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/VMCustom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts","./VMEnv.ts"],(function(t){var e,o,n,i,r,c,a,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Toggle},function(t){s=t.VMBase},function(t){l=t.VMEnv}],execute:function(){var h,p,u,m,f,d,g,C,V,_,y,b,w,v;r._RF.push({},"ce662fwsSVPLKpmHx+KocFu","VMCustom",void 0);var P=c.ccclass,M=c.property,k=c.executeInEditMode,x=c.menu,B=c.help,R=[["BhvFrameIndex","index",!1],["BhvGroupToggle","index",!1],["BhvRollNumber","targetValue",!1],["cc.Label","string",!1],["cc.RichText","string",!1],["cc.EditBox","string",!0],["cc.Slider","progress",!0],["cc.ProgressBar","progress",!1],["cc.Toggle","isChecked",!0]];t("VMCustom",(h=x("OopsFramework/Mvvm/VM-Custom （自定义）"),p=B("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037634&doc_id=2873565"),u=M({tooltip:"激活controller,以开启双向绑定，否则只能接收消息"}),m=M({tooltip:"监视对象路径"}),f=M({tooltip:"绑定组件的名字"}),d=M({tooltip:"组件上需要监听的属性"}),g=M({tooltip:"刷新间隔频率(只影响脏检查的频率)",step:.01,range:[0,1],visible:function(){return!0===this.controller}}),P(C=k(C=h(C=p((_=e((V=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,n(e,"controller",_,i(e)),n(e,"watchPath",y,i(e)),n(e,"componentName",b,i(e)),n(e,"componentProperty",w,i(e)),n(e,"refreshRate",v,i(e)),e._timer=0,e._watchComponent=null,e._canWatchComponent=!1,e._oldValue=null,e}o(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),this.checkEditorComponent(),l.editor||(this._watchComponent=this.node.getComponent(this.componentName),this.checkComponentState())},r.onRestore=function(){this.checkEditorComponent()},r.start=function(){this.onValueInit()},r.checkEditorComponent=function(){if(!l.editor)for(var t=R,e=0;e<t.length;e++){var o=t[e];if(this.node.getComponent(o[0])){""==this.componentName&&(this.componentName=o[0]),""==this.componentProperty&&(this.componentProperty=o[1]),null!==o[2]&&(this.controller=o[2]);break}}},r.checkComponentState=function(){this._canWatchComponent=!1,this._watchComponent?this.componentProperty?this.componentProperty in this._watchComponent!=!1?this._canWatchComponent=!0:console.error("需要监听的组件的属性不存在"):console.error("未设置需要监听的组件 的属性"):console.error("未设置需要监听的组件")},r.getComponentValue=function(){return this._watchComponent[this.componentProperty]},r.setComponentValue=function(t){"cc.Toggle"==this.componentName?this.node.getComponent(a).isChecked=t:this._watchComponent[this.componentProperty]=t},r.onValueInit=function(){l.editor||this.setComponentValue(this.VM.getValue(this.watchPath))},r.onValueController=function(t,e){this.VM.setValue(this.watchPath,t)},r.onValueChanged=function(t,e,o){this.setComponentValue(t)},r.update=function(t){if(!l.editor&&this.controller&&this._canWatchComponent&&!1!==this._watchComponent.enabled&&(this._timer+=t,!(this._timer<this.refreshRate))){this._timer=0;var e=this._oldValue,o=this.getComponentValue();this._oldValue!==o&&(this._oldValue=this.getComponentValue(),this.onValueController(o,e))}},e}(s)).prototype,"controller",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=e(V.prototype,"watchPath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=e(V.prototype,"componentName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=e(V.prototype,"componentProperty",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=e(V.prototype,"refreshRate",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),C=V))||C)||C)||C)||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/VMEnv.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(n){var e,t,u;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy},function(n){u=n.EDITOR}],execute:function(){t._RF.push({},"fdf72Q91PdCXpPQ+62s1ufi","VMEnv",void 0);n("VMEnv",function(){function n(){}return e(n,null,[{key:"editor",get:function(){return u}}]),n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/VMEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts"],(function(e){var t,r,n,i,a,o,c,u,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.CCString,u=e.Enum,l=e.EventHandler},function(e){s=e.VMBase}],execute:function(){var p,f,h,b,g,d,m,v,y,w,M,k,E,z,V,P,A,C;a._RF.push({},"a9ce7kf8XZJeLPlT2iWn2zD","VMEvent",void 0);var _=o.ccclass,D=o.property,O=o.executeInEditMode,B=o.menu,F=o.help,I=function(e){return e[e.none=0]="none",e[e["=="]=1]="==",e[e["!="]=2]="!=",e[e[">"]=3]=">",e[e[">="]=4]=">=",e[e["<"]=5]="<",e[e["<="]=6]="<=",e}(I||{});e("default",(p=B("OopsFramework/Mvvm/VM-EventCall （调用函数）"),f=F("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037640&doc_id=2873565"),h=D({tooltip:"使用模板模式，可以使用多路径监听"}),b=D({tooltip:"监听获取值的路径",visible:function(){return!1===this.templateMode}}),g=D({tooltip:"触发一次后会自动关闭该事件"}),d=D({tooltip:"监听获取值的多条路径,这些值的改变都会通过这个函数回调,请使用 pathArr 区分获取的值 ",type:[c],visible:function(){return!0===this.templateMode}}),m=D({tooltip:"过滤模式，会根据条件过滤掉时间的触发",type:u(I)}),v=D({visible:function(){return this.filterMode!==I.none}}),y=D([l]),_(w=O(w=p(w=f((k=t((M=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"templateMode",k,i(t)),n(t,"watchPath",E,i(t)),n(t,"triggerOnce",z,i(t)),n(t,"watchPathArr",V,i(t)),n(t,"filterMode",P,i(t)),n(t,"compareValue",A,i(t)),n(t,"changeEvents",C,i(t)),t}r(t,e);var a=t.prototype;return a.onValueInit=function(){},a.onValueChanged=function(e,t,r){this.conditionCheck(e,this.compareValue)&&(Array.isArray(this.changeEvents)&&this.changeEvents.forEach((function(n){n.emit([e,t,r])})),!0===this.triggerOnce&&(this.enabled=!1))},a.conditionCheck=function(e,t){var r=I;switch(this.filterMode){case r.none:return!0;case r["=="]:if(e==t)return!0;break;case r["!="]:if(e!=t)return!0;break;case r["<"]:if(e<t)return!0;break;case r[">"]:if(e>t)return!0;break;case r[">="]:if(e>=t)return!0;break;case r["<"]:if(e<t)return!0;break;case r["<="]:if(e<=t)return!0}return!1},t}(s)).prototype,"templateMode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=t(M.prototype,"watchPath",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=t(M.prototype,"triggerOnce",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=t(M.prototype,"watchPathArr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=t(M.prototype,"filterMode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.none}}),A=t(M.prototype,"compareValue",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=t(M.prototype,"changeEvents",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=M))||w)||w)||w)||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/VMLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringFormat.ts","./VMBase.ts","./VMEnv.ts"],(function(t){var e,r,i,a,n,l,o,s,c,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,o=t.CCString,s=t.error},function(t){c=t.StringFormatFunction},function(t){u=t.VMBase},function(t){h=t.VMEnv}],execute:function(){var p,f,m,g,b,d,V,v,y,L,M,T;n._RF.push({},"545c05XsG9GDJispEGWKvYv","VMLabel",void 0);var w=l.ccclass,x=l.property,A=l.menu,F=l.executeInEditMode,P=l.help,k="cc.Label";t("default",(p=A("OopsFramework/Mvvm/VM-Label （标签）"),f=P("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037641&doc_id=2873565"),m=x({tooltip:"是否启用模板代码,只能在运行时之前设置,\n将会动态解析模板语法 {{0}},并且自动设置监听的路径"}),g=x({visible:function(){return!1===this.templateMode}}),b=x({readonly:!0}),d=x({type:[o],visible:function(){return!0===this.templateMode}}),w(V=F(V=p(V=f((y=e((v=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,i(e,"templateMode",y,a(e)),i(e,"watchPath",L,a(e)),i(e,"labelType",M,a(e)),i(e,"watchPathArr",T,a(e)),e.templateValueArr=[],e.templateFormatArr=[],e.originText=null,e}r(e,t);var n=e.prototype;return n.onRestore=function(){this.checkLabel()},n.onLoad=function(){t.prototype.onLoad.call(this),this.checkLabel(),h.editor||this.templateMode&&(this.originText=this.getLabelValue(),this.parseTemplate())},n.start=function(){h.editor||this.onValueInit()},n.parseTemplate=function(){var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null!=e)for(var r=0;r<e.length;r++){var i=e[r].match(t)[1].split(":")[1]||"";this.templateFormatArr[r]=i}},n.getReplaceText=function(){if(!this.originText)return"";var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null==e)return"";for(var r=this.originText,i=0;i<e.length;i++){var a,n=e[i],l=n.match(t),o=parseInt(l[1]||"0")||0,s=this.templateFormatArr[i];a=this.templateValueArr[o],r=r.replace(n,this.getValueFromFormat(a,s))}return r},n.getValueFromFormat=function(t,e){return c.deal(t,e)},n.onValueInit=function(){if(!1===this.templateMode)this.setLabelValue(this.VM.getValue(this.watchPath));else{for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e],"?");this.setLabelValue(this.getReplaceText())}},n.onValueChanged=function(t,e,r){if(!1===this.templateMode)this.setLabelValue(t);else{var i=r.join("."),a=this.watchPathArr.findIndex((function(t){return t===i}));a>=0&&(this.templateValueArr[a]=t,this.setLabelValue(this.getReplaceText()))}},n.setLabelValue=function(t){this.getComponent(this.labelType).string=t+""},n.getLabelValue=function(){return this.getComponent(this.labelType).string},n.checkLabel=function(){for(var t=["cc.Label","cc.RichText","cc.EditBox"],e=0;e<t.length;e++){var r=t[e];if(this.node.getComponent(r))return this.labelType=r,!0}return s("没有挂载任何label组件"),!1},e}(u)).prototype,"templateMode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=e(v.prototype,"watchPath",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=e(v.prototype,"labelType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k}}),T=e(v.prototype,"watchPathArr",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=v))||V)||V)||V)||V));n._RF.pop()}}}));

System.register("chunks:///_virtual/VMModify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts"],(function(t){var a,e,i,n,r,u,l,o;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,l=t.Enum},function(t){o=t.VMBase}],execute:function(){var s,h,c,v,p,M,f,d,m,V,b,w,g,y;r._RF.push({},"7d2a4voaOJJGJZRWFPG6Bk7","VMModify",void 0);var P=u.ccclass,I=u.property,A=u.menu,C=u.help,N=function(t){return t[t.MIN=0]="MIN",t[t.MAX=1]="MAX",t[t.MIN_MAX=2]="MIN_MAX",t}(N||{});t("default",(s=A("OopsFramework/Mvvm/VM-Modify （修改数据）"),h=C("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037642&doc_id=2873565"),c=I({tooltip:"监视对象路径"}),v=I({tooltip:"是不启用取值范围限制"}),p=I({type:l(N),visible:function(){return!0===this.valueClamp}}),M=I({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==N.MAX}}),f=I({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==N.MIN}}),P(d=s(d=h((V=a((m=function(t){function a(){for(var a,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return a=t.call.apply(t,[this].concat(r))||this,i(a,"watchPath",V,n(a)),i(a,"valueClamp",b,n(a)),i(a,"valueClampMode",w,n(a)),i(a,"valueMin",g,n(a)),i(a,"valueMax",y,n(a)),a}e(a,t);var r=a.prototype;return r.clampValue=function(t){var a=this.valueMin,e=this.valueMax;if(0==this.valueClamp)return t;switch(this.valueClampMode){case N.MIN_MAX:t>e&&(t=e),t<a&&(t=a);break;case N.MIN:t<a&&(t=a);break;case N.MAX:t>e&&(t=e)}return t},r.vAddInt=function(t,a){this.vAdd(t,a,!0)},r.vSubInt=function(t,a){this.vSub(t,a,!0)},r.vMulInt=function(t,a){this.vMul(t,a,!0)},r.vDivInt=function(t,a){this.vDiv(t,a,!0)},r.vAdd=function(t,a,e){void 0===e&&(e=!1);var i=parseFloat(a),n=this.VM.getValue(this.watchPath,0)+i;e&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},r.vSub=function(t,a,e){void 0===e&&(e=!1);var i=parseFloat(a),n=this.VM.getValue(this.watchPath,0)-i;e&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},r.vMul=function(t,a,e){void 0===e&&(e=!1);var i=parseFloat(a),n=this.VM.getValue(this.watchPath,0)*i;e&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},r.vDiv=function(t,a,e){void 0===e&&(e=!1);var i=parseFloat(a),n=this.VM.getValue(this.watchPath,0)/i;e&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},r.vString=function(t,a){var e=a;this.VM.setValue(this.watchPath,e)},r.vNumberInt=function(t,a){this.vNumber(t,a,!0)},r.vNumber=function(t,a,e){void 0===e&&(e=!1);var i=parseFloat(a);e&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))},a}(o)).prototype,"watchPath",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=a(m.prototype,"valueClamp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=a(m.prototype,"valueClampMode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.MIN_MAX}}),g=a(m.prototype,"valueMin",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=a(m.prototype,"valueMax",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),d=m))||d)||d)||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/VMParent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameComponent.ts","./ViewModel.ts"],(function(t){var n,e,o,i,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.GameComponent},function(t){a=t.VM}],execute:function(){var r;e._RF.push({},"15ccciO+ZRH476sPKD/LvB7","VMParent",void 0);var s=o.ccclass,c=o.help,h=o.executionOrder;t("default",s(r=h(-1)(r=c("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037729&doc_id=2873565")(r=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).tag="_temp",n.data={},n.VM=a,n}n(e,t);var o=e.prototype;return o.onLoad=function(){if(null!=this.data){this.tag="_temp<"+this.node.uuid.replace(".","")+">",a.add(this.data,this.tag);for(var t=this.getVMComponents(),n=0;n<t.length;n++){var e=t[n];this.replaceVMPath(e,this.tag)}this.onBind()}},o.onBind=function(){},o.onUnBind=function(){},o.replaceVMPath=function(t,n){var e=t.watchPath;if(1==t.templateMode){var o=t.watchPathArr;if(o)for(var i=0;i<o.length;i++){var a=o[i];o[i]=a.replace("*",n)}}else"*"===e.split(".")[0]&&(t.watchPath=e.replace("*",n))},o.getVMComponents=function(){var t=this,n=this.node.getComponentsInChildren("VMBase"),e=this.node.getComponentsInChildren("VMParent").filter((function(n){return n.uuid!==t.uuid})),o=[];return e.forEach((function(t){o=o.concat(t.getComponentsInChildren("VMBase"))})),n=n.filter((function(t){return o.indexOf(t)<0}))},o.onDestroy=function(){this.onUnBind(),a.remove(this.tag),this.data=null,t.prototype.onDestroy.call(this)},e}(i))||r)||r)||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/VMProgress.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringFormat.ts","./VMCustom.ts","./VMEnv.ts"],(function(t){var e,r,a,i,n,o,s,l,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,s=t.CCString},function(t){l=t.StringFormatFunction},function(t){u=t.VMCustom},function(t){h=t.VMEnv}],execute:function(){var c,p,m,f,V,g,d,v,w,P;n._RF.push({},"2a50eqI7JZNV5Sh0y/Qd9C6","VMProgress",void 0);var y=o.ccclass,A=o.property,M=o.menu,b=o.help;t("default",(c=M("OopsFramework/Mvvm/VM-Progress （进度条）"),p=b("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037843&doc_id=2873565"),m=A({visible:!1,override:!0}),f=A({type:[s],tooltip:"第一个值是min 值，第二个值 是 max 值，会计算出两者的比例"}),V=A({visible:function(){return"string"===this.componentProperty},tooltip:"字符串格式化，和 VMLabel 的字段一样，需要填入对应的格式化字符串"}),y(g=c(g=p((v=e((d=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(e,"watchPath",v,i(e)),a(e,"watchPathArr",w,i(e)),e.templateMode=!0,a(e,"stringFormat",P,i(e)),e}r(e,t);var n=e.prototype;return n.onLoad=function(){(this.watchPathArr.length<2||"[min]"==this.watchPathArr[0]||"[max]"==this.watchPathArr[1])&&console.error("VMProgress must have two values!"),t.prototype.onLoad.call(this)},n.start=function(){h.editor||this.onValueInit()},n.onValueInit=function(){for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e]);var r=this.templateValueArr[0]/this.templateValueArr[1];this.setComponentValue(r)},n.setComponentValue=function(e){if(""!==this.stringFormat){var r=l.deal(e,this.stringFormat);t.prototype.setComponentValue.call(this,r)}else t.prototype.setComponentValue.call(this,e)},n.onValueController=function(t,e){var r=Math.round(t*this.templateValueArr[1]);Number.isNaN(r)&&(r=0),this.VM.setValue(this.watchPathArr[0],r)},n.onValueChanged=function(t,e,r){if(!1!==this.templateMode){var a=r.join("."),i=this.watchPathArr.findIndex((function(t){return t===a}));i>=0&&(this.templateValueArr[i]=t);var n=this.templateValueArr[0]/this.templateValueArr[1];n>1&&(n=1),(n<0||Number.isNaN(n))&&(n=0),this.setComponentValue(n)}},e}(u)).prototype,"watchPath",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=e(d.prototype,"watchPathArr",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["[min]","[max]"]}}),P=e(d.prototype,"stringFormat",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=d))||g)||g)||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/VMState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./VMBase.ts","./ViewModel.ts"],(function(e){var t,i,n,o,a,r,l,u,c,s,p,h,f,N,C,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Enum,u=e.CCInteger,c=e.Node,s=e.Button,p=e.Sprite,h=e.UIRenderer,f=e.color,N=e.UIOpacity},function(e){C=e.VMBase},function(e){d=e.VM}],execute:function(){var b,v,O,m,E,y,A,T,_,g,w,D,M,V,I,S,P,k,L,R,z,B,U,Y,F,X,G,j,x,H,q;a._RF.push({},"47052uw/Y5O1LXaLObj4ARx","VMState",void 0);var J=r.ccclass,K=r.property,Q=r.menu,W=r.help,Z=function(e){return e[e["=="]=0]="==",e[e["!="]=1]="!=",e[e[">"]=2]=">",e[e[">="]=3]=">=",e[e["<"]=4]="<",e[e["<="]=5]="<=",e[e.range=6]="range",e}(Z||{}),$=function(e){return e[e.NODE_ACTIVE=0]="NODE_ACTIVE",e[e.NODE_VISIBLE=1]="NODE_VISIBLE",e[e.NODE_OPACITY=2]="NODE_OPACITY",e[e.NODE_COLOR=3]="NODE_COLOR",e[e.COMPONENT_CUSTOM=4]="COMPONENT_CUSTOM",e[e.SPRITE_GRAYSCALE=5]="SPRITE_GRAYSCALE",e[e.BUTTON_INTERACTABLE=6]="BUTTON_INTERACTABLE",e}($||{}),ee=function(e){return e[e.NODE_INDEX=0]="NODE_INDEX",e[e.NODE_NAME=1]="NODE_NAME",e}(ee||{});e("default",(b=Q("OopsFramework/Mvvm/VM-State （状态控制）"),v=W("https://gitee.com/dgflash/oops-framework/wikis/pages?sort_id=12037846&doc_id=2873565"),O=K({tooltip:"遍历子节点,根据子节点的名字或名字转换为值，判断值满足条件 来激活"}),m=K({type:l(Z)}),E=K({type:l(ee),tooltip:"遍历子节点,根据子节点的名字转换为值，判断值满足条件 来激活",visible:function(){return!0===this.foreachChildMode}}),y=K({displayName:"Value: a",visible:function(){return!1===this.foreachChildMode}}),A=K({displayName:"Value: b",visible:function(){return!1===this.foreachChildMode&&this.condition===Z.range}}),T=K({type:l($),tooltip:"一旦满足条件就对节点执行操作"}),_=K({visible:function(){return this.valueAction===$.NODE_OPACITY},range:[0,255],type:u,displayName:"Action Opacity"}),g=K({visible:function(){return this.valueAction===$.NODE_COLOR},displayName:"Action Color"}),w=K({visible:function(){return this.valueAction===$.COMPONENT_CUSTOM},displayName:"Component Name"}),D=K({visible:function(){return this.valueAction===$.COMPONENT_CUSTOM},displayName:"Component Property"}),M=K({visible:function(){return this.valueAction===$.COMPONENT_CUSTOM},displayName:"Default Value"}),V=K({visible:function(){return this.valueAction===$.COMPONENT_CUSTOM},displayName:"Action Value"}),I=K({type:[c],tooltip:"需要执行条件的节点，如果不填写则默认会执行本节点以及本节点的所有子节点 的状态"}),J(S=b(S=v((k=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"watchPath",k,o(t)),n(t,"foreachChildMode",L,o(t)),n(t,"condition",R,o(t)),n(t,"foreachChildType",z,o(t)),n(t,"valueA",B,o(t)),n(t,"valueB",U,o(t)),n(t,"valueAction",Y,o(t)),n(t,"valueActionOpacity",F,o(t)),n(t,"valueActionColor",X,o(t)),n(t,"valueComponentName",G,o(t)),n(t,"valueComponentProperty",j,o(t)),n(t,"valueComponentDefaultValue",x,o(t)),n(t,"valueComponentActionValue",H,o(t)),n(t,"watchNodes",q,o(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){e.prototype.onLoad.call(this),0==this.watchNodes.length&&(this.valueAction!==$.NODE_ACTIVE&&!1===this.foreachChildMode&&this.watchNodes.push(this.node),this.watchNodes=this.watchNodes.concat(this.node.children))},a.start=function(){this.enabled&&this.onValueInit()},a.onValueInit=function(){var e=d.getValue(this.watchPath);this.checkNodeFromValue(e)},a.onValueChanged=function(e,t,i){this.checkNodeFromValue(e)},a.checkNodeFromValue=function(e){var t=this;if(this.foreachChildMode)this.watchNodes.forEach((function(i,n){var o=t.foreachChildType===ee.NODE_INDEX?n:i.name,a=t.conditionCheck(e,o);t.setNodeState(i,a)}));else{var i=this.conditionCheck(e,this.valueA,this.valueB);this.setNodesStates(i)}},a.setNodesStates=function(e){var t=this,i=this.watchNodes,n=e;i.forEach((function(e){t.setNodeState(e,n)}))},a.setNodeState=function(e,t){var i=t;switch(this.valueAction){case $.NODE_ACTIVE:e.active=!!i;break;case $.NODE_VISIBLE:var n=e.getComponent(N);null==n&&(n=e.addComponent(N)),n&&(n.opacity=i?255:0);break;case $.NODE_OPACITY:var o=e.getComponent(N);null==o&&(o=e.addComponent(N)),o&&(o.opacity=i?this.valueActionOpacity:255);break;case $.NODE_COLOR:var a=e.getComponent(h);a&&(a.color=i?this.valueActionColor:f(255,255,255));break;case $.COMPONENT_CUSTOM:var r=e.getComponent(this.valueComponentName);if(null==r)return;this.valueComponentProperty in r&&(r[this.valueComponentProperty]=i?this.valueComponentActionValue:this.valueComponentDefaultValue);break;case $.SPRITE_GRAYSCALE:var l=e.getComponent(p);l&&(l.grayscale=i);break;case $.BUTTON_INTERACTABLE:var u=e.getComponent(s);u&&(u.interactable=i)}},a.conditionCheck=function(e,t,i){var n=Z;switch(this.condition){case n["=="]:if(e==t)return!0;break;case n["!="]:if(e!=t)return!0;break;case n["<"]:if(e<t)return!0;break;case n[">"]:if(e>t)return!0;break;case n[">="]:if(e>=t)return!0;break;case n["<"]:if(e<t)return!0;break;case n["<="]:if(e<=t)return!0;break;case n.range:if(e>=t&&e<=i)return!0}return!1},t}(C)).prototype,"watchPath",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=t(P.prototype,"foreachChildMode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=t(P.prototype,"condition",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z["=="]}}),z=t(P.prototype,"foreachChildType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ee.NODE_INDEX}}),B=t(P.prototype,"valueA",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(P.prototype,"valueB",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=t(P.prototype,"valueAction",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $.NODE_ACTIVE}}),F=t(P.prototype,"valueActionOpacity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=t(P.prototype,"valueActionColor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f(155,155,155)}}),G=t(P.prototype,"valueComponentName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),j=t(P.prototype,"valueComponentProperty",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=t(P.prototype,"valueComponentDefaultValue",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=t(P.prototype,"valueComponentActionValue",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=t(P.prototype,"watchNodes",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=P))||S)||S)||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/WebSock.ts",["cc","./Logger.ts"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.Logger}],execute:function(){e._RF.push({},"70df2VbIU9B66Fr+op8FKJp","WebSock",void 0);t("WebSock",function(){function t(){this._ws=null,this.onConnected=null,this.onMessage=null,this.onError=null,this.onClosed=null}var e=t.prototype;return e.connect=function(t){var e=this;if(this._ws&&this._ws.readyState===WebSocket.CONNECTING)return n.logNet("websocket connecting, wait for a moment..."),!1;var s=null;if(t.url)s=t.url;else{var o=t.ip,r=t.port;s=t.protocol+"://"+o+":"+r}return this._ws=new WebSocket(s),this._ws.binaryType=t.binaryType?t.binaryType:"arraybuffer",this._ws.onmessage=function(t){(0,e.onMessage)(t.data)},this._ws.onopen=this.onConnected,this._ws.onerror=this.onError,this._ws.onclose=this.onClosed,!0},e.send=function(t){return this._ws&&this._ws.readyState==WebSocket.OPEN?(this._ws.send(t),1):-1},e.close=function(t,e){this._ws&&this._ws.close(t,e)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/WWingStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(e){var t,o,r,l,n,a,i,c,u,g;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose,r=e.createClass},function(e){l=e.cclegacy},function(e){n=e.HighlightConfig},function(e){a=e.BLANK_CHAR,i=e.HighlightAreaType},function(e){c=e.BaseStrategy},function(e){u=e.SolverUtils},function(e){g=e.oops}],execute:function(){l._RF.push({},"71310JfUpxJUov7g6HFCktC","WWingStrategy",void 0);e("WWingStrategy",function(e){function l(){for(var t,o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).difficulty=12,t}t(l,e);var c=l.prototype;return c.execute=function(e,t){var o=this.checkWWing(e,t);return o?this.createWWingSteps(e,t,o):null},c.checkWWing=function(e,t){for(var r=this,l=[],n=0;n<9;n++)for(var i=0;i<9;i++)e[n][i]===a&&2===t[n][i].size&&l.push({row:n,col:i});for(var c,g,s=function(){var o=g.value,l=o[0],n=o[1],a=[].concat(t[l.row][l.col]).sort((function(e,t){return e-t})),i=[].concat(t[n.row][n.col]).sort((function(e,t){return e-t}));if(a.join(",")!==i.join(","))return 0;if(r.areCellsVisible(l,n))return 0;var c=a[0],u=a[1],s=[{strongDigit:c,removeDigit:u},{strongDigit:u,removeDigit:c}].map((function(o){var a=o.strongDigit,i=o.removeDigit,c=r.findStrongLink(l,n,a,e,t);if(!c)return null;var u=r.getSharedVisibleCells(l,n,e).filter((function(e){return t[e.row][e.col].has(i)}));return u.length>0?{cellA:l,cellB:n,strongLink:c,valueToRemove:i,affectedCells:u}:null})).filter(Boolean);return s.length>0?{v:s[0]}:void 0},C=o(u.getCombinations(l,2));!(g=C()).done;)if(0!==(c=s())&&c)return c.v;return null},c.findStrongLink=function(e,t,r,l,n){for(var a,i=this,c=this.getLinkedCells(e).filter((function(t){return!i.isSamePosition(t,e)})),u=this.getLinkedCells(t).filter((function(e){return!i.isSamePosition(e,t)})),g=[].concat(this.getCellsUnits(c),this.getCellsUnits(u)).filter((function(o){return!i.unitContainsCell(o,e)&&!i.unitContainsCell(o,t)})).filter((function(e,t,o){return t===o.findIndex((function(t){return t.areaType===e.areaType&&t.areaIndex===e.areaIndex}))})),s=o(g);!(a=s()).done;){var C=a.value,d=C.cells.filter((function(e){return n[e.row][e.col].has(r)}));if(d.length>=2){var f=d.every((function(o){return i.areCellsVisible(o,e)||i.areCellsVisible(o,t)})),h=d.some((function(t){return i.areCellsVisible(t,e)})),p=d.some((function(e){return i.areCellsVisible(e,t)}));if(f&&h&&p)return{areaType:C.areaType,areaIndex:C.areaIndex,digit:r}}}return null},c.getLinkedCells=function(e){var t=u.getRowCells(e.row),o=u.getColumnCells(e.col),r=this.getBoxCells(u.getBoxIndex(e.row,e.col));return[].concat(t,o,r).filter((function(e,t,o){return t===o.findIndex((function(t){return t.row===e.row&&t.col===e.col}))}))},c.getCellsUnits=function(e){for(var t,r=new Map,l=o(e);!(t=l()).done;){var n=t.value,a={areaType:i.ROW,areaIndex:n.row,cells:u.getRowCells(n.row)};r.set(i.ROW+"_"+n.row,a);var c={areaType:i.COLUMN,areaIndex:n.col,cells:u.getColumnCells(n.col)};r.set(i.COLUMN+"_"+n.col,c);var g=u.getBoxIndex(n.row,n.col),s={areaType:i.BOX,areaIndex:g,cells:this.getBoxCells(g)};r.set(i.BOX+"_"+g,s)}return Array.from(r.values())},c.unitContainsCell=function(e,t){return e.cells.some((function(e){return e.row===t.row&&e.col===t.col}))},c.createWWingSteps=function(e,t,o){return[this.createDiscoveryStep(e,t,o),this.createColorMappingStep(e,t,o),this.createMarkRemovalStep(e,t,o),this.executeRemovalStep(e,t,o)]},c.createDiscoveryStep=function(e,t,o){var r=this,l=o.cellA,a=o.cellB,i=o.strongLink,c=(o.valueToRemove,[].concat(t[l.row][l.col])),u=[].concat(t[a.row][a.col]);return{technique:this.name,stepId:1,position:l,value:0,get description(){return g.language.getLangByID("WWingStrategy.discoveryDes",{name:r.name,description:r.description})},highlights:[{position:l,backgroundColor:n.defaultCell.background,textColor:n.defaultCell.textColor,candidates:c},{position:a,backgroundColor:n.defaultCell.background,textColor:n.defaultCell.textColor,candidates:u}].concat(this.getAreaCells(i.areaType,i.areaIndex).map((function(e){return{position:e,backgroundColor:n.defaultCell.background,textColor:n.defaultCell.textColor,candidates:[].concat(t[e.row][e.col])}}))),highlightNotes:[].concat(c.map((function(e){return{position:l,backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:e}})),u.map((function(e){return{position:a,backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:e}})))}},c.getStrongLinkHighlight=function(e,t,o){return[].concat(this.getAreaCells(e.areaType,e.areaIndex).map((function(e){return{position:e,backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,candidates:[].concat(o[e.row][e.col])}})))},c.createColorMappingStep=function(e,t,o){var r=this,l=o.cellA,a=o.cellB,i=o.strongLink,c=o.valueToRemove,u=(o.affectedCells,[].concat(t[l.row][l.col])),s=[].concat(t[a.row][a.col]);return{technique:this.name,stepId:2,position:l,value:0,get description(){return g.language.getLangByID("WWingStrategy.colorMappingDes",{name:r.name,cellARow:l.row+1,cellACol:l.col+1,candAStr:u.join(","),cellBRow:a.row+1,cellBCol:a.col+1,candBStr:s.join(","),digit:i.digit})},highlights:[{position:l,backgroundColor:n.defaultCell.background,textColor:n.defaultCell.textColor,candidates:u},{position:a,backgroundColor:n.defaultCell.background,textColor:n.defaultCell.textColor,candidates:s}].concat(this.getAreaCells(i.areaType,i.areaIndex).map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}}))),highlightNotes:[].concat(u.map((function(e){return{position:l,backgroundColor:e===c?n.targetCell.background:n.hintCell.background,textColor:e===c?n.targetCell.textColor:n.hintCell.textColor,value:e}})),s.map((function(e){return{position:a,backgroundColor:e===c?n.targetCell.background:n.hintCell.background,textColor:e===c?n.targetCell.textColor:n.hintCell.textColor,value:e}})),this.getAreaCells(i.areaType,i.areaIndex).map((function(e){return{position:e,backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:i.digit}})))}},c.createMarkRemovalStep=function(e,t,o){var r=this,l=o.cellA,a=o.cellB,i=o.strongLink,c=o.valueToRemove,u=o.affectedCells,s=[].concat(t[l.row][l.col]),C=[].concat(t[a.row][a.col]);return{technique:this.name,stepId:3,position:l,value:0,get description(){return g.language.getLangByID("WWingStrategy.markRemovalDes",{name:r.name,cellARow:l.row+1,cellACol:l.col+1,cellBRow:a.row+1,cellBCol:a.col+1,digit:i.digit,valueToRemove:c,areaName:r.getAreaName(i.areaType)})},highlights:[{position:l,backgroundColor:n.defaultCell.background,textColor:n.defaultCell.textColor,candidates:s},{position:a,backgroundColor:n.defaultCell.background,textColor:n.defaultCell.textColor,candidates:C}].concat(this.getAreaCells(i.areaType,i.areaIndex).map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}})),u.map((function(e){return{position:e,backgroundColor:n.defaultCell.background,textColor:n.defaultCell.textColor,candidates:[].concat(t[e.row][e.col])}}))),highlightNotes:[].concat(s.map((function(e){return{position:l,backgroundColor:e===c?n.targetCell.background:n.hintCell.background,textColor:e===c?n.targetCell.textColor:n.hintCell.textColor,value:e}})),C.map((function(e){return{position:a,backgroundColor:e===c?n.targetCell.background:n.hintCell.background,textColor:e===c?n.targetCell.textColor:n.hintCell.textColor,value:e}})),this.getAreaCells(i.areaType,i.areaIndex).map((function(e){return{position:e,backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:i.digit}})),u.map((function(e){return{position:e,backgroundColor:n.hintRemoveCell.background,textColor:n.hintRemoveCell.textColor,value:c}})))}},c.executeRemovalStep=function(e,t,o){var r=this,l=o.cellA,a=o.cellB,i=o.strongLink,c=o.valueToRemove,u=o.affectedCells;u.forEach((function(e){t[e.row][e.col].delete(c)}));var s=[].concat(t[l.row][l.col]),C=[].concat(t[a.row][a.col]);return{technique:this.name,stepId:4,position:l,value:0,get description(){return g.language.getLangByID("WWingStrategy.removalDes",{name:r.name,valueToRemove:c})},highlights:[{position:l,backgroundColor:n.defaultCell.background,textColor:n.defaultCell.textColor,candidates:s},{position:a,backgroundColor:n.defaultCell.background,textColor:n.defaultCell.textColor,candidates:C}].concat(this.getAreaCells(i.areaType,i.areaIndex).map((function(e){return{position:e,backgroundColor:n.relatedArea.background,textColor:n.relatedArea.textColor,candidates:[].concat(t[e.row][e.col])}})),u.map((function(e){return{position:e,backgroundColor:n.defaultCell.background,textColor:n.defaultCell.textColor,candidates:[].concat(t[e.row][e.col])}}))),highlightNotes:[].concat(s.map((function(e){return{position:l,backgroundColor:e===c?n.targetCell.background:n.hintCell.background,textColor:e===c?n.targetCell.textColor:n.hintCell.textColor,value:e}})),C.map((function(e){return{position:a,backgroundColor:e===c?n.targetCell.background:n.hintCell.background,textColor:e===c?n.targetCell.textColor:n.hintCell.textColor,value:e}})),this.getAreaCells(i.areaType,i.areaIndex).map((function(e){return{position:e,backgroundColor:n.hintCell.background,textColor:n.hintCell.textColor,value:i.digit}})))}},c.getSharedVisibleCells=function(e,t,o){var r=this.getVisibleCells(e,o),l=this.getVisibleCells(t,o);return r.filter((function(e){return l.some((function(t){return e.row===t.row&&e.col===t.col}))}))},c.getVisibleCells=function(e,t){for(var o=[],r=0;r<9;r++)r!==e.col&&o.push({row:e.row,col:r});for(var l=0;l<9;l++)l!==e.row&&o.push({row:l,col:e.col});for(var n=3*Math.floor(e.row/3),a=3*Math.floor(e.col/3),i=0;i<3;i++)for(var c=0;c<3;c++){var u=n+i,g=a+c;u===e.row&&g===e.col||o.push({row:u,col:g})}return o},c.getBoxCells=function(e){for(var t=3*Math.floor(e/3),o=e%3*3,r=[],l=0;l<3;l++)for(var n=0;n<3;n++)r.push({row:t+l,col:o+n});return r},c.isSamePosition=function(e,t){return e.row===t.row&&e.col===t.col},c.getAreaCells=function(e,t){if(e===i.ROW)return Array.from({length:9},(function(e,o){return{row:t,col:o}}));if(e===i.COLUMN)return Array.from({length:9},(function(e,o){return{row:o,col:t}}));for(var o=3*Math.floor(t/3),r=t%3*3,l=[],n=0;n<3;n++)for(var a=0;a<3;a++)l.push({row:o+n,col:r+a});return l},c.areCellsVisible=function(e,t){return e.row===t.row||e.col===t.col||u.getBoxIndex(e.row,e.col)===u.getBoxIndex(t.row,t.col)},c.getAreaName=function(e){var t;return(t={},t[i.ROW]=g.language.getLangByID("strategy.row"),t[i.COLUMN]=g.language.getLangByID("strategy.col"),t[i.BOX]=g.language.getLangByID("strategy.box"),t)[e]},r(l,[{key:"name",get:function(){return g.language.getLangByID("WWingStrategy.name")}},{key:"description",get:function(){return g.language.getLangByID("WWingStrategy.description")}}]),l}(c));l._RF.pop()}}}));

System.register("chunks:///_virtual/WXYZWingStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(t){var o,e,n,r,i,l,a,c,g;return{setters:[function(t){o=t.inheritsLoose,e=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){i=t.HighlightConfig},function(t){l=t.BLANK_CHAR},function(t){a=t.BaseStrategy},function(t){c=t.SolverUtils},function(t){g=t.oops}],execute:function(){r._RF.push({},"d988dTJ4SdMnYLrOp/V21mu","WXYZWingStrategy",void 0);t("WXYZWingStrategy",function(t){function r(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).difficulty=15,o.usedColors=new Set,o.chainHighlightNotes=[],o}o(r,t);var a=r.prototype;return a.execute=function(t,o){var e=this.checkWXYZWing(t,o);return e?this.createWXYZWingSteps(t,o,e):null},a.checkWXYZWing=function(t,o){for(var n=[],r=[],i=0;i<9;i++)for(var a=0;a<9;a++)if(t[i][a]===l){var g=o[i][a].size;2===g?n.push({row:i,col:a}):4===g&&r.push({row:i,col:a})}for(var s=0,u=r;s<u.length;s++){var h=u[s];if(!(n.length<3))for(var d,C=e(c.getCombinations(n,3));!(d=C()).done;){var f=d.value,p=[f[0],f[1],f[2]],w=this.validateWXYZWingStructure(h,p,t,o);if(w)return w}}return null},a.validateWXYZWingStructure=function(t,o,e,n){var r=this,i=[].concat(n[t.row][t.col]),l=o.map((function(t){return[].concat(n[t.row][t.col])}));if(4!==i.length)return null;if(l.some((function(t){return 2!==t.length})))return null;var a=i.find((function(t){return l.every((function(o){return o.includes(t)}))}));if(!a)return null;var c=l.map((function(t){return t.find((function(t){return t!==a}))}));if(c.some((function(t){return void 0===t})))return null;var g=c,s=g[0],u=g[1],h=g[2];if(3!==new Set([s,u,h]).size)return null;var d=new Set([s,u,h,a]);if(4!==i.length||!i.every((function(t){return d.has(t)})))return null;if(!o.every((function(o){return r.areInSameUnit(t,o)})))return null;var C=this.getQuadSharedVisibleCells([t].concat(o),e).filter((function(e){return!r.isSameCell(e,t)&&!o.some((function(t){return r.isSameCell(e,t)}))&&n[e.row][e.col].has(a)}));return C.length>0?{pivot:t,wings:o,valueToRemove:a,affectedCells:C}:null},a.getQuadSharedVisibleCells=function(t,o){var e=this,n=t.map((function(t){return e.getVisibleCells(t,o)})).reduce((function(t,o){return t.filter((function(t){return o.some((function(o){return e.isSameCell(t,o)}))}))})),r=new Set;return n.filter((function(t){var o=t.row+","+t.col;return!r.has(o)&&(r.add(o),!0)}))},a.areInSameUnit=function(t,o){return t.row===o.row||t.col===o.col||Math.floor(t.row/3)===Math.floor(o.row/3)&&Math.floor(t.col/3)===Math.floor(o.col/3)},a.isSameCell=function(t,o){return t.row===o.row&&t.col===o.col},a.getVisibleCells=function(t,o){for(var e=[],n=0;n<9;n++)n!==t.col&&e.push({row:t.row,col:n});for(var r=0;r<9;r++)r!==t.row&&e.push({row:r,col:t.col});for(var i=3*Math.floor(t.row/3),l=3*Math.floor(t.col/3),a=0;a<3;a++)for(var c=0;c<3;c++){var g=i+a,s=l+c;g===t.row&&s===t.col||e.push({row:g,col:s})}return e},a.createWXYZWingSteps=function(t,o,e){return[this.createDiscoveryStep(t,o,e),this.createWingVisualizationStep(t,o,e),this.createEliminationStep(t,o,e),this.executeRemovalStep(t,o,e)]},a.createDiscoveryStep=function(t,o,e){var n=this,r=e.pivot,l=e.wings,a=(e.valueToRemove,e.affectedCells,[].concat(o[r.row][r.col])),c=[].concat(o[l[0].row][l[0].col]),s=[].concat(o[l[1].row][l[1].col]),u=[].concat(o[l[2].row][l[2].col]);return{technique:this.name,stepId:1,position:r,value:0,get description(){return g.language.getLangByID("WXYZWingStrategy.discoveryDes",{name:n.name,description:n.description})},highlights:[{position:r,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:a},{position:l[0],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:c},{position:l[1],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:s},{position:l[2],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:u}],highlightNotes:[].concat(this.getCandidateHighlights(r,o),this.getCandidateHighlights(l[0],o),this.getCandidateHighlights(l[1],o),this.getCandidateHighlights(l[2],o))}},a.getCandidateHighlights=function(t,o){return[].concat(o[t.row][t.col]).map((function(o){return{position:t,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:o}}))},a.createWingVisualizationStep=function(t,o,e){var n=this,r=e.pivot,l=e.wings,a=e.valueToRemove;this.resetColorHistory();var c=[].concat(o[r.row][r.col]),s=[].concat(o[l[0].row][l[0].col]),u=[].concat(o[l[1].row][l[1].col]),h=[].concat(o[l[2].row][l[2].col]),d=a;this.chainHighlightNotes=this.getWXYZWingHighlightNotes(r,l,o,d);return{technique:this.name,stepId:2,position:r,value:0,get description(){return g.language.getLangByID("WXYZWingStrategy.wingVisualizationDes",{name:n.name,pivot:"R"+(r.row+1)+"C"+(r.col+1),pivotCands:c.join(","),wing1:"R"+(l[0].row+1)+"C"+(l[0].col+1),wing1Cands:s.join(","),wing2:"R"+(l[1].row+1)+"C"+(l[1].col+1),wing2Cands:u.join(","),wing3:"R"+(l[2].row+1)+"C"+(l[2].col+1),wing3Cands:h.join(","),zValue:d})},highlights:[{position:r,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:c},{position:l[0],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:s},{position:l[1],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:u},{position:l[2],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:h}],highlightNotes:[].concat(this.chainHighlightNotes,l.map((function(t){return{position:t,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:a}})))}},a.createEliminationStep=function(t,o,e){var n=this,r=e.pivot,l=e.wings,a=e.valueToRemove,c=e.affectedCells,s=[].concat(o[r.row][r.col]),u=[].concat(o[l[0].row][l[0].col]),h=[].concat(o[l[1].row][l[1].col]),d=[].concat(o[l[2].row][l[2].col]);return{technique:this.name,stepId:3,position:r,value:0,get description(){return g.language.getLangByID("WXYZWingStrategy.eliminationDes",{name:n.name,affectedCellsLength:c.length,valueToRemove:a})},highlights:[{position:r,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:s},{position:l[0],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:u},{position:l[1],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:h},{position:l[2],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:d}].concat(c.map((function(t){return{position:t,backgroundColor:i.sameRelatedAreaCell.background,textColor:i.sameRelatedAreaCell.textColor,candidates:[].concat(o[t.row][t.col])}}))),highlightNotes:[].concat(this.chainHighlightNotes,c.map((function(t){return{position:t,backgroundColor:i.hintRemoveCell.background,textColor:i.hintRemoveCell.textColor,value:a}})))}},a.executeRemovalStep=function(t,o,e){var n=this,r=e.pivot,l=e.wings,a=e.valueToRemove,c=e.affectedCells;c.forEach((function(t){o[t.row][t.col].delete(a)}));var s=[].concat(o[r.row][r.col]),u=[].concat(o[l[0].row][l[0].col]),h=[].concat(o[l[1].row][l[1].col]),d=[].concat(o[l[2].row][l[2].col]);return{technique:this.name,stepId:4,position:r,value:0,get description(){return g.language.getLangByID("WXYZWingStrategy.removalDes",{name:n.name,affectedCellsLength:c.length,valueToRemove:a})},highlights:[{position:r,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:s},{position:l[0],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:u},{position:l[1],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:h},{position:l[2],backgroundColor:i.wingCell.background,textColor:i.wingCell.textColor,candidates:d}].concat(c.map((function(t){return{position:t,backgroundColor:i.sameRelatedAreaCell.background,textColor:i.sameRelatedAreaCell.textColor,candidates:[].concat(o[t.row][t.col])}}))),highlightNotes:[].concat(this.chainHighlightNotes)}},a.getWXYZWingHighlightNotes=function(t,o,e,n){var r=this,i=[],l=new Map,a=[].concat(e[t.row][t.col]);return a.forEach((function(t){l.has(t)||l.set(t,r.getHighlightNoteColor())})),this.addCellHighlightNotes(i,t,a,l),o.forEach((function(t){r.addCellHighlightNotes(i,t,[].concat(e[t.row][t.col]),l)})),i},a.addCellHighlightNotes=function(t,o,e,n){e.forEach((function(e){var r=n.get(e);r&&t.push({position:o,backgroundColor:r[0],textColor:r[1],value:e})}))},a.hexToRgb=function(t){return{r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)}},a.calculateContrastRatio=function(t,o){return(Math.max(t,o)/255+.05)/(Math.min(t,o)/255+.05)},a.hslToHex=function(t,o,e){e/=100,o/=100;var n=(1-Math.abs(2*e-1))*o,r=n*(1-Math.abs(t/60%2-1)),i=e-n/2,l=0,a=0,c=0;return t>=0&&t<60?(l=n,a=r,c=0):t>=60&&t<120?(l=r,a=n,c=0):t>=120&&t<180?(l=0,a=n,c=r):t>=180&&t<240?(l=0,a=r,c=n):t>=240&&t<300?(l=r,a=0,c=n):(l=n,a=0,c=r),l=Math.round(255*(l+i)),a=Math.round(255*(a+i)),c=Math.round(255*(c+i)),"#"+l.toString(16).padStart(2,"0")+a.toString(16).padStart(2,"0")+c.toString(16).padStart(2,"0")},a.getHighlightNoteColor=function(){for(var t=0;t<10;){var o=this.generateColorPair(),e=o[0],n=o[1];if(!this.usedColors.has(e))return this.usedColors.add(e),[e,n];t++}return["#FF0000","#FFFFFF"]},a.generateColorPair=function(){var t=137.508*this.usedColors.size%360,o=70+Math.floor(30*Math.random()),e=60+Math.floor(30*Math.random()),n=this.hslToHex(t,o,e),r=this.calculateBrightness(n),i=r<150?"#FFFFFF":"#000000";return this.calculateContrastRatio(r,"#FFFFFF"===i?255:0)<4.5?r<150?[n,"#FFFFFF"]:[n,"#000000"]:[n,i]},a.calculateBrightness=function(t){var o=this.hexToRgb(t);return(299*o.r+587*o.g+114*o.b)/1e3},a.resetColorHistory=function(){this.usedColors.clear()},n(r,[{key:"name",get:function(){return g.language.getLangByID("WXYZWingStrategy.name")}},{key:"description",get:function(){return g.language.getLangByID("WXYZWingStrategy.description")}}]),r}(a));r._RF.pop()}}}));

System.register("chunks:///_virtual/XWingStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(t){var e,o,n,r,a,l,i,c,u,g;return{setters:[function(t){e=t.inheritsLoose,o=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){a=t.HighlightConfig},function(t){l=t.HighlightAreaType,i=t.BLANK_CHAR},function(t){c=t.BaseStrategy},function(t){u=t.SolverUtils},function(t){g=t.oops}],execute:function(){r._RF.push({},"1c929KSTtFBL5NBK3lfUVng","XWingStrategy",void 0);t("XWingStrategy",function(t){function r(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).difficulty=10,e}e(r,t);var c=r.prototype;return c.execute=function(t,e){var o=this.checkXWing(t,e);return o?this.createXWingSteps(t,e,o):null},c.checkXWing=function(t,e){for(var n=1;n<=9;n++){for(var r=new Map,a=0;a<9;a++){for(var i=[],c=0;c<9;c++)e[a][c].has(n)&&i.push(c);if(2===i.length){var u=i.sort().join(",");r.set(u,(r.get(u)||[]).concat(a))}}for(var g,s,p=function(){var t=s.value,r=t[0],a=t[1];if(2===a.length){for(var i,c=r.split(",").map(Number),u=[],g=o(c);!(i=g()).done;)for(var p=i.value,f=0;f<9;f++)!a.includes(f)&&e[f][p].has(n)&&u.push({row:f,col:p});if(u.length>0){var d=a.flatMap((function(t){return c.map((function(e){return{row:t,col:e}}))}));return{v:{value:n,basePositions:d,affectedCells:u,direction:l.ROW,lines:[a[0],a[1]]}}}}},f=o(r.entries());!(s=f()).done;)if(g=p())return g.v}for(var d=1;d<=9;d++){for(var h=new Map,C=0;C<9;C++){for(var v=[],m=0;m<9;m++)e[m][C].has(d)&&v.push(m);if(2===v.length){var y=v.sort().join(",");h.set(y,(h.get(y)||[]).concat(C))}}for(var w,x,D=function(){var t=x.value,n=t[0],r=t[1];if(2===r.length){for(var a,i=n.split(",").map(Number),c=[],u=o(i);!(a=u()).done;)for(var g=a.value,s=0;s<9;s++)!r.includes(s)&&e[g][s].has(d)&&c.push({row:g,col:s});if(c.length>0){var p=r.flatMap((function(t){return i.map((function(e){return{row:e,col:t}}))}));return{v:{value:d,basePositions:p,affectedCells:c,direction:l.COLUMN,lines:[r[0],r[1]]}}}}},R=o(h.entries());!(x=R()).done;)if(w=D())return w.v}return null},c.createXWingSteps=function(t,e,o){var n=[],r=o.value,a=o.basePositions,l=o.affectedCells,i=o.direction;return n.push(this.createDiscoveryStep(t,e,r,a,l,i)),n.push(this.createRuleExplanationStep(t,e,r,a,l,i)),n.push(this.createImpactDemonstrationStep(t,e,r,a,l,i)),n.push(this.createRemovalExecutionStep(t,e,r,a,l,i)),n},c.createDiscoveryStep=function(t,e,o,n,r,c){var s=this;return{technique:this.name,stepId:1,position:n[0],value:0,get description(){return c===l.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),c!=l.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),g.language.getLangByID("XWingStrategy.discoveryDes",{name:s.name,description:s.description})},highlights:[].concat((c===l.ROW?n.map((function(t){return u.getRowCells(t.row)})):n.map((function(t){return u.getColumnCells(t.col)}))).flat().map((function(o){return{position:o,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[o.row][o.col]===i?[].concat(e[o.row][o.col]):void 0}})))}},c.createRuleExplanationStep=function(t,e,o,n,r,c){var s=this;return{technique:this.name,stepId:2,position:n[0],value:0,get description(){return t=c===l.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),e=c!=l.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),g.language.getLangByID("XWingStrategy.ruleExplanationDes",{name:s.name,value:o,directionName:t,lineType:e});var t,e},highlights:u.createDeduplicatedHighlights([(c===l.ROW?n.map((function(t){return u.getRowCells(t.row)})):n.map((function(t){return u.getColumnCells(t.col)}))).flat().map((function(o){return{position:o,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[o.row][o.col]===i?[].concat(e[o.row][o.col]):void 0}})),n.map((function(o){return{position:o,backgroundColor:a.targetCell.background,textColor:a.targetCell.textColor,candidates:t[o.row][o.col]===i?[].concat(e[o.row][o.col]):void 0}}))]),highlightNotes:[].concat(n.map((function(t){return{position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:o}})))}},c.createImpactDemonstrationStep=function(t,e,o,n,r,c){var s=this,p=(c===l.ROW?[].concat(new Set(n.map((function(t){return t.col})))):[].concat(new Set(n.map((function(t){return t.row}))))).flatMap((function(t){return c===l.ROW?u.getColumnCells(t):u.getRowCells(t)}));return{technique:this.name,stepId:3,position:n[0],value:0,get description(){return t=c===l.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),e=c!=l.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),g.language.getLangByID("XWingStrategy.impactDemonstrationDes",{name:s.name,value:o,directionName:t,lineType:e});var t,e},highlights:u.createDeduplicatedHighlights([(c===l.ROW?n.map((function(t){return u.getRowCells(t.row)})):n.map((function(t){return u.getColumnCells(t.col)}))).flat().map((function(o){return{position:o,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[o.row][o.col]===i?[].concat(e[o.row][o.col]):void 0}})),p.map((function(o){return{position:o,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[o.row][o.col]===i?[].concat(e[o.row][o.col]):void 0}})),n.map((function(o){return{position:o,backgroundColor:a.targetCell.background,textColor:a.targetCell.textColor,candidates:t[o.row][o.col]===i?[].concat(e[o.row][o.col]):void 0}}))]),highlightNotes:[].concat(n.map((function(t){return{position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:o}})),r.map((function(t){return{position:t,backgroundColor:a.hintRemoveCell.background,textColor:a.hintRemoveCell.textColor,value:o}})))}},c.createRemovalExecutionStep=function(t,e,o,n,r,c){var s=this;r.forEach((function(t){e[t.row][t.col].delete(o)}));var p=(c===l.ROW?[].concat(new Set(n.map((function(t){return t.col})))):[].concat(new Set(n.map((function(t){return t.row}))))).flatMap((function(t){return c===l.ROW?u.getColumnCells(t):u.getRowCells(t)}));return{technique:this.name,stepId:4,position:n[0],value:0,get description(){return t=c===l.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),c!=l.ROW?g.language.getLangByID("strategy.row"):g.language.getLangByID("strategy.col"),g.language.getLangByID("XWingStrategy.removalExecutionDes",{name:s.name,value:o,directionName:t});var t},highlights:u.createDeduplicatedHighlights([(c===l.ROW?n.map((function(t){return u.getRowCells(t.row)})):n.map((function(t){return u.getColumnCells(t.col)}))).flat().map((function(o){return{position:o,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[o.row][o.col]===i?[].concat(e[o.row][o.col]):void 0}})),p.map((function(o){return{position:o,backgroundColor:a.relatedArea.background,textColor:a.relatedArea.textColor,candidates:t[o.row][o.col]===i?[].concat(e[o.row][o.col]):void 0}})),n.map((function(o){return{position:o,backgroundColor:a.targetCell.background,textColor:a.targetCell.textColor,candidates:t[o.row][o.col]===i?[].concat(e[o.row][o.col]):void 0}}))]),highlightNotes:[].concat(n.map((function(t){return{position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:o}})))}},c.getAreaCells=function(t,e){if(t===l.ROW)return Array.from({length:9},(function(t,o){return{row:e,col:o}}));if(t===l.COLUMN)return Array.from({length:9},(function(t,o){return{row:o,col:e}}));for(var o=3*Math.floor(e/3),n=e%3*3,r=[],a=0;a<3;a++)for(var i=0;i<3;i++)r.push({row:o+a,col:n+i});return r},n(r,[{key:"name",get:function(){return g.language.getLangByID("XWingStrategy.name")}},{key:"description",get:function(){return g.language.getLangByID("XWingStrategy.description")}}]),r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/XXHash32.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"9d2f3/ui3tBeb4/3AAwV4sr","XXHash32",void 0);var e=new TextEncoder,a=16384,n=new ArrayBuffer(a),r=new Uint8Array(n),u=new DataView(n),h=function(t,i){return t<<i|t>>>32-i};t("XXHash32",(function(t,i){void 0===i&&(i=0);var l=Math.imul(t.length,3);l>a&&(a=1+(l-1|4095)|0,n=new ArrayBuffer(a),r=new Uint8Array(n),u=new DataView(n)),i|=0;var m=0|e.encodeInto(t,r).written,M=0,f=374761393+(i+m|0)|0;if(m<16)for(;(M+3|0)<m;M=M+4|0)f=Math.imul(h(f+Math.imul(u.getUint32(M,!0),3266489917)|0,17),668265263);else{for(var o=i+606290984|0,c=i+2246822519|0,s=i,w=i-2654435761|0;(M+15|0)<m;M=M+16|0)o=Math.imul(h(o+Math.imul(u.getUint32(M+0|0,!0),2246822519)|0,13),2654435761),c=Math.imul(h(c+Math.imul(u.getUint32(M+4|0,!0),2246822519)|0,13),2654435761),s=Math.imul(h(s+Math.imul(u.getUint32(M+8|0,!0),2246822519)|0,13),2654435761),w=Math.imul(h(w+Math.imul(u.getUint32(M+12|0,!0),2246822519)|0,13),2654435761);for(f=(((h(o,1)+h(c,7)|0)+h(s,12)|0)+h(w,18)|0)+m|0;(M+3|0)<m;M=M+4|0)f=Math.imul(h(f+Math.imul(u.getUint32(M,!0),3266489917)|0,17),668265263)}for(;M<m;M=M+1|0)f=Math.imul(h(f+Math.imul(u.getUint8(M),374761393)|0,11),2654435761);return f=Math.imul(f^f>>>15,2246822519),((f=Math.imul(f^f>>>13,3266489917))^f>>>16)>>>0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/XYChainStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(t){var e,o,n,r,a,i,l,c,u;return{setters:[function(t){e=t.inheritsLoose,o=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){a=t.HighlightConfig},function(t){i=t.BLANK_CHAR},function(t){l=t.BaseStrategy},function(t){c=t.SolverUtils},function(t){u=t.oops}],execute:function(){r._RF.push({},"45f94e80LpM2KocA3/BsIZV","XYChainStrategy",void 0);t("XYChainStrategy",function(t){function r(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).difficulty=19,e.usedColors=new Set,e.chainHighlightNotes=[],e}e(r,t);var l=r.prototype;return l.execute=function(t,e){var o=this.checkXYChain(t,e);return o?this.createXYChainSteps(t,e,o):null},l.checkXYChain=function(t,e){for(var n=[],r=0;r<9;r++)for(var a=0;a<9;a++)t[r][a]===i&&2===e[r][a].size&&n.push({row:r,col:a});for(var l=0,c=n;l<c.length;l++)for(var u,s=c[l],h=[].concat(e[s.row][s.col]),g=o(h);!(u=g()).done;){var C=u.value,d=this.buildChain(t,e,s,C,new Set([this.getCellKey(s)]),[s],C);if(d)return d}return null},l.buildChain=function(t,e,n,r,a,i,l){var c=this.getOtherCandidate(e[n.row][n.col],r);if(!c)return null;for(var u,s=this.getConnectingCells(t,e,n,c),h=o(s);!(u=h()).done;){var g=u.value,C=this.getCellKey(g);if(!a.has(C)){a.add(C),i.push(g);var d=this.validateXYChain(i,t,e,l);if(d.isValid)return{chain:[].concat(i),valueToRemove:d.targetValue,affectedCells:d.affectedCells};var f=this.buildChain(t,e,g,c,new Set(a),[].concat(i),l);if(f)return f;a.delete(C),i.pop()}}return null},l.validateXYChain=function(t,e,o,n){var r={isValid:!1,targetValue:0,affectedCells:[]};if(t.length<3)return r;var a=[t[0],t[t.length-1]],i=a[0],l=a[1],c=[].concat(o[i.row][i.col]);if(2!==c.length)return r;var u=c.find((function(t){return t!==n}));if(void 0===u)return r;for(var s=u,h=1;h<t.length;h++){var g=t[h],C=[].concat(o[g.row][g.col]);if(2!==C.length)return r;if(!C.includes(s))return r;var d=C.find((function(t){return t!==s}));if(void 0===d)return r;if(void 0===(s=d)||!s)return r}if(s!=n)return r;var f=this.getAffectedCells(i,l,n,e,o);return{isValid:f.length>0,targetValue:n,affectedCells:f}},l.getLinkCandidate=function(t,e,o){var n=o[t.row][t.col],r=o[e.row][e.col];return[].concat(n).find((function(t){return r.has(t)}))},l.getCellKey=function(t){return t.row+","+t.col},l.getOtherCandidate=function(t,e){for(var n,r=o(t);!(n=r()).done;){var a=n.value;if(a!==e)return a}return null},l.getConnectingCells=function(t,e,o,n){return this.getVisibleCells(o,t).filter((function(o){var r=e[o.row][o.col];return t[o.row][o.col]===i&&2===r.size&&r.has(n)}))},l.getAffectedCells=function(t,e,o,n,r){var a=this.getSharedVisibleCells(t,e,n),i=new Set(a.map((function(t){return t.row+","+t.col})));return Array.from(i).map((function(t){var e=t.split(",").map(Number);return{row:e[0],col:e[1]}})).filter((function(t){return r[t.row][t.col].has(o)}))},l.getSharedVisibleCells=function(t,e,o){var n=this.getVisibleCells(t,o),r=this.getVisibleCells(e,o);return n.filter((function(t){return r.some((function(e){return t.row===e.row&&t.col===e.col}))}))},l.getVisibleCells=function(t,e){for(var o=[],n=0;n<9;n++)n!==t.col&&o.push({row:t.row,col:n});for(var r=0;r<9;r++)r!==t.row&&o.push({row:r,col:t.col});for(var a=3*Math.floor(t.row/3),i=3*Math.floor(t.col/3),l=0;l<3;l++)for(var c=0;c<3;c++){var u=a+l,s=i+c;u===t.row&&s===t.col||o.push({row:u,col:s})}return o},l.createXYChainSteps=function(t,e,o){return[this.createDiscoveryStep(t,e,o),this.createChainVisualizationStep(t,e,o),this.createEliminationStep(t,e,o),this.executeRemovalStep(t,e,o)]},l.createDiscoveryStep=function(t,e,o){var n=this,r=o.chain,i=(o.valueToRemove,o.affectedCells,r[0]);r[r.length-1];return{technique:this.name,stepId:1,position:i,value:0,get description(){return u.language.getLangByID("XYChainStrategy.discoveryDes",{name:n.name,description:n.description})},highlights:[].concat(r.map((function(t,o){return{position:t,backgroundColor:a.targetCell.background,textColor:a.targetCell.textColor,candidates:[].concat(e[t.row][t.col])}}))),highlightNotes:[].concat(r.flatMap((function(t){return[].concat(e[t.row][t.col]).map((function(e){return{position:t,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:e}}))})))}},l.createChainVisualizationStep=function(t,e,o){var n=this,r=o.chain,i=o.valueToRemove,l=(o.affectedCells,r[0]),s=r[r.length-1];this.resetColorHistory(),this.chainHighlightNotes=this.getChainHighlightNotes(r,i,e);return{technique:this.name,stepId:2,position:l,value:0,get description(){return u.language.getLangByID("XYChainStrategy.chainVisualizationDes",{name:n.name,linkStart:"R"+(l.row+1)+"C"+(l.col+1),linkStartCandidates:""+[].concat(e[l.row][l.col]).join(", "),linkEnd:"R"+(s.row+1)+"C"+(s.col+1),linkEndCandidates:""+[].concat(e[s.row][s.col]).join(", "),linkPath:""+r.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(" → ")})},highlights:c.createDeduplicatedHighlights([r.map((function(t,o){return{position:t,backgroundColor:a.targetCell.background,textColor:a.targetCell.textColor,candidates:[].concat(e[t.row][t.col])}})),[{position:l,backgroundColor:a.xyChainStartCell.background,textColor:a.xyChainStartCell.textColor,candidates:[].concat(e[l.row][l.col])},{position:s,backgroundColor:a.xyChainEndCell.background,textColor:a.xyChainEndCell.textColor,candidates:[].concat(e[s.row][s.col])}]]),highlightNotes:this.chainHighlightNotes}},l.createEliminationStep=function(t,e,o){var n=this,r=o.chain,i=o.valueToRemove,l=o.affectedCells,s=r[0],h=r[r.length-1],g=this.getOtherCandidate(e[s.row][s.col],i);this.getOtherCandidate(e[h.row][h.col],i);return{technique:this.name,stepId:3,position:s,value:0,get description(){return u.language.getLangByID("XYChainStrategy.chainVisualizationDes",{name:n.name,valueToRemove:i,firstLink:String(g),linkStart:"R"+(s.row+1)+"C"+(s.col+1),linkEnd:"R"+(h.row+1)+"C"+(h.col+1),affectedCells:""+l.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(", "),linkEndCandidates:""+[].concat(e[h.row][h.col]).join(", "),linkPath:""+r.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(" → ")})},highlights:c.createDeduplicatedHighlights([r.map((function(t,o){return{position:t,backgroundColor:a.targetCell.background,textColor:a.targetCell.textColor,candidates:[].concat(e[t.row][t.col])}})),[{position:s,backgroundColor:a.xyChainStartCell.background,textColor:a.xyChainStartCell.textColor,candidates:[].concat(e[s.row][s.col])},{position:h,backgroundColor:a.xyChainEndCell.background,textColor:a.xyChainEndCell.textColor,candidates:[].concat(e[h.row][h.col])}],l.map((function(t){return{position:t,backgroundColor:a.sameRelatedAreaCell.background,textColor:a.sameRelatedAreaCell.textColor,candidates:[].concat(e[t.row][t.col])}}))]),highlightNotes:[].concat(this.chainHighlightNotes,l.map((function(t){return{position:t,backgroundColor:a.hintRemoveCell.background,textColor:a.hintRemoveCell.textColor,value:i}})))}},l.executeRemovalStep=function(t,e,o){var n=this,r=o.chain,i=o.valueToRemove,l=o.affectedCells;l.forEach((function(t){e[t.row][t.col].delete(i)}));var s=r[0],h=r[r.length-1];return{technique:this.name,stepId:4,position:s,value:0,get description(){return u.language.getLangByID("XYChainStrategy.removalDes",{name:n.name,valueToRemove:i,affectedCellsLength:l.length})},highlights:c.createDeduplicatedHighlights([r.map((function(t,o){return{position:t,backgroundColor:a.targetCell.background,textColor:a.targetCell.textColor,candidates:[].concat(e[t.row][t.col])}})),[{position:s,backgroundColor:a.xyChainStartCell.background,textColor:a.xyChainStartCell.textColor,candidates:[].concat(e[s.row][s.col])},{position:h,backgroundColor:a.xyChainEndCell.background,textColor:a.xyChainEndCell.textColor,candidates:[].concat(e[h.row][h.col])}],l.map((function(t){return{position:t,backgroundColor:a.sameRelatedAreaCell.background,textColor:a.sameRelatedAreaCell.textColor,candidates:[].concat(e[t.row][t.col])}}))]),highlightNotes:this.chainHighlightNotes}},l.getChainHighlightNotes=function(t,e,o){var n=[],r=[t[0],t[t.length-1]],i=r[0],l=r[1];n.push({position:i,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:e});for(var c=[].concat(o[i.row][i.col]).find((function(t){return t!==e})),u=0;u<t.length-1;u++){var s=t[u+1],h=[].concat(o[s.row][s.col]);if(c){var g=this.getHighlightNoteColor(),C=g[0],d=g[1];n.push({position:t[u],backgroundColor:C,textColor:d,value:c}),n.push({position:s,backgroundColor:C,textColor:d,value:c})}var f=h.find((function(t){return t!==c}));f&&(c=f)}return c&&n.push({position:l,backgroundColor:a.hintCell.background,textColor:a.hintCell.textColor,value:c}),n},l.hexToRgb=function(t){return{r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)}},l.calculateContrastRatio=function(t,e){return(Math.max(t,e)/255+.05)/(Math.min(t,e)/255+.05)},l.hslToHex=function(t,e,o){o/=100,e/=100;var n=(1-Math.abs(2*o-1))*e,r=n*(1-Math.abs(t/60%2-1)),a=o-n/2,i=0,l=0,c=0;return t>=0&&t<60?(i=n,l=r,c=0):t>=60&&t<120?(i=r,l=n,c=0):t>=120&&t<180?(i=0,l=n,c=r):t>=180&&t<240?(i=0,l=r,c=n):t>=240&&t<300?(i=r,l=0,c=n):(i=n,l=0,c=r),i=Math.round(255*(i+a)),l=Math.round(255*(l+a)),c=Math.round(255*(c+a)),"#"+i.toString(16).padStart(2,"0")+l.toString(16).padStart(2,"0")+c.toString(16).padStart(2,"0")},l.getHighlightNoteColor=function(){for(var t=0;t<10;){var e=this.generateColorPair(),o=e[0],n=e[1];if(!this.usedColors.has(o))return this.usedColors.add(o),[o,n];t++}return["#FF0000","#FFFFFF"]},l.generateColorPair=function(){var t=137.508*this.usedColors.size%360,e=70+Math.floor(30*Math.random()),o=60+Math.floor(30*Math.random()),n=this.hslToHex(t,e,o),r=this.calculateBrightness(n),a=r<150?"#FFFFFF":"#000000";return this.calculateContrastRatio(r,"#FFFFFF"===a?255:0)<4.5?r<150?[n,"#FFFFFF"]:[n,"#000000"]:[n,a]},l.calculateBrightness=function(t){var e=this.hexToRgb(t);return(299*e.r+587*e.g+114*e.b)/1e3},l.resetColorHistory=function(){this.usedColors.clear()},n(r,[{key:"name",get:function(){return u.language.getLangByID("XYChainStrategy.name")}},{key:"description",get:function(){return u.language.getLangByID("XYChainStrategy.description")}}]),r}(l));r._RF.pop()}}}));

System.register("chunks:///_virtual/XYWingStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(t){var e,o,n,r,i,a,l,c,u;return{setters:[function(t){e=t.inheritsLoose,o=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){i=t.HighlightConfig},function(t){a=t.BLANK_CHAR},function(t){l=t.BaseStrategy},function(t){c=t.SolverUtils},function(t){u=t.oops}],execute:function(){r._RF.push({},"b3f2btUQVVNyI6wNYqpwyqT","XYWingStrategy",void 0);t("XYWingStrategy",function(t){function r(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).difficulty=13,e.usedColors=new Set,e.chainHighlightNotes=[],e}e(r,t);var l=r.prototype;return l.execute=function(t,e){var o=this.checkXYWing(t,e);return o?this.createXYWingSteps(t,e,o):null},l.checkXYWing=function(t,e){for(var n=[],r=0;r<9;r++)for(var i=0;i<9;i++)t[r][i]===a&&2===e[r][i].size&&n.push({row:r,col:i});for(var l=0,c=n;l<c.length;l++)for(var u,s=c[l],g=[].concat(e[s.row][s.col]),h=o(g);!(u=h()).done;){var d=u.value,C=this.buildChain(t,e,s,d,new Set([this.getCellKey(s)]),[s],d);if(C)return C}return null},l.buildChain=function(t,e,n,r,i,a,l){var c=this.getOtherCandidate(e[n.row][n.col],r);if(!c)return null;for(var u,s=this.getConnectingCells(t,e,n,c),g=o(s);!(u=g()).done;){var h=u.value,d=this.getCellKey(h);if(!i.has(d)){i.add(d),a.push(h);var C=this.validateXYWing(a,t,e,l);if(C.isValid)return{chain:[].concat(a),valueToRemove:C.targetValue,affectedCells:C.affectedCells};var f=this.buildChain(t,e,h,c,new Set(i),[].concat(a),l);if(f)return f;i.delete(d),a.pop()}}return null},l.validateXYWing=function(t,e,o,n){var r={isValid:!1,targetValue:0,affectedCells:[]};if(3!=t.length)return r;var i=[t[0],t[t.length-1]],a=i[0],l=i[1],c=[].concat(o[a.row][a.col]);if(2!==c.length)return r;var u=c.find((function(t){return t!==n}));if(void 0===u)return r;for(var s=u,g=1;g<t.length;g++){var h=t[g],d=[].concat(o[h.row][h.col]);if(2!==d.length)return r;if(!d.includes(s))return r;var C=d.find((function(t){return t!==s}));if(void 0===C)return r;if(void 0===(s=C)||!s)return r}if(s!=n)return r;var f=this.getAffectedCells(a,l,n,e,o);return{isValid:f.length>0,targetValue:n,affectedCells:f}},l.getLinkCandidate=function(t,e,o){var n=o[t.row][t.col],r=o[e.row][e.col];return[].concat(n).find((function(t){return r.has(t)}))},l.getCellKey=function(t){return t.row+","+t.col},l.getOtherCandidate=function(t,e){for(var n,r=o(t);!(n=r()).done;){var i=n.value;if(i!==e)return i}return null},l.getConnectingCells=function(t,e,o,n){return this.getVisibleCells(o,t).filter((function(o){var r=e[o.row][o.col];return t[o.row][o.col]===a&&2===r.size&&r.has(n)}))},l.getAffectedCells=function(t,e,o,n,r){var i=this.getSharedVisibleCells(t,e,n),a=new Set(i.map((function(t){return t.row+","+t.col})));return Array.from(a).map((function(t){var e=t.split(",").map(Number);return{row:e[0],col:e[1]}})).filter((function(t){return r[t.row][t.col].has(o)}))},l.getSharedVisibleCells=function(t,e,o){var n=this.getVisibleCells(t,o),r=this.getVisibleCells(e,o);return n.filter((function(t){return r.some((function(e){return t.row===e.row&&t.col===e.col}))}))},l.getVisibleCells=function(t,e){for(var o=[],n=0;n<9;n++)n!==t.col&&o.push({row:t.row,col:n});for(var r=0;r<9;r++)r!==t.row&&o.push({row:r,col:t.col});for(var i=3*Math.floor(t.row/3),a=3*Math.floor(t.col/3),l=0;l<3;l++)for(var c=0;c<3;c++){var u=i+l,s=a+c;u===t.row&&s===t.col||o.push({row:u,col:s})}return o},l.createXYWingSteps=function(t,e,o){return[this.createDiscoveryStep(t,e,o),this.createChainVisualizationStep(t,e,o),this.createEliminationStep(t,e,o),this.executeRemovalStep(t,e,o)]},l.createDiscoveryStep=function(t,e,o){var n=this,r=o.chain,a=(o.valueToRemove,o.affectedCells,r[0]);r[r.length-1];return{technique:this.name,stepId:1,position:a,value:0,get description(){return u.language.getLangByID("XYWingStrategy.discoveryDes",{name:n.name,description:n.description})},highlights:[].concat(r.map((function(t,o){return{position:t,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:[].concat(e[t.row][t.col])}}))),highlightNotes:[].concat(r.flatMap((function(t){return[].concat(e[t.row][t.col]).map((function(e){return{position:t,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:e}}))})))}},l.createChainVisualizationStep=function(t,e,o){var n=this,r=o.chain,a=o.valueToRemove,l=(o.affectedCells,r[0]),s=r[r.length-1];this.resetColorHistory(),this.chainHighlightNotes=this.getChainHighlightNotes(r,a,e);return{technique:this.name,stepId:2,position:l,value:0,get description(){return u.language.getLangByID("XYWingStrategy.chainVisualizationDes",{name:n.name,linkStart:"R"+(l.row+1)+"C"+(l.col+1),linkStartCandidates:""+[].concat(e[l.row][l.col]).join(", "),linkEnd:"R"+(s.row+1)+"C"+(s.col+1),linkEndCandidates:""+[].concat(e[s.row][s.col]).join(", "),linkPath:""+r.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(" → ")})},highlights:c.createDeduplicatedHighlights([r.map((function(t,o){return{position:t,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:[].concat(e[t.row][t.col])}})),[{position:l,backgroundColor:i.xyChainStartCell.background,textColor:i.xyChainStartCell.textColor,candidates:[].concat(e[l.row][l.col])},{position:s,backgroundColor:i.xyChainEndCell.background,textColor:i.xyChainEndCell.textColor,candidates:[].concat(e[s.row][s.col])}]]),highlightNotes:this.chainHighlightNotes}},l.createEliminationStep=function(t,e,o){var n=this,r=o.chain,a=o.valueToRemove,l=o.affectedCells,s=r[0],g=r[r.length-1],h=this.getOtherCandidate(e[s.row][s.col],a);this.getOtherCandidate(e[g.row][g.col],a);return{technique:this.name,stepId:3,position:s,value:0,get description(){return u.language.getLangByID("XYWingStrategy.eliminationDes",{name:n.name,valueToRemove:a,firstLink:String(h),linkStart:"R"+(s.row+1)+"C"+(s.col+1),linkStartCandidates:""+[].concat(e[s.row][s.col]).join(", "),linkEnd:"R"+(g.row+1)+"C"+(g.col+1),affectedCells:""+l.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(", "),linkEndCandidates:""+[].concat(e[g.row][g.col]).join(", "),linkPath:""+r.map((function(t){return"R"+(t.row+1)+"C"+(t.col+1)})).join(" → ")})},highlights:c.createDeduplicatedHighlights([r.map((function(t,o){return{position:t,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:[].concat(e[t.row][t.col])}})),[{position:s,backgroundColor:i.xyChainStartCell.background,textColor:i.xyChainStartCell.textColor,candidates:[].concat(e[s.row][s.col])},{position:g,backgroundColor:i.xyChainEndCell.background,textColor:i.xyChainEndCell.textColor,candidates:[].concat(e[g.row][g.col])}],l.map((function(t){return{position:t,backgroundColor:i.sameRelatedAreaCell.background,textColor:i.sameRelatedAreaCell.textColor,candidates:[].concat(e[t.row][t.col])}}))]),highlightNotes:[].concat(this.chainHighlightNotes,l.map((function(t){return{position:t,backgroundColor:i.hintRemoveCell.background,textColor:i.hintRemoveCell.textColor,value:a}})))}},l.executeRemovalStep=function(t,e,o){var n=this,r=o.chain,a=o.valueToRemove,l=o.affectedCells;l.forEach((function(t){e[t.row][t.col].delete(a)}));var s=r[0],g=r[r.length-1];return{technique:this.name,stepId:4,position:s,value:0,get description(){return u.language.getLangByID("XYWingStrategy.removalDes",{name:n.name,valueToRemove:a,affectedCellsLength:l.length})},highlights:c.createDeduplicatedHighlights([r.map((function(t,o){return{position:t,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:[].concat(e[t.row][t.col])}})),[{position:s,backgroundColor:i.xyChainStartCell.background,textColor:i.xyChainStartCell.textColor,candidates:[].concat(e[s.row][s.col])},{position:g,backgroundColor:i.xyChainEndCell.background,textColor:i.xyChainEndCell.textColor,candidates:[].concat(e[g.row][g.col])}],l.map((function(t){return{position:t,backgroundColor:i.sameRelatedAreaCell.background,textColor:i.sameRelatedAreaCell.textColor,candidates:[].concat(e[t.row][t.col])}}))]),highlightNotes:this.chainHighlightNotes}},l.getChainHighlightNotes=function(t,e,o){var n=[],r=[t[0],t[t.length-1]],a=r[0],l=r[1];n.push({position:a,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:e});for(var c=[].concat(o[a.row][a.col]).find((function(t){return t!==e})),u=0;u<t.length-1;u++){var s=t[u+1],g=[].concat(o[s.row][s.col]);if(c){var h=this.getHighlightNoteColor(),d=h[0],C=h[1];n.push({position:t[u],backgroundColor:d,textColor:C,value:c}),n.push({position:s,backgroundColor:d,textColor:C,value:c})}var f=g.find((function(t){return t!==c}));f&&(c=f)}return c&&n.push({position:l,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:c}),n},l.hexToRgb=function(t){return{r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)}},l.calculateContrastRatio=function(t,e){return(Math.max(t,e)/255+.05)/(Math.min(t,e)/255+.05)},l.hslToHex=function(t,e,o){o/=100,e/=100;var n=(1-Math.abs(2*o-1))*e,r=n*(1-Math.abs(t/60%2-1)),i=o-n/2,a=0,l=0,c=0;return t>=0&&t<60?(a=n,l=r,c=0):t>=60&&t<120?(a=r,l=n,c=0):t>=120&&t<180?(a=0,l=n,c=r):t>=180&&t<240?(a=0,l=r,c=n):t>=240&&t<300?(a=r,l=0,c=n):(a=n,l=0,c=r),a=Math.round(255*(a+i)),l=Math.round(255*(l+i)),c=Math.round(255*(c+i)),"#"+a.toString(16).padStart(2,"0")+l.toString(16).padStart(2,"0")+c.toString(16).padStart(2,"0")},l.getHighlightNoteColor=function(){for(var t=0;t<10;){var e=this.generateColorPair(),o=e[0],n=e[1];if(!this.usedColors.has(o))return this.usedColors.add(o),[o,n];t++}return["#FF0000","#FFFFFF"]},l.generateColorPair=function(){var t=137.508*this.usedColors.size%360,e=70+Math.floor(30*Math.random()),o=60+Math.floor(30*Math.random()),n=this.hslToHex(t,e,o),r=this.calculateBrightness(n),i=r<150?"#FFFFFF":"#000000";return this.calculateContrastRatio(r,"#FFFFFF"===i?255:0)<4.5?r<150?[n,"#FFFFFF"]:[n,"#000000"]:[n,i]},l.calculateBrightness=function(t){var e=this.hexToRgb(t);return(299*e.r+587*e.g+114*e.b)/1e3},l.resetColorHistory=function(){this.usedColors.clear()},n(r,[{key:"name",get:function(){return u.language.getLangByID("XYWingStrategy.name")}},{key:"description",get:function(){return u.language.getLangByID("XYWingStrategy.description")}}]),r}(l));r._RF.pop()}}}));

System.register("chunks:///_virtual/XYZWingStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(t){var o,e,n,r,i,a,l,c,s;return{setters:[function(t){o=t.inheritsLoose,e=t.createForOfIteratorHelperLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){i=t.HighlightConfig},function(t){a=t.BLANK_CHAR},function(t){l=t.BaseStrategy},function(t){c=t.SolverUtils},function(t){s=t.oops}],execute:function(){r._RF.push({},"09320zMtJtB/55qd/K0OEV6","XYZWingStrategy",void 0);t("XYZWingStrategy",function(t){function r(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).difficulty=14,o.usedColors=new Set,o.chainHighlightNotes=[],o}o(r,t);var l=r.prototype;return l.execute=function(t,o){var e=this.checkXYZWing(t,o);return e?this.createXYZWingSteps(t,o,e):null},l.checkXYZWing=function(t,o){for(var n=[],r=[],i=0;i<9;i++)for(var l=0;l<9;l++)if(t[i][l]===a){var s=o[i][l].size;2===s?n.push({row:i,col:l}):3===s&&r.push({row:i,col:l})}for(var u=0,g=r;u<g.length;u++){var h=g[u];if(!(n.length<2))for(var d,C=e(c.getCombinations(n,2));!(d=C()).done;){var f=d.value,p=[h,f[0],f[1]],v=this.validateXYZWingStructure(p,t,o);if(v)return v}}return null},l.validateXYZWingStructure=function(t,o,e){var n=this,r=t.map((function(t){return e[t.row][t.col].size})),i=r.indexOf(3);if(-1===i||2!==r.filter((function(t){return 2===t})).length)return null;var a=t[i],l=t.filter((function(t,o){return o!==i})),c=[].concat(e[a.row][a.col]),s=[].concat(e[l[0].row][l[0].col]),u=[].concat(e[l[1].row][l[1].col]),g=c.find((function(t){return s.includes(t)&&u.includes(t)}));if(!g)return null;var h=s.find((function(t){return t!==g})),d=u.find((function(t){return t!==g}));if(!(h&&d&&c.includes(h)&&c.includes(d)&&h!==d))return null;var C=this.areInSameUnit(a,l[0]),f=this.areInSameUnit(a,l[1]);if(!C||!f)return null;var p=this.getSharedVisibleCells(a,l[0],l[1],o).filter((function(t){return!n.isSameCell(t,a)&&!n.isSameCell(t,l[0])&&!n.isSameCell(t,l[1])&&e[t.row][t.col].has(g)}));return 0===p.length?null:{pivot:a,wing1:l[0],wing2:l[1],valueToRemove:g,affectedCells:p}},l.areInSameUnit=function(t,o){return t.row===o.row||t.col===o.col||Math.floor(t.row/3)===Math.floor(o.row/3)&&Math.floor(t.col/3)===Math.floor(o.col/3)},l.isSameCell=function(t,o){return t.row===o.row&&t.col===o.col},l.getSharedVisibleCells=function(t,o,e,n){var r=this,i=this.getVisibleCells(t,n),a=this.getVisibleCells(o,n),l=this.getVisibleCells(e,n),c=new Set;return i.forEach((function(t){a.some((function(o){return r.isSameCell(t,o)}))&&l.some((function(o){return r.isSameCell(t,o)}))&&c.add(t.row+","+t.col)})),Array.from(c).map((function(t){var o=t.split(",").map(Number);return{row:o[0],col:o[1]}}))},l.getVisibleCells=function(t,o){for(var e=[],n=0;n<9;n++)n!==t.col&&e.push({row:t.row,col:n});for(var r=0;r<9;r++)r!==t.row&&e.push({row:r,col:t.col});for(var i=3*Math.floor(t.row/3),a=3*Math.floor(t.col/3),l=0;l<3;l++)for(var c=0;c<3;c++){var s=i+l,u=a+c;s===t.row&&u===t.col||e.push({row:s,col:u})}return e},l.createXYZWingSteps=function(t,o,e){return[this.createDiscoveryStep(t,o,e),this.createWingVisualizationStep(t,o,e),this.createEliminationStep(t,o,e),this.executeRemovalStep(t,o,e)]},l.createDiscoveryStep=function(t,o,e){var n=this,r=e.pivot,a=e.wing1,l=e.wing2;e.valueToRemove,e.affectedCells;return{technique:this.name,stepId:1,position:r,value:0,get description(){return s.language.getLangByID("XYZWingStrategy.discoveryDes",{name:n.name,description:n.description})},highlights:[{position:r,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:[].concat(o[r.row][r.col])},{position:a,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:[].concat(o[a.row][a.col])},{position:l,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:[].concat(o[l.row][l.col])}],highlightNotes:[].concat(this.getCandidateHighlights(r,o),this.getCandidateHighlights(a,o),this.getCandidateHighlights(l,o))}},l.getCandidateHighlights=function(t,o){return[].concat(o[t.row][t.col]).map((function(o){return{position:t,backgroundColor:i.hintCell.background,textColor:i.hintCell.textColor,value:o}}))},l.createWingVisualizationStep=function(t,o,e){var n=this;this.resetColorHistory();var r=e.pivot,a=e.wing1,l=e.wing2,c=e.valueToRemove,u=[].concat(o[r.row][r.col]),g=[].concat(o[a.row][a.col]),h=[].concat(o[l.row][l.col]);this.chainHighlightNotes=this.getXYZWingHighlightNotes(r,a,l,o,c);return{technique:this.name,stepId:2,position:r,value:0,get description(){return s.language.getLangByID("XYZWingStrategy.wingVisualizationDes",{name:n.name,pivot:"R"+(r.row+1)+"C"+(r.col+1),pivotCands:""+u.join(","),wing1:"R"+(a.row+1)+"C"+(a.col+1),wing1Cands:""+g.join(","),wing2:"R"+(l.row+1)+"C"+(l.col+1),wing2Cands:""+h.join(",")})},highlights:[{position:r,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:u},{position:a,backgroundColor:i.xyChainStartCell.background,textColor:i.xyChainStartCell.textColor,candidates:g},{position:l,backgroundColor:i.xyChainEndCell.background,textColor:i.xyChainEndCell.textColor,candidates:h}],highlightNotes:this.chainHighlightNotes}},l.createEliminationStep=function(t,o,e){var n=this,r=e.pivot,a=e.wing1,l=e.wing2,c=e.valueToRemove,u=e.affectedCells;return{technique:this.name,stepId:3,position:r,value:0,get description(){return s.language.getLangByID("XYZWingStrategy.eliminationDes",{name:n.name,valueToRemove:c})},highlights:[{position:r,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:[].concat(o[r.row][r.col])},{position:a,backgroundColor:i.xyChainStartCell.background,textColor:i.xyChainStartCell.textColor,candidates:[].concat(o[a.row][a.col])},{position:l,backgroundColor:i.xyChainEndCell.background,textColor:i.xyChainEndCell.textColor,candidates:[].concat(o[l.row][l.col])}].concat(u.map((function(t){return{position:t,backgroundColor:i.sameRelatedAreaCell.background,textColor:i.sameRelatedAreaCell.textColor,candidates:[].concat(o[t.row][t.col])}}))),highlightNotes:[].concat(this.chainHighlightNotes,u.map((function(t){return{position:t,backgroundColor:i.hintRemoveCell.background,textColor:i.hintRemoveCell.textColor,value:c}})))}},l.executeRemovalStep=function(t,o,e){var n=this,r=e.pivot,a=e.wing1,l=e.wing2,c=e.valueToRemove,u=e.affectedCells;u.forEach((function(t){o[t.row][t.col].delete(c)}));return{technique:this.name,stepId:4,position:r,value:0,get description(){return s.language.getLangByID("XYZWingStrategy.removalDes",{name:n.name,affectedCellsLength:u.length,valueToRemove:c})},highlights:[{position:r,backgroundColor:i.targetCell.background,textColor:i.targetCell.textColor,candidates:[].concat(o[r.row][r.col])},{position:a,backgroundColor:i.xyChainStartCell.background,textColor:i.xyChainStartCell.textColor,candidates:[].concat(o[a.row][a.col])},{position:l,backgroundColor:i.xyChainEndCell.background,textColor:i.xyChainEndCell.textColor,candidates:[].concat(o[l.row][l.col])}].concat(u.map((function(t){return{position:t,backgroundColor:i.sameRelatedAreaCell.background,textColor:i.sameRelatedAreaCell.textColor,candidates:[].concat(o[t.row][t.col])}}))),highlightNotes:[].concat(this.chainHighlightNotes)}},l.getXYZWingHighlightNotes=function(t,o,e,n,r){var i=[],a=[].concat(n[t.row][t.col]),l=[].concat(n[o.row][o.col]),c=[].concat(n[e.row][e.col]),s=r,u=l.find((function(t){return t!==s})),g=c.find((function(t){return t!==s})),h=this.createCandidateColorMap([u,g,s].filter(Boolean));return this.addCellHighlightNotes(i,t,a,h),this.addCellHighlightNotes(i,o,l,h),this.addCellHighlightNotes(i,e,c,h),i},l.createCandidateColorMap=function(t){var o=this,e=new Map;return t.forEach((function(t){e.has(t)||e.set(t,o.getHighlightNoteColor())})),e},l.addCellHighlightNotes=function(t,o,e,n){e.forEach((function(e){var r=n.get(e);r&&t.push({position:o,backgroundColor:r[0],textColor:r[1],value:e})}))},l.hexToRgb=function(t){return{r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16)}},l.calculateContrastRatio=function(t,o){return(Math.max(t,o)/255+.05)/(Math.min(t,o)/255+.05)},l.hslToHex=function(t,o,e){e/=100,o/=100;var n=(1-Math.abs(2*e-1))*o,r=n*(1-Math.abs(t/60%2-1)),i=e-n/2,a=0,l=0,c=0;return t>=0&&t<60?(a=n,l=r,c=0):t>=60&&t<120?(a=r,l=n,c=0):t>=120&&t<180?(a=0,l=n,c=r):t>=180&&t<240?(a=0,l=r,c=n):t>=240&&t<300?(a=r,l=0,c=n):(a=n,l=0,c=r),a=Math.round(255*(a+i)),l=Math.round(255*(l+i)),c=Math.round(255*(c+i)),"#"+a.toString(16).padStart(2,"0")+l.toString(16).padStart(2,"0")+c.toString(16).padStart(2,"0")},l.getHighlightNoteColor=function(){for(var t=0;t<10;){var o=this.generateColorPair(),e=o[0],n=o[1];if(!this.usedColors.has(e))return this.usedColors.add(e),[e,n];t++}return["#FF0000","#FFFFFF"]},l.generateColorPair=function(){var t=137.508*this.usedColors.size%360,o=70+Math.floor(30*Math.random()),e=60+Math.floor(30*Math.random()),n=this.hslToHex(t,o,e),r=this.calculateBrightness(n),i=r<150?"#FFFFFF":"#000000";return this.calculateContrastRatio(r,"#FFFFFF"===i?255:0)<4.5?r<150?[n,"#FFFFFF"]:[n,"#000000"]:[n,i]},l.calculateBrightness=function(t){var o=this.hexToRgb(t);return(299*o.r+587*o.g+114*o.b)/1e3},l.resetColorHistory=function(){this.usedColors.clear()},n(r,[{key:"name",get:function(){return s.language.getLangByID("XYZWingStrategy.name")}},{key:"description",get:function(){return s.language.getLangByID("XYZWingStrategy.description")}}]),r}(l));r._RF.pop()}}}));

System.register("chunks:///_virtual/YWingStrategy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HintConfig.ts","./SolveTypes.ts","./BaseStrategy.ts","./SolverUtils.ts","./Oops.ts"],(function(o){var t,e,n,r,l,i,a,c,u;return{setters:[function(o){t=o.inheritsLoose,e=o.createForOfIteratorHelperLoose,n=o.createClass},function(o){r=o.cclegacy},function(o){l=o.HighlightConfig},function(o){i=o.BLANK_CHAR},function(o){a=o.BaseStrategy},function(o){c=o.SolverUtils},function(o){u=o.oops}],execute:function(){r._RF.push({},"7b62b3Uf9NM/Kzg+hfQ/BNV","YWingStrategy",void 0);o("YWingStrategy",function(o){function r(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))||this).difficulty=11,t}t(r,o);var a=r.prototype;return a.execute=function(o,t){var e=this.checkYWing(o,t);return e?this.createYWingSteps(o,t,e):null},a.checkYWing=function(o,t){for(var n=[],r=0;r<9;r++)for(var l=0;l<9;l++)o[r][l]===i&&2===t[r][l].size&&n.push({row:r,col:l});console.log("biValueCells->",c.getCombinations(n,3));for(var a,u=e(c.getCombinations(n,3));!(a=u()).done;){var s=a.value,g=s[0],C=s[1],d=s[2],p=this.detectYWingStructure(g,C,d,o,t);if(p)return p}return null},a.detectYWingStructure=function(o,t,e,n,r){var l=[o,t,e],i=[[].concat(r[o.row][o.col]).sort((function(o,t){return o-t})),[].concat(r[t.row][t.col]).sort((function(o,t){return o-t})),[].concat(r[e.row][e.col]).sort((function(o,t){return o-t}))],a=i[0],c=i[1],u=i[2];0===o.row&&1===o.col&&1===t.row&&2===t.col&&8===e.row&&1===e.col&&console.log("1");var s=[].concat(new Set([].concat(a,c,u)));if(3!==s.length)return null;for(var g=new Map,C=0,d=[].concat(a,c,u);C<d.length;C++){var p=d[C];g.set(p,(g.get(p)||0)+1)}if(![].concat(g.values()).every((function(o){return 2===o})))return null;var f=[a,c,u].findIndex((function(o){return 2===o.length&&[a,c,u].filter((function(t,e){return e!==[a,c,u].indexOf(o)})).every((function(t){return t.some((function(t){return o.includes(t)}))}))}));if(-1===f)return null;var h=l[f],w=l.filter((function(o,t){return t!==f}));if(!this.validateYWingPosition(h,w))return null;var b=r[h.row][h.col],x=w[0],k=w[1],v=r[x.row][x.col],y=r[k.row][k.col],m=s.find((function(o){return!b.has(o)&&v.has(o)&&y.has(o)})),_=this.getSharedVisibleCells(x,k,n).filter((function(o){return r[o.row][o.col].has(m)}));return _.length>0?{pivot:h,wings:w,valueToRemove:m,affectedCells:_}:null},a.validateYWingPosition=function(o,t){var e=t[0],n=t[1],r=function(o,t){return o.row===t.row||o.col===t.col||c.getBoxIndex(o.row,o.col)===c.getBoxIndex(t.row,t.col)};return r(o,e)&&r(o,n)&&!r(e,n)},a.getSharedVisibleCells=function(o,t,e){var n=this.getVisibleCells(o,e),r=this.getVisibleCells(t,e);return n.filter((function(o){return r.some((function(t){return o.row===t.row&&o.col===t.col}))}))},a.createYWingSteps=function(o,t,e){return[this.createDiscoveryStep(o,t,e),this.createColorMappingStep(o,t,e),this.createMarkRemovalStep(o,t,e),this.executeRemovalStep(o,t,e)]},a.createDiscoveryStep=function(o,t,e){var n=this,r=e.pivot,i=e.wings,a=(e.valueToRemove,i[0]),s=i[1],g=[].concat(t[r.row][r.col]),C=[].concat(t[a.row][a.col]),d=[].concat(t[s.row][s.col]),p=this.getVisibleCells(r,o),f=this.getVisibleCells(a,o),h=this.getVisibleCells(s,o);return{technique:this.name,stepId:1,position:r,value:0,get description(){return u.language.getLangByID("YWingStrategy.discoveryDes",{name:n.name,description:n.description})},highlights:c.createDeduplicatedHighlights([p.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),f.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),h.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),[{position:r,backgroundColor:l.y_wingABCell.background,textColor:l.y_wingABCell.textColor,candidates:g}],[{position:a,backgroundColor:l.y_wingACCell.background,textColor:l.y_wingACCell.textColor,candidates:C}],[{position:s,backgroundColor:l.y_wingBCCell.background,textColor:l.y_wingBCCell.textColor,candidates:d}]]),highlightNotes:[].concat(g.map((function(o){return{position:r,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:o}})),C.map((function(o){return{position:i[0],backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:o}})),d.map((function(o){return{position:i[1],backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:o}})))}},a.createColorMappingStep=function(o,t,e){var n=this,r=e.pivot,i=e.wings,a=(e.valueToRemove,e.affectedCells,i[0]),s=i[1],g=[].concat(t[r.row][r.col]),C=[].concat(t[a.row][a.col]),d=[].concat(t[s.row][s.col]),p=this.getIntersectionCells(r,a,o),f=this.getIntersectionCells(r,s,o),h=this.getIntersectionCells(a,s,o),w=(this.getTripleIntersection(r,a,s,o),this.getVisibleCells(r,o)),b=this.getVisibleCells(a,o),x=this.getVisibleCells(s,o);return{technique:this.name,stepId:2,position:r,value:0,get description(){return u.language.getLangByID("YWingStrategy.colorMappingDes",{name:n.name,pivotRow:r.row+1,pivotCol:r.col+1,pivotCandsStr:g.join(","),wings0Row:i[0].row+1,wings0Col:i[0].col+1,wing1CandsStr:C.join(","),wings1Row:i[1].row+1,wings1Col:i[1].col+1,wing2CandsStr:d.join(",")})},highlights:c.createDeduplicatedHighlights([w.map((function(o){return{position:o,backgroundColor:l.y_wingABCell.background,textColor:l.y_wingABCell.textColor,candidates:[].concat(t[o.row][o.col])}})),b.map((function(o){return{position:o,backgroundColor:l.y_wingACCell.background,textColor:l.y_wingACCell.textColor,candidates:[].concat(t[o.row][o.col])}})),x.map((function(o){return{position:o,backgroundColor:l.y_wingBCCell.background,textColor:l.y_wingBCCell.textColor,candidates:[].concat(t[o.row][o.col])}})),p.map((function(o){return{position:o,backgroundColor:l.y_wingAB_X_ACCell.background,textColor:l.y_wingAB_X_ACCell.textColor,candidates:[].concat(t[o.row][o.col])}})),f.map((function(o){return{position:o,backgroundColor:l.y_wingAB_X_BCCell.background,textColor:l.y_wingAB_X_BCCell.textColor,candidates:[].concat(t[o.row][o.col])}})),h.map((function(o){return{position:o,backgroundColor:l.y_wingBC_X_ACCell.background,textColor:l.y_wingBC_X_ACCell.textColor,candidates:[].concat(t[o.row][o.col])}})),[{position:r,backgroundColor:l.y_wingABCell.background,textColor:l.y_wingABCell.textColor,candidates:g}],[{position:a,backgroundColor:l.y_wingACCell.background,textColor:l.y_wingACCell.textColor,candidates:C}],[{position:s,backgroundColor:l.y_wingBCCell.background,textColor:l.y_wingBCCell.textColor,candidates:d}]]),highlightNotes:[].concat(g.map((function(o){return{position:r,backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:o}})),C.map((function(o){return{position:i[0],backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:o}})),d.map((function(o){return{position:i[1],backgroundColor:l.hintCell.background,textColor:l.hintCell.textColor,value:o}})))}},a.createMarkRemovalStep=function(o,t,e){var n=this,r=e.pivot,i=e.wings,a=e.valueToRemove,s=e.affectedCells,g=i[0],C=i[1],d=[].concat(t[r.row][r.col]),p=[].concat(t[g.row][g.col]),f=[].concat(t[C.row][C.col]),h=this.getIntersectionCells(r,g,o),w=this.getIntersectionCells(r,C,o),b=this.getIntersectionCells(g,C,o),x=(this.getTripleIntersection(r,g,C,o),this.getVisibleCells(r,o)),k=this.getVisibleCells(g,o),v=this.getVisibleCells(C,o);return{technique:this.name,stepId:3,position:r,value:0,get description(){return u.language.getLangByID("YWingStrategy.markRemovalDes",{name:n.name,valueToRemove:a})},highlights:c.createDeduplicatedHighlights([x.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),k.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),v.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),h.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),w.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),b.map((function(o){return{position:o,backgroundColor:l.y_wingBC_X_ACCell.background,textColor:l.y_wingBC_X_ACCell.textColor,candidates:[].concat(t[o.row][o.col])}})),[{position:r,backgroundColor:l.y_wingABCell.background,textColor:l.y_wingABCell.textColor,candidates:d}],[{position:g,backgroundColor:l.y_wingACCell.background,textColor:l.y_wingACCell.textColor,candidates:p}],[{position:C,backgroundColor:l.y_wingBCCell.background,textColor:l.y_wingBCCell.textColor,candidates:f}]]),highlightNotes:[].concat(p.filter((function(o){return o===a})).map((function(o){return{position:i[0],backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,value:o}})),f.filter((function(o){return o===a})).map((function(o){return{position:i[1],backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,value:o}})),s.map((function(o){return{position:o,backgroundColor:l.hintRemoveCell.background,textColor:l.hintRemoveCell.textColor,value:a}})))}},a.executeRemovalStep=function(o,t,e){var n=this,r=e.pivot,i=e.wings,a=e.valueToRemove;e.affectedCells.forEach((function(o){t[o.row][o.col].delete(a)}));var s=i[0],g=i[1],C=[].concat(t[r.row][r.col]),d=[].concat(t[s.row][s.col]),p=[].concat(t[g.row][g.col]),f=this.getIntersectionCells(r,s,o),h=this.getIntersectionCells(r,g,o),w=this.getIntersectionCells(s,g,o),b=(this.getTripleIntersection(r,s,g,o),this.getVisibleCells(r,o)),x=this.getVisibleCells(s,o),k=this.getVisibleCells(g,o);return{technique:this.name,stepId:4,position:r,value:0,get description(){return u.language.getLangByID("YWingStrategy.removalDes",{name:n.name,valueToRemove:a})},highlights:c.createDeduplicatedHighlights([b.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),x.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),k.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),f.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),h.map((function(o){return{position:o,backgroundColor:l.relatedArea.background,textColor:l.relatedArea.textColor,candidates:[].concat(t[o.row][o.col])}})),w.map((function(o){return{position:o,backgroundColor:l.y_wingBC_X_ACCell.background,textColor:l.y_wingBC_X_ACCell.textColor,candidates:[].concat(t[o.row][o.col])}})),[{position:r,backgroundColor:l.y_wingABCell.background,textColor:l.y_wingABCell.textColor,candidates:C}],[{position:s,backgroundColor:l.y_wingACCell.background,textColor:l.y_wingACCell.textColor,candidates:d}],[{position:g,backgroundColor:l.y_wingBCCell.background,textColor:l.y_wingBCCell.textColor,candidates:p}]]),highlightNotes:[].concat(d.filter((function(o){return o===a})).map((function(o){return{position:i[0],backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,value:o}})),p.filter((function(o){return o===a})).map((function(o){return{position:i[1],backgroundColor:l.targetCell.background,textColor:l.targetCell.textColor,value:o}})))}},a.getIntersectionCells=function(o,t,e){var n=this.getVisibleCells(o,e),r=this.getVisibleCells(t,e);return n.filter((function(o){return r.some((function(t){return o.row===t.row&&o.col===t.col}))}))},a.getVisibleCells=function(o,t){for(var e=[],n=0;n<9;n++)n!==o.col&&e.push({row:o.row,col:n});for(var r=0;r<9;r++)r!==o.row&&e.push({row:r,col:o.col});for(var l=3*Math.floor(o.row/3),i=3*Math.floor(o.col/3),a=0;a<3;a++)for(var c=0;c<3;c++){var u=l+a,s=i+c;u===o.row&&s===o.col||e.push({row:u,col:s})}return e},a.getTripleIntersection=function(o,t,e,n){var r=this.getIntersectionCells(o,t,n),l=this.getIntersectionCells(o,e,n);return r.filter((function(o){return l.some((function(t){return o.row===t.row&&o.col===t.col}))}))},n(r,[{key:"name",get:function(){return u.language.getLangByID("YWingStrategy.name")}},{key:"description",get:function(){return u.language.getLangByID("YWingStrategy.description")}}]),r}(a));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});